"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["lazy-react-partial-actions-survey","lazy-react-partial-configure-mcp-server-partial","lazy-react-partial-single-sign-on-dropdown-partial","packages_copilot-chat_components_Chat_tsx-packages_icon-button-with-tooltip_IconButtonWithToo-307184"],{77939:(e,t,n)=>{n.d(t,{A:()=>a});let a={messageContainer:"ChatMessage-module__messageContainer--P78Nq","message-action":"ChatMessage-module__message-action--vjrqQ",user:"ChatMessage-module__user--UGo2h",ai:"ChatMessage-module__ai--zMYOs",contentContainer:"ChatMessage-module__contentContainer--XTssz",message:"ChatMessage-module__message--iDqZL",messageContent:"ChatMessage-module__messageContent--x5cFE",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--UEFyq",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--GTuSs",skillExecutionText:"ChatMessage-module__skillExecutionText--HOEoJ",fileListItem:"ChatMessage-module__fileListItem--hX_vZ",avatar:"ChatMessage-module__avatar--ublrF",clientConfirmationContainer:"ChatMessage-module__clientConfirmationContainer--LgTin",confirmationStatusText:"ChatMessage-module__confirmationStatusText--pUhyM",messageContentWrapper:"ChatMessage-module__messageContentWrapper--L96Ez","snippet-clipboard-content":"ChatMessage-module__snippet-clipboard-content--gS3Lo",messageActionsContainer:"ChatMessage-module__messageActionsContainer--WIjsz"}},6224:(e,t,n)=>{n.d(t,{A:()=>a});let a={container:"UserMessage-module__container--qQMdD",mention:"UserMessage-module__mention--iKJnY"}},62227:(e,t,n)=>{n.d(t,{A:()=>a});let a={Box:"SingleSignOnBanner-module__Box--jDDJV",Flash:"SingleSignOnBanner-module__Flash--OYpTa",Box_1:"SingleSignOnBanner-module__Box_1--f7GQK",Octicon:"SingleSignOnBanner-module__Octicon--Mg3jx",Box_2:"SingleSignOnBanner-module__Box_2--Se3Ze",ForceWrap:"SingleSignOnBanner-module__ForceWrap--Vz1Sn",Paragraph:"SingleSignOnBanner-module__Paragraph--jaDvQ",ProtectedOrgs_FullList:"SingleSignOnBanner-module__ProtectedOrgs_FullList--siZfg",ProtectedOrgs_Shortened:"SingleSignOnBanner-module__ProtectedOrgs_Shortened--G8LoG",ShieldLockIcon:"SingleSignOnBanner-module__ShieldLockIcon--k2b_L"}},6665:(e,t,n)=>{n.d(t,{T:()=>d});var a=n(78314),r=n(25407),i=n(91747),o=n(30459),s=n(96379),l=n(96540),c=n(35898);function d(){let{sendAnalyticsEvent:e}=(0,o.s)(),t=function(){let e=function(){let e=(0,a.t)(),t=(0,c.i)();return(0,l.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,a.t)(),n=(0,r.yH8)(r.tTz,{owner:t.ownerLogin,repo:t.name});return(0,l.useCallback)((t,a,r)=>{let i={target:t,interaction:a,context:r,...e,...{url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")}};(0,s.lS)(n,{method:"POST",body:i})},[e,n])}(),n=(0,i.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,l.useCallback)((a,r={})=>{e("repository.click",a,r),n&&t(a,"click",r)},[e,t,n]),sendRepoKeyDownEvent:(0,l.useCallback)((a,r={})=>{e("repository.keydown",a,r),n&&t(a,"keydown",r)},[e,t,n]),sendStats:(0,l.useCallback)((a,r={})=>{e(a,"",r),n&&t(a,"stats",r)},[e,t,n]),sendMarketplaceActionEvent:(0,l.useCallback)((t,n={})=>{e("marketplace.action.click",t,n)},[e])}}},54030:(e,t,n)=>{n.d(t,{o:()=>u});var a=n(5225),r=n(78314),i=n(25407),o=n(96379),s=n(96540);async function l(e){let t=await (0,o.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,a.A)(l,{cache:c});function u(e,t,n){let a=(0,r.t)(),[o,l]=(0,s.useState)({list:[],directories:[],loading:!0}),c=(0,i.ClY)({repo:a,commitOid:e,includeDirectories:!n});return(0,s.useEffect)(()=>{let e=!1,n=async()=>{l({list:[],directories:[],loading:!0});let t=await d(c);if(e)return;let n=t?.paths||[],a=t?.directories||[];l({list:n.concat(a).sort(),directories:a,error:!t})};return t&&n(),function(){e=!0}},[c,t,n]),o}},19189:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(53552),r=n(78314),i=n(25407),o=n(54571),s=n(96540);function l(){let e=(0,r.t)(),{path:t,action:n,refInfo:l}=(0,a.eu)(),[c]=(0,o.I)(()=>!1,!0,[]);function d(e){return e?`?${e}`:""}function u(e){return c?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:s.useCallback(t=>(0,i.IO9)({repo:e,commitish:l.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,l.name]),getUrl(a={}){let r=(0,i.IO9)({repo:e,commitish:a.commitish||l.name,action:a.action||n,path:a.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(a);return a.absolute?new URL(r,window.location.origin).href:r},createPermalink(a={}){let r=(0,i.IO9)({repo:e,commitish:l.currentOid,action:a.action||n,path:a.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(a);return a.absolute?new URL(r,window.location.origin).href:r},isCurrentPagePermalink:()=>!c&&l.name===l.currentOid&&window.location.pathname.includes(l.currentOid)}}},7808:(e,t,n)=>{n.d(t,{z:()=>WebWorker});var a=n(35750),r=n(18150),i=n(85242),o=n(50467);let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,o._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};var s=new WeakMap,l=new WeakMap;let MainThreadWorker=class MainThreadWorker{async postMessage(e){if((0,a._)(this,s))return;let t={data:(0,a._)(this,l).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,i._)(this,s,!0)}constructor(e){(0,r._)(this,s,{writable:!0,value:!1}),(0,o._)(this,"onmessage",void 0),(0,r._)(this,l,{writable:!0,value:void 0}),(0,i._)(this,l,e)}}},64642:(e,t,n)=>{n.d(t,{j:()=>o});var a=n(5225),r=n(91385);let i=(0,a.A)(r.fN);function o({data:e}){let{query:t,baseList:n,startTime:a}=e,o=t.replaceAll("\\","");return{query:t,list:n.filter(e=>{var t,n;return t=e,""===(n=o)||(0,r.qA)(n,t)&&i(n,t)>0}).sort((e,t)=>i(o,t)-i(o,e)),baseCount:n.length,startTime:a}}},27359:(e,t,n)=>{n.d(t,{v:()=>c});var a=n(21728),r=n(85788),i=n(40396),o=n(47789),s=n(35247),l=n(2635);function c(){let e=(0,a.c)(6),t=(0,o.qw)(),n=(0,l.A3)("activePlugin"),c=(0,r.zy)();if(s.W.improvedNavigation){let n;return e[0]!==c||e[1]!==t?(n=(0,i.B)(c,t),e[0]=c,e[1]=t,e[2]=n):n=e[2],n}{let a;return e[3]!==n||e[4]!==t?(a=n?t.find(e=>e.id===n):void 0,e[3]=n,e[4]=t,e[5]=a):a=e[5],a}}},52940:(e,t,n)=>{n.d(t,{p:()=>p});var a=n(4559),r=n(53419),i=n(96540),o=n(46665),s=n(25641),l=n(2635),c=n(33592),d=n(72303),u=n(72206),m=n(17285),h=n(27359);function p({excludeFeedback:e,inputRef:t,isLatestMessage:n,isStreaming:p,removeOutdatedContentPreviewItems:g}){let{message:f}=(0,o.V)(),y=(0,l.bP)("currentUserLogin","mode"),x=(0,u.tD)(),_=(0,c.b)(),v=(0,h.v)(),b=(0,s.Th)(f,y.currentUserLogin),C="Copilot"===b.name,j="user"===b.type,S=C||(0,s.yh)(b),w=C&&!!f.agentErrors?.length,N=!w&&!!C&&!!f.error&&f.error.isError,I=C&&!e&&(!n||!p)&&!N,T=(0,i.useRef)(null),k=f.interrupted,R=f.clientConfirmations&&f.clientConfirmations.length>0,A=N&&f.error?.retryable,[E,L]=(0,i.useState)([]),[M,P]=(0,i.useState)(void 0),F=(A||k)&&n,D=(0,i.useMemo)(()=>({openLinksInCurrentTab:"assistive"===y.mode,isStreaming:n&&p,extensions:v?.markdownExtensions?v.markdownExtensions.map(e=>e()):[]}),[y.mode,n,p,v?.markdownExtensions]),$=!N&&(I||S&&!!f.content&&!p)&&(!j||!f.confirmations)||j&&!n||N&&n,O=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=(f.skillExecutions??[]).find(e=>!E.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{O.current=Date.now(),L([...E,e]),P(e)},Math.max(0,2e3-(Date.now()-O.current)));return()=>clearTimeout(t)}},[f.skillExecutions,E]),(0,i.useEffect)(()=>{n&&p&&(0,a.i)("Copilot is responding")},[n,p]),(0,i.useEffect)(()=>{n&&!p&&T.current&&(0,a.C)(T.current)},[n,p]);let B=(0,i.useCallback)(async(e,t,n)=>{if(n)n("accepted"===e.state);else{let n=x();await _.sendChatMessage({thread:(0,d.W)(n),content:`@${b.name} ${(0,m.Z)(e.state)} Confirmation: ${t}`,references:f.references??[],topic:n.currentTopic,context:n.context,confirmations:e,customInstructions:n.customInstructions,model:n.model})}},[x,_,b.name,f.references]),U=(0,i.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),z=(0,i.useCallback)(async()=>{let e=x(),t=(0,d.W)(e);t&&(g?.(),U(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await _.retryLastUnsuccessfulChatMessage(t))},[x,g,U,_]),V=(0,i.useCallback)(async e=>{let t=x(),n=(0,d.W)(t);n&&(g?.(),U(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await _.retryUserChatMessage(n,f,e))},[x,_,f,g,U]),q=(0,i.useCallback)(async e=>{let t=x(),n=(0,d.W)(t);n&&(g?.(),await _.editUserChatMessage(n,f,e))},[x,_,f,g]);return{author:b,removeOutdatedContentPreviewItems:g,handleConfirmationAction:B,handleRetryErrorMessage:z,handleRetryCopilotResponse:V,handleEditUserMessage:q,hasClientConfirmations:R,isCopilot:C,isUser:j,isAI:S,isAgentError:w,isError:N,isInterrupted:k,myRef:T,rendererConfig:D,renderFeedback:I,shouldShowMessageActions:$,skillExecutionToUseForRespondingText:M,showRetryButton:F}}},87419:(e,t,n)=>{n.d(t,{Y:()=>d});var a=n(21728),r=n(96540),i=n(25641),o=n(79064),s=n(2635),l=n(33592),c=n(72303);function d(e){let t,n,d,u,m,h,p,g,f,y,x=(0,a.c)(26),_=(0,s.Pk)(),v=(0,l.b)(),{currentTopic:b,messages:C,selectedThreadID:j}=_;x[0]!==_?(t=(0,c.W)(_),x[0]=_,x[1]=t):t=x[1];let S=t,w=(0,r.useRef)(null),N=e||w;return x[2]!==v||x[3]!==C.length||x[4]!==S?(n=()=>{S&&C.length>0&&v.showTopicPicker(!1)},d=[S,C.length,v],x[2]=v,x[3]=C.length,x[4]=S,x[5]=n,x[6]=d):(n=x[5],d=x[6]),(0,r.useEffect)(n,d),x[7]!==b||x[8]!==j?(u=()=>{let e=b?(0,i.P)(b)?b.name:String(b.id):null;j&&e&&o.Jt.setSelectedTopic(j,e)},m=[j,b],x[7]=b,x[8]=j,x[9]=u,x[10]=m):(u=x[9],m=x[10]),(0,r.useEffect)(u,m),x[11]!==N?(h=()=>{let e=window.setTimeout(()=>{N.current?.focus()},1);return()=>{window.clearTimeout(e)}},p=[N],x[11]=N,x[12]=h,x[13]=p):(h=x[12],p=x[13]),(0,r.useEffect)(h,p),x[14]!==v||x[15]!==_.context?.[0]||x[16]!==_.currentRepository?(g=()=>{let e=_.context?.[0]??_.currentRepository;return e&&v.generateSuggestions(e),()=>{v.clearSuggestions()}},x[14]=v,x[15]=_.context?.[0],x[16]=_.currentRepository,x[17]=g):g=x[17],x[18]!==v||x[19]!==_.context||x[20]!==_.currentRepository||x[21]!==_.currentTopic||x[22]!==_.selectedThreadID?(f=[v,_.context,_.currentTopic,_.currentRepository,_.selectedThreadID],x[18]=v,x[19]=_.context,x[20]=_.currentRepository,x[21]=_.currentTopic,x[22]=_.selectedThreadID,x[23]=f):f=x[23],(0,r.useEffect)(g,f),x[24]!==N?(y={textAreaRef:N},x[24]=N,x[25]=y):y=x[25],y}},88392:(e,t,n)=>{n.d(t,{a:()=>s});var a=n(96540),r=n(63262),i=n(73952),o=n(51213);function s(e){let{streamingMessage:t,isWaitingOnCopilot:n,messages:s,selectedThreadID:l,pendingFirstMessage:c}=e,d=(0,a.useMemo)(()=>{let e={id:o.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},a=(0,i.B)(s,c);return n?[...a,t??e]:a},[l,s,c,n,t]);return{messages:d,groupedMessages:(0,r.A)(d)}}},7730:(e,t,n)=>{n.d(t,{g:()=>i});var a=n(21728),r=n(96540);function i(e){let t,n=(0,a.c)(2),[i,o]=(0,r.useState)(!1);return n[0]!==e.current?(t=()=>{let t=e.current,n=t?.lastElementChild;if(!n)return;let a=new IntersectionObserver(e=>{let[t]=e;return o(t?.isIntersecting??!0)},{root:t,threshold:1});return a.observe(n),()=>a.disconnect()},n[0]=e.current,n[1]=t):t=n[1],(0,r.useEffect)(t),i}},26408:(e,t,n)=>{n.d(t,{U:()=>d});var a=n(16654),r=n(82490),i=n(96540),o=n(18312),s=n(2635),l=n(33592),c=n(23657);function d(e,t,n,m,h=!1){let[p,g]=(0,i.useState)(),f=(0,i.useCallback)(()=>g(void 0),[]),{topRepositoriesCache:y,currentRepository:x}=(0,s.Pk)(),_=(0,l.b)(),[v,b]=(0,i.useState)([]),[C,j]=(0,i.useState)(!y&&"initial"),S=(0,i.useRef)(void 0),w=(0,o.useRelayEnvironment)(),N=m&&""!==m.trim();if(p&&!y&&!e&&!N){let e=u(p||[]),{ownerLogin:t,name:n}=x??{};x&&!e.find(e=>`${e.ownerLogin}/${e.name}`==`${t}/${n}`)&&e.splice(0,0,{databaseId:x.id,isInOrganization:"Organization"===x.ownerType,name:x.name,nwo:`${x.ownerLogin}/${x.name}`,ownerLogin:x.ownerLogin,ownerAvatarUrl:`/${x.ownerLogin}.png?s=40`}),setTimeout(()=>_.setTopRepositoryTopics(e),10),j(!1),g(void 0)}let I=(0,i.useCallback)(async()=>{try{let e=await (0,a.St)(w,{first:n,owner:N?m:void 0});g(e)}catch{}finally{j(!1)}},[N,m,w,g,n]);return((0,i.useEffect)(()=>{t&&!N&&I()},[I,N,t,m]),(0,i.useEffect)(()=>{let t=async e=>{j(!0);let{repositories:t}=await (0,a.vO)(w,{query:N?(0,c.rl)(m,e,h):(0,r.J)(e,{includeForks:h}),onStart:e=>{S.current?.unsubscribe(),S.current=e}});b(t.length?u(t):[]),j(!1)};e||N?t(e):y&&b(y)},[e,N,m,w,y,h]),(0,i.useEffect)(()=>{_.setTopRepositoryTopics(void 0)},[_,m]),!y||e||N)?{repositories:v,loading:C,resetTopRepoResults:f}:{repositories:y,loading:!1,resetTopRepoResults:f}}function u(e){return e.map(({owner:{login:e,avatarUrl:t},isInOrganization:n,name:a,databaseId:r})=>({databaseId:r??0,isInOrganization:n,name:a,nwo:`${e}/${a}`,ownerLogin:e,ownerAvatarUrl:t}))}},14521:(e,t,n)=>{n.d(t,{G:()=>c});var a=n(21728),r=n(79802),i=n(96540),o=n(2635),s=n(23657),l=n(72303);function c(){let e,t=(0,a.c)(1),n=(0,i.useRef)(null);t[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let t=(0,l.W)(e),a=(0,r.O)(t);return(0,s.Ym)(n.current,a)?n.current:(n.current=a,a)},t[0]=e):e=t[0];let c=(0,o.pn)(e);return(0,s.iI)()||c}},99054:(e,t,n)=>{n.d(t,{JE:()=>g,Z3:()=>h,bn:()=>m,kw:()=>f,qj:()=>p});var a=n(21728),r=n(97286),i=n(8625),o=n(96540),s=n(14521),l=n(25641),c=n(2635),d=n(33592),u=n(72206);let m="https://github.com/marketplace?type=apps&copilot_app=true",h="@",p=/^@(?<slug>\S+)$/;function g(e){let t,n,i,o,m,h,p=(0,a.c)(25),{agentsPath:g,model:f}=(0,c.bP)("agentsPath","model"),y=(0,u.tD)(),x=(0,d.b)(),_=!!(0,s.G)(),v=f?.hasLimitedCapabilities;p[0]!==y||p[1]!==_||p[2]!==v?(t=e=>{let{messages:t}=y();if(v||_)return{agents:[],showLimit:!1};let n=(0,l.Q7)(t)[0];return n?{agents:e.filter(e=>e.slug===n.name),showLimit:e.length>1}:{agents:e,showLimit:!1}},p[0]=y,p[1]=_,p[2]=v,p[3]=t):t=p[3];let b=t;p[4]!==g?(n=["copilot-chat","agents",g],p[4]=g,p[5]=n):n=p[5],p[6]!==g||p[7]!==x?(i=()=>g?x.fetchAgents(g):[],p[6]=g,p[7]=x,p[8]=i):i=p[8];let C=(void 0===e||e)&&!v&&!_;p[9]!==b||p[10]!==n||p[11]!==i||p[12]!==C?(o={queryKey:n,queryFn:i,select:b,enabled:C},p[9]=b,p[10]=n,p[11]=i,p[12]=C,p[13]=o):o=p[13];let{isLoading:j,data:S,refetch:w,isStale:N,isFetched:I}=(0,r.I)(o);p[14]!==S||p[15]!==I||p[16]!==N||p[17]!==w?(m=async()=>!I||N?(await w()).data:S,p[14]=S,p[15]=I,p[16]=N,p[17]=w,p[18]=m):m=p[18];let T=m,k=S?.agents,R=S?.showLimit??!1;return p[19]!==T||p[20]!==j||p[21]!==k||p[22]!==R||p[23]!==v?(h={loading:j,disabled:v,availableAgents:k,showLimit:R,imperativelyFetch:T},p[19]=T,p[20]=j,p[21]=k,p[22]=R,p[23]=v,p[24]=h):h=p[24],h}function f({inputOnChange:e,inputRef:t}){let n=(0,i.H)({inputRef:t,fallbackEventHandler:e});return(0,o.useCallback)((e="")=>{t.current?.value&&n(" ",[0,0]);let a=`${h}${e}`;n(a,[0,0],a.length)},[n,t])}},26875:(e,t,n)=>{n.d(t,{O:()=>a});function a(e,t){let n={};for(let a of e){let e=t(a);n[e]??(n[e]=[]),n[e].push(a)}return n}},57448:(e,t,n)=>{n.d(t,{Ld:()=>f,M8:()=>y,Tz:()=>C,W5:()=>m,cx:()=>g,r_:()=>b,vn:()=>v,xG:()=>h});var a=n(21728),r=n(51987),i=n(97665),o=n(40458),s=n(94747),l=n(97286),c=n(96379),d=n(96540),u=n(79064);n(2635),n(33592);let m={Unindexed:"not_indexed",Indexed:"indexed",Indexing:"indexing",PartiallyIndexed:"partially_indexed",Unknown:"unknown"},h={Requested:"requested",NotFound:"not_found",Unauthorized:"unauthorized",ServiceUnavailable:"service_unavailable",QuotaExhausted:"quota_exhausted",Forbidden:"forbidden",CanIndex:"ok",IndexingError:"indexing_error",RequestFailed:"request_failed",Unknown:"unknown"},p=[h.NotFound,h.Unauthorized,h.ServiceUnavailable,h.QuotaExhausted,h.Forbidden,h.RequestFailed],g=256,f=400;function y(e){var t,n;let r,l,c,d,u,g,f,y,v,b,C=(0,a.c)(22),j=(0,i.jE)();C[0]!==j||C[1]!==e?(r=()=>Promise.all(e.map(e=>j.invalidateQueries({queryKey:["copilot-chat","repos-indexing-state",e]}))),C[0]=j,C[1]=e,C[2]=r):r=C[2];let w=r;C[3]!==e?(l=e.map(_),C[3]=e,C[4]=l):l=C[4],C[5]!==l?(c={queries:l},C[5]=l,C[6]=c):c=C[6];let T=(0,o.E)(c);C[7]===Symbol.for("react.memo_cache_sentinel")?(d=["repos-indexing-state"],C[7]=d):d=C[7],C[8]!==e?(u=()=>S(e),C[8]=e,C[9]=u):u=C[9],C[10]!==w||C[11]!==u?(g={mutationKey:d,mutationFn:u,onSuccess:w},C[10]=w,C[11]=u,C[12]=g):g=C[12];let{mutate:k}=(0,s.n)(g);C[13]!==T?(f={requestStatus:0===(n=(t=T.map(x)).map(e=>e.requestStatus)).length?h.Unknown:n.some(e=>p.includes(e))?h.IndexingError:n.every(e=>e===h.CanIndex)?h.CanIndex:(n.every(e=>e===h.Unknown),h.Unknown),code:N(t.map(e=>e.code)),docs:N(t.map(e=>e.docs)),remainingRepoIndexTokens:t[0]?.remainingRepoIndexTokens},C[13]=T,C[14]=f):f=C[14];let R=f,A=R.code===m.Indexing&&R.requestStatus!==h.IndexingError;return C[15]!==w?(y=()=>void w(),C[15]=w,C[16]=y):y=C[16],I(y,1e4*!!A),C[17]!==k?(v=()=>k(),C[17]=k,C[18]=v):v=C[18],C[19]!==R||C[20]!==v?(b=[R,v],C[19]=R,C[20]=v,C[21]=b):b=C[21],b}function x(e){return e.data}function _(e){return{queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>j(e),placeholderData:{requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},staleTime:1/0}}function v(e){let t,n,r,o,c,d,u,p,g,f,y,x=(0,a.c)(23),_=(0,i.jE)();x[0]!==_||x[1]!==e?(t=()=>Promise.resolve(_.invalidateQueries({queryKey:["repo-indexing-state",e]})),x[0]=_,x[1]=e,x[2]=t):t=x[2];let v=t;x[3]!==e?(n=["copilot-chat","repo-indexing-state",e],r=()=>j(e),x[3]=e,x[4]=n,x[5]=r):(n=x[4],r=x[5]),x[6]===Symbol.for("react.memo_cache_sentinel")?(o={requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},x[6]=o):o=x[6],x[7]!==n||x[8]!==r?(c={queryKey:n,queryFn:r,placeholderData:o,staleTime:1/0},x[7]=n,x[8]=r,x[9]=c):c=x[9];let b=(0,l.I)(c);x[10]===Symbol.for("react.memo_cache_sentinel")?(d=["repo-indexing-state"],x[10]=d):d=x[10],x[11]!==e?(u=()=>S([e]),x[11]=e,x[12]=u):u=x[12],x[13]!==v||x[14]!==u?(p={mutationKey:d,mutationFn:u,onSuccess:v},x[13]=v,x[14]=u,x[15]=p):p=x[15];let{mutate:C}=(0,s.n)(p),w=b.data,N=w.code===m.Indexing&&w.requestStatus!==h.IndexingError;return x[16]!==v?(g=()=>void v(),x[16]=v,x[17]=g):g=x[17],I(g,1e4*!!N),x[18]!==C?(f=()=>C(),x[18]=C,x[19]=f):f=x[19],x[20]!==w||x[21]!==f?(y=[w,f],x[20]=w,x[21]=f,x[22]=y):y=x[22],y}function b(e){let t,n=(0,a.c)(2);n[0]!==e?(t={queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>w(e),staleTime:1/0},n[0]=e,n[1]=t):t=n[1];let r=(0,l.I)(t);return!r.isError&&!!r.data?.canChat}function C(){let e=u.Jt.getPanelHeight(),t=u.Jt.getPanelWidth(),n=(0,d.useRef)(null),a=(0,d.useRef)(e),r=(0,d.useRef)(e),i=(0,d.useRef)(null),o=(0,d.useRef)(t),s=(0,d.useRef)(t),[l,c]=(0,d.useState)(e),[m,h]=(0,d.useState)(t),p=(0,d.useRef)(0);(0,d.useEffect)(()=>{p.current=parseFloat(getComputedStyle(document.documentElement).fontSize)},[]);let y=e=>Math.min(Math.max(e,g),window.innerHeight-p.current),x=e=>Math.min(Math.max(e,f),window.innerWidth-2*p.current),_=(0,d.useCallback)(e=>{if(null!==n.current){let t=n.current-e.clientY,i=y(a.current+t);c(i),r.current=i}if(null!==i.current){let t=i.current-e.clientX,n=x(o.current+t);h(n),s.current=n}},[]),v=(0,d.useCallback)(()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",v),null!==n.current&&(u.Jt.setPanelHeight(r.current),n.current=null),null!==i.current&&(u.Jt.setPanelWidth(s.current),i.current=null)},[_]),b=(0,d.useCallback)((e,t,r)=>{0===e.button&&(e.preventDefault(),r&&(n.current=e.clientY,a.current=l),t&&(i.current=e.clientX,o.current=m),window.addEventListener("mousemove",_),window.addEventListener("mouseup",v))},[l,m,_,v]),C=(0,d.useCallback)(e=>{if("ArrowUp"===e.key){let t=y(l+4);c(t),u.Jt.setPanelHeight(t),e.preventDefault()}else if("ArrowDown"===e.key){let t=y(l-4);c(t),u.Jt.setPanelHeight(t),e.preventDefault()}else if("ArrowRight"===e.key){let t=x(m-4);h(t),u.Jt.setPanelWidth(t),e.preventDefault()}else if("ArrowLeft"===e.key){let t=x(m+4);h(t),u.Jt.setPanelWidth(t),e.preventDefault()}},[l,m]);return{panelWidth:m,panelHeight:l,startResize:b,onResizerKeyDown:C}}async function j(e){let t=await fetch(`/search/check_indexing_status?nwo=${encodeURIComponent(e)}`,{headers:{Accept:"application/json",...(0,r.kt)()}});if(!t.ok)return{requestStatus:h.RequestFailed,code:m.Unknown,docs:m.Unknown};let n=await t.json();return{requestStatus:n.can_index,code:n.code_status,docs:n.docs_status}}async function S(e){let t=1===e.length?`nwo=${encodeURIComponent(e[0])}`:`nwos=${encodeURIComponent(JSON.stringify(e))}`;return(0,c.DI)(`/search/index_embeddings?${t}&index_code=true`,{method:"POST"})}async function w(e){let t=await fetch(`/github-copilot/docs/docsets/kb_indexed_repos?ids=${encodeURIComponent(JSON.stringify(e))}`,{headers:{Accept:"application/json",...(0,r.kt)()}});return t.ok?await t.json():{canChat:!1}}function N(e){return e.every(e=>e===m.Indexed)?m.Indexed:e.every(e=>e===m.Unindexed)?m.Unindexed:e.some(e=>e===m.Indexing)?m.Indexing:e.some(e=>e===m.Unindexed)?m.PartiallyIndexed:m.Unknown}function I(e,t){let n,r,i,o,s=(0,a.c)(6),l=(0,d.useRef)(void 0),c=(0,d.useRef)(e);return s[0]!==e?(n=()=>{c.current=e},r=[e],s[0]=e,s[1]=n,s[2]=r):(n=s[1],r=s[2]),(0,d.useEffect)(n,r),s[3]!==t?(i=()=>{if(t>0)return l.current=window.setInterval(()=>c.current(),t),()=>window.clearInterval(l.current)},o=[t],s[3]=t,s[4]=i,s[5]=o):(i=s[4],o=s[5]),(0,d.useEffect)(i,o),l}},60905:(e,t,n)=>{n.d(t,{s:()=>CopilotImageAttacher});var a=n(50467),r=n(53419),i=n(25641),o=n(35247),s=n(76166),l=n(30456);let c=["image/gif","image/jpeg","image/png","image/webp"];let CopilotImageAttacher=class CopilotImageAttacher{static getAllowedImageFileExtensions(e){return this.getFileExtensions(e).join(",")}static isTypeAllowed(e,t){return e=e.toLowerCase(),this.getMimeTypes(t).includes(e)}static getAllowedFiles(e,t){let[n,a]=e.reduce(([e,n],a)=>this.isTypeAllowed(a.type,t)?[[...e,a],n]:[e,[...n,a]],[[],[]]);return[n,a]}static getAttachmentLimit(){return o.W.attachMultipleImages?4:1}static getAttachmentSizeLimit(){return 3932160}static makeImageReference(e,t){let n=crypto.randomUUID(),a=new l.N(n,e,t);return{id:n,attachment:a,type:"image",name:e.name||"Image"}}static getFileExtensions(e){if(Array.isArray(e))return Array.from(new Set(e.flatMap(e=>this.getFileExtensions(e))));let t=this.getMimeTypes(e).map(e=>`.${e.split("/")[1]}`);return t.includes(".jpeg")&&t.push(".jpg"),t}static getMimeTypes(e){return Array.isArray(e)?Array.from(new Set(e.flatMap(e=>this.getMimeTypes(e)))):e.capabilities.limits.vision?e.capabilities.limits.vision.supported_media_types.filter(e=>c.includes(e)):[]}async addImageAttachments(e,t="unknown",n,a=!1){if(0===e.length)return[];let l=null,c=this.state.selectedThreadID,d=this.manager.getPendingThreadId(n),u=o.W.visionSkipThreadCreate;if(n&&!c&&d&&(c=d),!c&&!u)try{c=(l=await this.manager.createThread({customCopilotId:n,preventThreadSelection:a})).id}catch(t){let e="An error occurred creating the thread. Sending a single message should create a new thread.";throw t instanceof Error&&(e||(e=t.message)),this.manager.addAmbientError(e),Error(e)}let m=this.state.currentReferences.filter(e=>"image"===e.type).length,h=CopilotImageAttacher.getAttachmentLimit();if(m+e.length>h){let e=o.W.attachMultipleImages?`You can add up to ${h} image files per message.`:"Only one image can be uploaded at a time";return this.manager.addAmbientError(e),(0,s.d)("file_limit_reached"),[]}let p=[],g=[];for(let n of e){if(!CopilotImageAttacher.isTypeAllowed(n.type,this.state.model))return(0,s.d)("included_unsupported_file",{fileTypes:n.type,uploadType:t}),[];if(n.size>CopilotImageAttacher.getAttachmentSizeLimit())return this.manager.addAmbientError("Only images below 3.75MB are supported"),(0,s.d)("size_limit_exceeded",{size:n.size}),[];if(null==c&&!u)throw this.manager.addAmbientError("Please manually create a thread before uploading an image"),Error("ThreadID resolution for image attachment is not functioning properly");let e=CopilotImageAttacher.makeImageReference(n,c);if(this.state.model.id.startsWith("claude")&&this.state.model.capabilities.supports.vision){let t=await e.attachment.getDimensions();if(t.width&&t.height&&(t.width>8e3||t.height>8e3)){this.manager.addAmbientError("The image you uploaded exceeds the maximum allowed dimensions for Claude models. Please try again with another model."),(0,s.d)("dimension_limit_exceeded",{width:t.width,height:t.height});continue}}let a=(0,i.Vc)(n.name);this.manager.addReference(a,"image-attacher"),0===g.length&&this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),g.push({file:n,placeholder:a,reference:e})}return await Promise.all(g.map(async({file:e,placeholder:n,reference:a})=>{try{l&&await a.attachment.prefetch(),this.manager.setImageAttachmentUploaded(a.id,a.attachment),this.manager.replaceReference(n,a),(0,r.BI)("dotcom_chat.vision.image_added",{uploadType:t}),p.push(a)}catch(a){this.manager.removeReference(n);let t="An unexpected error occurred while reading the file";if("string"==typeof a)throw this.manager.addAmbientError(`An error occurred uploading the attachment ${e.name}`),(0,s.d)("ErrorString",{message:a}),Error(a);if(a instanceof Error)if((0,s.d)(a.name,{message:a.message}),"GenericServerError"===a.name&&a.message.includes("Error creating policy"))this.manager.addAmbientError(t);else throw this.manager.addAmbientError(t),a;else throw this.manager.addAmbientError(t),a}})).finally(()=>{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}),a&&n&&l&&this.manager.setPendingThreadId(l.id,n),p}constructor(e,t){(0,a._)(this,"state",void 0),(0,a._)(this,"manager",void 0),this.state=e,this.manager=t}}},76166:(e,t,n)=>{n.d(t,{d:()=>r});var a=n(53419);function r(e,t){(0,a.BI)("dotcom_chat.vision.error",{type:e,...t})}},72439:(e,t,n)=>{n.d(t,{E:()=>CopilotTextAttacher,x:()=>s});var a=n(50467),r=n(53419),i=n(25641),o=n(23967);let s="application/x.clipboard",l=/^\s*`?([\w-_]{3,40}\.\w{1,10})`?\s*$/;let CopilotTextAttacher=class CopilotTextAttacher{static async isAttachable(e){if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return!1;let t=await e.text();return CopilotTextAttacher.isPlainText(t)}static getTextFileExtensions(){return CopilotTextAttacher.fileExtensionsCache??(CopilotTextAttacher.fileExtensionsCache=Object.values(o.r4).flatMap(e=>e.extensions??[]).filter(e=>"stl"!==e).join(","))}static getAttachmentSizeLimit(){return 512e3}static isPlainText(e){let t=Math.min(e.length,1e3),n=0,a=0;for(let r=0;r<t;r++){let t=e.charCodeAt(r);0===t?n++:t>127&&a++}let r=n/t,i=a/t;return r<=.1&&i<=.2}async makeReference(e,t){let n=await e.text(),a=e.name||(t?await t:await this.generateFileName(n,e.type));return this.makeReferenceSync(n,a)}makeReferenceSync(e,t){let n=t.split(".").pop();return(0,r.BI)("copilot.attach_pasted_file",{extension:n,characters:e.length}),{type:"thread-scoped-file",name:t,text:e,language:""}}async addAttachment(e,t,n){let a;if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return void this.manager.addAmbientError("Attached text files must be smaller than 500KB");let r=await e.text();if(!CopilotTextAttacher.isPlainText(r))return void this.manager.addAmbientError(`"${e.name}" has an unsupported file type. Please try again with a plain text file`);if(n)a=this.makeReferenceSync(r,n),this.manager.addReference(a,"text-attacher");else{let n=(0,i.Vc)(e.name);this.manager.addReference(n,"text-attacher"),this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0});try{a=await this.makeReference(e,t),this.manager.replaceReference(n,a)}catch{this.manager.addAmbientError("Failed to process file. Please try again."),this.manager.removeReference(n)}finally{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}}return a}async generateFileName(e,t){let n=this.existingFileNames.size>0?`

Follow the naming formats used by these existing files: ${Array.from(this.existingFileNames).slice(0,5).join(", ")}`:"",a=await this.manager.service.getSimpleCompletion(`Return a suitable filename for the following file contents.
      Follow the file naming conventions of the language and do not include any special characters except for period, underscore or hyphens.
      Try to limit the name to 20 characters or less.
      You MUST include the file extension. Include only the filename in your response and nothing else.${n}

File contents:
\`\`\`
${e}
\`\`\`
`),i=a.ok?l.exec(a.payload)?.[1]:null;return i?(0,r.BI)("copilot.generate_pasted_file_name.success"):(0,r.BI)("copilot.generate_pasted_file_name.failure"),this.uniqueFileName(i??this.defaultFileName(t))}uniqueFileName(e){if(!this.existingFileNames.has(e))return e;let t=e.lastIndexOf("."),n=t>0&&t<e.length-1,a=n?e.substring(0,t):e,r=n?e.substring(t):"",i=2;for(;this.existingFileNames.has(`${a}${i}${r}`);)i++;return`${a}${i}${r}`}defaultFileName(e){return e===s?"pasted.txt":"untitled.txt"}constructor(e,t=new Set){(0,a._)(this,"manager",void 0),(0,a._)(this,"existingFileNames",void 0),this.manager=e,this.existingFileNames=t}};(0,a._)(CopilotTextAttacher,"fileExtensionsCache",void 0)},79216:(e,t,n)=>{n.d(t,{Q:()=>o});let a=/^@(?<repo>[\w-.]+\/[\w-.]+)(?:\/(?<type>\w+)\/(?<id>.+))?$/,r=/^@(?<id>[a-zA-Z0-9_.-]+)$/,i={fromUrlType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"blob":case"tree":return"file";case void 0:return"repository"}},fromMentionType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"files":return"file";case void 0:return"repository"}}},o={fromUrl(e){let t;try{t=new URL(e)}catch{return}if(t.hostname!==window.location.hostname)return;let[,n,a,r,...o]=t.pathname.split("/"),s=o.join("/"),l=i.fromUrlType(r);if(n&&a&&l)return{repo:`${n}/${a}`,type:s?l:"repository",id:s}},stringify(e){switch(e.type){case"issue":return`@${e.repo}/issues/${e.id??""}`;case"pull-request":return`@${e.repo}/pull/${e.id??""}`;case"discussion":return`@${e.repo}/discussions/${e.id??""}`;case"repository":return`@${e.repo}`;case"file":return`@${e.repo}/files/${e.id??""}`;case"thread-scoped-file":return`@${e.id??""}`}},parse(e){let t=a.exec(e)?.groups;if(!t){let t=r.exec(e)?.groups;return t?{repo:"",type:"thread-scoped-file",id:t.id}:void 0}let n=i.fromMentionType(t.type);return n?{repo:t.repo,type:n,id:t.id}:void 0},isEqual:(e,t)=>o.stringify(e)===o.stringify(t),refersTo(e,t){let n=o.for(t);return null!==n&&o.isEqual(e,n)},for:e=>{switch(e.type){case"repository":return{type:"repository",repo:`${e.ownerLogin}/${e.name}`,reference:e};case"issue":return{type:"issue",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"pull-request":return{type:"pull-request",repo:`${e.repository.ownerLogin}/${e.repository.name}`,id:e.number.toString(),reference:e};case"discussion":return{type:"discussion",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"file":case"folder":return{type:"file",repo:`${e.repoOwner}/${e.repoName}`,id:e.path,reference:e};case"thread-scoped-file":return{type:"thread-scoped-file",repo:"",id:e.name,reference:e};default:return null}}}},17285:(e,t,n)=>{n.d(t,{Z:()=>a});function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}},97949:(e,t,n)=>{n.d(t,{U:()=>o});var a=n(99054),r=n(25641),i=n(79216);let o=function({references:e,agents:t}){this.parser=function(n){let o=n.split(/(\s+)/),s=[];for(let[n,l]of o.entries()){let o=0===n&&a.qj.exec(l)?.groups?.slug,c=o&&t.find(e=>e.slug===o);if(c){s.push({type:"agent-mention",value:l,data:{mentionedAgent:c}});continue}let d=i.Q.parse(l),u=d&&e?.find(e=>i.Q.refersTo(d,e));if(d){s.push({type:"reference-mention",value:l,data:{mentionedReferenceId:u&&(0,r.Vb)(u),referenceMention:d}});continue}let m=s.at(-1);m?.type==="text"?m.value+=l:s.push({type:"text",value:l})}return{type:"root",children:s}}}},16378:(e,t,n)=>{n.d(t,{O:()=>i,_:()=>o});var a=n(47970),r=n(99054);function i(e){let t=new Set;return(0,a.YR)(e,e=>{"reference-mention"===e.type&&void 0!==e.data.mentionedReferenceId&&t.add(e.data.mentionedReferenceId)}),t}function o(e){return r.qj.test(e.split(/\s/)[0]??"")}},84646:(e,t,n)=>{n.d(t,{$7:()=>u,AV:()=>y,Ao:()=>p,BV:()=>f,OW:()=>CopilotSpaceSSOError,Tx:()=>g,e9:()=>m,i9:()=>CopilotSpaceNotFoundError,jS:()=>h});var a=n(50467),r=n(97665),i=n(94747),o=n(97286),s=n(72011),l=n(33592),c=n(96540),d=n(2635);let CopilotSpaceNotFoundError=class CopilotSpaceNotFoundError extends Error{constructor(e="Copilot Space not found"){super(e),this.name="CopilotSpaceNotFoundError"}};let CopilotSpaceSSOError=class CopilotSpaceSSOError extends Error{constructor(e,t="Copilot Space SSO error"){super(t),(0,a._)(this,"protectedOrganizations",void 0),this.protectedOrganizations=e,this.name="CopilotSpaceSSOError"}};function u(){let e=(0,r.jE)();return(0,i.n)({mutationFn:async e=>{let t=await (0,s.ee)(e);if(!t.ok)throw Error(t.error);return{status:t.status,ok:!0,payload:t.payload}},onSuccess:async()=>{await e.invalidateQueries({queryKey:s.O6})}})}function m(e){let t=(0,l.b)(),{data:n}=h(e,{throwOnError:!1});(0,c.useEffect)(()=>{n&&t.dispatch({type:"SET_CUSTOM_COPILOTS",customCopilots:n})},[n,t])}function h(e,t={}){return(0,o.I)({queryKey:s.O6,queryFn:s.CT,enabled:e,staleTime:3e5,throwOnError:t.throwOnError})}function p(e){return(0,o.I)({queryKey:(0,s.dp)(e),queryFn:async()=>{let t=await (0,s.Lr)(e);if(!t.ok){if(404===t.status)throw new CopilotSpaceNotFoundError;throw Error(t.error)}if(void 0===t.payload.id)throw new CopilotSpaceSSOError(t.payload.protectedOrganizations);return t.payload},enabled:!!e})}function g(e,t){return(0,o.I)({queryKey:["visibility-settings",e,t],queryFn:async()=>(0,s.A2)({owner:e,id:t}),enabled:""!==e&&-1!==t,staleTime:3e5})}function f(){return(0,d.A3)("customCopilotsEnabled")}function y(){let e=function(){let e=(0,d.A3)("customCopilots");return e?.length??0}(),[t,n]=(0,c.useState)(null),a=(0,c.useMemo)(()=>`New Space ${e+1}`,[e]);return(0,c.useEffect)(()=>{null===t&&n(a)},[a,t]),{name:t||"",setName:n,defaultName:a}}},17485:(e,t,n)=>{n.d(t,{C:()=>o});var a=n(25536),r=n(14521),i=n(96540);function o(){let e=(0,r.G)(),{selectedCopilotSpaceId:t,setSelectedCopilotSpaceId:n,selectedThreadId:o}=(0,a.O)(),s=!!o||!!e;(0,i.useEffect)(()=>{n(e||void 0)},[e,n]);let l=t||e,c=(0,i.useCallback)(e=>{s||n({id:e.id,owner:e.owner})},[n,s]),d=(0,i.useCallback)(()=>{s||n(void 0)},[n,s]);return{activeCopilotSpaceId:l,readOnly:s,handleSpaceSelect:c,clearSpaceSelection:d}}},51563:(e,t,n)=>{n.d(t,{$:()=>u});var a=n(33592),r=n(23657),i=n(72011),o=n(69599),s=n(97665),l=n(94747),c=n(96379),d=n(31971);let u=e=>{let t=(0,a.b)(),n=(0,s.jE)(),u=(0,o.G7)("copilot_spaces_upsert_reload_in_background"),{mutateAsync:m,...h}=(0,l.n)({onSuccess:async()=>{if(!u)return e&&await n.invalidateQueries({queryKey:(0,i.dp)(e)}),n.invalidateQueries({queryKey:i.O6});n.invalidateQueries({queryKey:i.O6}),e&&await n.invalidateQueries({queryKey:(0,i.dp)(e)})},mutationFn:async n=>{let a=e?(0,r.fn)(e):"/custom_copilots",i=e?"PUT":"POST",o={custom_copilot:{owner_id:n.ownerId,owner_type:n.ownerType,name:n.name,icon_type:n.iconType,icon_color:n.iconColor,description:n.description,general_instructions:n.generalInstructions,resources_attributes:n.resources?.map(e=>({id:e.databaseId,copilot_chat_attachment_id:e.copilotChatAttachmentId,resource_type:e.type,_destroy:e.markedForDestroy,metadata:(0,d.M)(e)})),visibility:n.visibility,base_role:n.baseRole}},s=await (0,c.lS)(a,{method:i,body:o}),l=await s.json();if(!s.ok)throw l.errorMessages;return t.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:l}),l}});return{upsertCopilotSpace:m,...h}}},97564:(e,t,n)=>{n.d(t,{V:()=>r});var a=n(96379);async function r(e){let t=await (0,a.lS)(`/github-copilot/chat/repositories/${e}`,{method:"GET"});if(!t.ok)throw Error(`Failed to fetch repository details: ${t.status}`);return await t.json()}},72011:(e,t,n)=>{n.d(t,{A2:()=>m,CT:()=>c,Lr:()=>d,O6:()=>s,dp:()=>l,ee:()=>u});var a=n(25641),r=n(23657),i=n(96379);let o="/github-copilot/chat",s=["copilot-chat","custom-copilots"];function l(e){return e?["copilot-chat","custom-copilot",{id:e.id,owner:e.owner}]:["copilot-chat","custom-copilot",null]}async function c(){let e=await (0,i.lS)(`${o}/custom_copilots`);if(!e.ok)throw Error(`Failed to fetch spaces: ${a.nN[e.status]||a.DW}`);return await e.json()}async function d(e){if(!e||!e.owner)return{status:500,ok:!1,error:"unexpected null custom copilot id or missing owner"};let{owner:t,id:n}=e,r=`${o}/custom_copilots/${t}/${n}`,s=await (0,i.lS)(r);if(!s.ok)return{status:s.status,ok:!1,error:a.nN[s.status]||a.DW};let l=await s.json();return{status:s.status,ok:!0,payload:l}}async function u(e){let t=await (0,i.lS)((0,r.fn)(e),{method:"DELETE"});return t.ok?{status:t.status,ok:!0,payload:null}:t}async function m(e){let t=await (0,i.lS)(`${(0,r.fn)(e)}/settings/visibility`);if(!t.ok)throw Error("Error fetching visibility settings");try{let e=await t.json();return{memberCount:e.member_count&&"number"==typeof e.member_count?e.member_count:null}}catch(e){throw Error(`Error parsing visibility settings: ${e}`)}}},31971:(e,t,n)=>{n.d(t,{M:()=>a});function a(e){switch(e.type){case"repository":return{repository_id:e.repositoryId};case"github_file":return{repository_id:e.repositoryId,file_path:e.filePath,sha:e.sha};case"free_text":return{text:e.text,name:e.name};case"github_issue":case"github_pull_request":return{repository_id:e.repositoryId,number:e.number};case"uploaded_text_file":return{name:e.name};case"media_content":return{media_type:e.mediaType,name:e.name,url:e.url,height:e.height,width:e.width};default:throw Error("Unsupported resource")}}},30459:(e,t,n)=>{n.d(t,{S:()=>l,s:()=>s});var a=n(21728),r=n(96540),i=n(53419),o=n(49936);function s(){let e,t,n=(0,a.c)(6),s=(0,r.useContext)(o.I);if(!s)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:c,metadata:d}=s;n[0]!==l||n[1]!==c||n[2]!==d?(e=(e,t,n)=>{let a={react:!0,app_name:l,category:c,...d};(0,i.BI)(e,{...a,...void 0===n?{}:n,target:t})},n[0]=l,n[1]=c,n[2]=d,n[3]=e):e=n[3];let u=e;return n[4]!==u?(t={sendAnalyticsEvent:u},n[4]=u,n[5]=t):t=n[5],t}function l(){let e,t,n=(0,a.c)(4),{sendAnalyticsEvent:r}=s();n[0]!==r?(e=e=>{r("analytics.click",void 0,void 0===e?{}:e)},n[0]=r,n[1]=e):e=n[1];let i=e;return n[2]!==i?(t={sendClickAnalyticsEvent:i},n[2]=i,n[3]=t):t=n[3],t}},34535:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=a.useState(!1);return a.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},37272:(e,t,n)=>{n.d(t,{E:()=>i});var a=n(74848),r=n(64375);function i({children:e}){return(0,r.P)()?(0,a.jsx)(a.Fragment,{children:e}):null}try{i.displayName||(i.displayName="AllShortcutsEnabled")}catch{}},64375:(e,t,n)=>{n.d(t,{$:()=>o,P:()=>s});var a=n(74848),r=n(96540);let i=r.createContext(!0);function o({allShortcutsEnabled:e,children:t}){return(0,a.jsxs)(i.Provider,{value:e,children:[" ",t," "]})}function s(){return r.useContext(i)}try{i.displayName||(i.displayName="AllShortcutsEnabledContext")}catch{}try{o.displayName||(o.displayName="AllShortcutsEnabledProvider")}catch{}},31078:(e,t,n)=>{n.d(t,{Ck:()=>s,JS:()=>o});var a=n(74848),r=n(96540);let i=(0,r.createContext)({query:"",setQuery:()=>void 0});function o(){return(0,r.useContext)(i)}function s({children:e}){let[t,n]=(0,r.useState)(""),o=(0,r.useMemo)(()=>({query:t,setQuery:n}),[n,t]);return(0,a.jsx)(i.Provider,{value:o,children:e})}try{i.displayName||(i.displayName="FileQueryContext")}catch{}try{s.displayName||(s.displayName="FileQueryProvider")}catch{}},53552:(e,t,n)=>{n.d(t,{eu:()=>l,qV:()=>s,sq:()=>c});var a=n(74848),r=n(79634),i=n(96540);let o=i.createContext({});function s({children:e,...t}){return(0,a.jsx)(o.Provider,{value:t,children:e})}function l(){return i.useContext(o)}function c(){return(0,r.X)()}try{o.displayName||(o.displayName="FilesPageInfoContext")}catch{}try{s.displayName||(s.displayName="FilesPageInfoProvider")}catch{}},97793:(e,t,n)=>{n.d(t,{O:()=>p});var a=n(74848),r=n(96379),i=n(38621),o=n(96665),s=n(65029),l=n(24815),c=n(43371),d=n.n(c),u=n(96540);let m={dialogForm:"McpServerDialog-module__dialogForm--pUtNF",underline:"McpServerDialog-module__underline--YKUMk",inputError:"McpServerDialog-module__inputError--Ojb_P",formField:"McpServerDialog-module__formField--rsUqW",hiddenSubmitButton:"McpServerDialog-module__hiddenSubmitButton--KcK0s"},h=(0,a.jsx)("a",{href:"https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"},children:"MCP authorization specification"}),p=({isOpen:e,onClose:t,returnUrl:n,onServerAdded:c,returnFocusRef:p,showSettingsLink:g=!0})=>{let[f,y]=(0,u.useState)(""),[x,_]=(0,u.useState)(""),[v,b]=(0,u.useState)(null),[C,j]=(0,u.useState)(null),S=(0,u.useCallback)(()=>{y(""),_(""),b(null),j(null),t()},[t]),w=async e=>{if(e&&e.preventDefault(),""===f.trim()||""===x.trim()){x.trim()||b("MCP server URL is required"),f.trim()||j("Name is required");return}try{if(b(null),!function(e){try{let t=new URL(e.trim(),window.location.origin),n=d()();return"https:"===t.protocol&&!!t.hostname&&/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.hostname)&&!n.test(e)}catch{return!1}}(x))return void b("Invalid HTTPS URL format");let e=new FormData;e.append("mcp_server_url",x.trim()),e.append("name",f.trim()),n&&e.append("return_url",n);let t=await (0,r.DI)("/copilot/mcp/servers",{method:"POST",body:e});if(!t.ok){let e="Failed to add MCP server";try{let n=await t.text();try{let t=JSON.parse(n);if("unsupported_server_type"===t.error)e=(0,a.jsxs)(a.Fragment,{children:["This server does not conform to the ",h,"."]});else if(t.field_errors){for(let[e,n]of Object.entries(t.field_errors)){let t=n.join(", ");"mcp_server_url"===e?b(t):"display_name"===e&&j(t)}return}else t.message&&(e=t.message)}catch{e=n.includes("well-known/oauth-authorization-server")||"Client setup failed"===n.trim()?(0,a.jsxs)(a.Fragment,{children:["This server does not conform to the ",h,"."]}):n||e}}catch{e="Failed to add MCP server"}b(e);return}let i=(await t.json()).redirect_url;i&&"string"==typeof i?(S(),c?.(),window.location.assign(i)):(S(),c?.())}catch(e){e instanceof Error?b(e.message):b("An unknown error occurred")}};return e?(0,a.jsx)(o.l,{title:"Add remote MCP",onClose:S,footerButtons:[{buttonType:"default",content:"Cancel",onClick:S},{buttonType:"primary",content:(0,a.jsxs)(a.Fragment,{children:["Connect to MCP",(0,a.jsx)("span",{style:{marginLeft:8},children:(0,a.jsx)(i.LinkExternalIcon,{size:16})})]}),onClick:()=>{w()}}],returnFocusRef:p,children:(0,a.jsxs)("form",{className:m.dialogForm,onSubmit:w,autoComplete:"on",children:[(0,a.jsxs)(s.A,{required:!0,className:m.formField,children:[(0,a.jsx)(s.A.Label,{children:"Name"}),(0,a.jsx)(l.A,{name:"mcp-server-name",type:"text",value:f,onChange:e=>{y(e.target.value),j(null)},placeholder:"Enter a name for this MCP",className:C?m.inputError:void 0,autoComplete:"on",block:!0}),C&&(0,a.jsx)(s.A.Validation,{variant:"error",children:C})]}),(0,a.jsxs)(s.A,{required:!0,className:m.formField,children:[(0,a.jsx)(s.A.Label,{children:"MCP server URL"}),(0,a.jsx)(l.A,{name:"mcp-url",type:"url",value:x,onChange:e=>{_(e.target.value),b(null)},placeholder:"https://mcp.example.com/sse",className:v?m.inputError:void 0,autoComplete:"on",block:!0}),v&&(0,a.jsx)(s.A.Validation,{variant:"error",children:v})]}),(0,a.jsx)("button",{type:"submit",className:m.hiddenSubmitButton,tabIndex:-1,children:"Submit"}),(0,a.jsxs)("p",{children:["MCP data will be processed by models coming from third-party providers. Always review the permissions required by the MCP and only connect to MCPs you know and trust.",g&&(0,a.jsxs)(a.Fragment,{children:[" ","You can revoke access for the MCP at any time in"," ",(0,a.jsx)("a",{href:"/settings",className:m.underline,children:"your settings"}),"."]})]})]})}):null};try{h.displayName||(h.displayName="MCP_SPEC_LINK")}catch{}try{p.displayName||(p.displayName="McpServerDialog")}catch{}},97315:(e,t,n)=>{n.d(t,{P:()=>c});var a=n(74848),r=n(21728),i=n(87131),o=n(96540),s=n(33592);let l={ambientErrorBanner:"AmbientErrorBanner-module__ambientErrorBanner--lajPC",largeBorderRadius:"AmbientErrorBanner-module__largeBorderRadius--NGjjE",mediumBorderRadius:"AmbientErrorBanner-module__mediumBorderRadius--aAp6Z"};function c(e){let t,n,c,u,m,h,p=(0,r.c)(14),{ambientError:g,useLargerBorderRadius:f}=e,y=(0,s.b)(),[x,_]=(0,o.useState)(0),v=void 0!==f&&f?l.largeBorderRadius:l.mediumBorderRadius,b=(0,o.useRef)(null);p[0]!==g.message?(t=()=>{if(g.message){_(d);let e=setTimeout(()=>{b.current&&b.current.focus()},250);return()=>clearTimeout(e)}},p[0]=g.message,p[1]=t):t=p[1],p[2]!==g?(n=[g],p[2]=g,p[3]=n):n=p[3],(0,o.useEffect)(t,n);let C=`${l.ambientErrorBanner} ${v}`;return p[4]===Symbol.for("react.memo_cache_sentinel")?(c={outline:"none"},p[4]=c):c=p[4],p[5]!==g.message?(u=(0,a.jsx)("div",{ref:b,tabIndex:-1,style:c,children:g.message}),p[5]=g.message,p[6]=u):u=p[6],p[7]!==y?(m=()=>{y.dismissAmbientError()},p[7]=y,p[8]=m):m=p[8],p[9]!==x||p[10]!==C||p[11]!==u||p[12]!==m?(h=(0,a.jsx)(i.l,{"aria-atomic":"true",className:C,description:u,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:m},x),p[9]=x,p[10]=C,p[11]=u,p[12]=m,p[13]=h):h=p[13],h}function d(e){return e+1}try{c.displayName||(c.displayName="AmbientErrorBanner")}catch{}},13171:(e,t,n)=>{n.d(t,{r:()=>eG});var a,r=n(74848),i=n(21728),o=n(25407),s=n(71315),l=n(38621),c=n(5420),d=n(12004),u=n(55847),m=n(77430),h=n(63557),p=n(46309),g=n(21654);let f={"contacts-container":"Contact-module__contacts-container--ggMhC","contact-list":"Contact-module__contact-list--NoW0r","contact-container":"Contact-module__contact-container--DsJZr","contact-info-container":"Contact-module__contact-info-container--sz7D3"},y={monogram:"Monogram-module__monogram--MgMG7"},x=e=>{let t,n=(0,i.c)(2),{initials:a}=e;return n[0]!==a?(t=(0,r.jsx)("div",{className:y.monogram,children:a}),n[0]=a,n[1]=t):t=n[1],t};try{x.displayName||(x.displayName="Monogram")}catch{}let _=e=>{let t,n,a,o,s,l=(0,i.c)(14),{size:c,information:d}=e,u=void 0===c?48:c;return l[0]!==d.avatar_url||l[1]!==d.username||l[2]!==u?(t=d.avatar_url?(0,r.jsx)(m.r,{square:!0,size:u,src:d.avatar_url,alt:d.username||"User avatar"}):(0,r.jsx)(x,{initials:d.username.charAt(0)}),l[0]=d.avatar_url,l[1]=d.username,l[2]=u,l[3]=t):t=l[3],l[4]!==d.username?(n=(0,r.jsx)(h.A,{as:"h2",variant:"small",children:d.username}),l[4]=d.username,l[5]=n):n=l[5],l[6]!==d.rank?(a=(0,r.jsx)(p.B,{direction:"horizontal",wrap:"wrap",children:(0,r.jsx)(g.A,{children:d.rank},d.rank)}),l[6]=d.rank,l[7]=a):a=l[7],l[8]!==n||l[9]!==a?(o=(0,r.jsxs)("div",{className:f["contact-info-container"],children:[n,a]}),l[8]=n,l[9]=a,l[10]=o):o=l[10],l[11]!==t||l[12]!==o?(s=(0,r.jsxs)("div",{className:f["contact-container"],children:[t,o]}),l[11]=t,l[12]=o,l[13]=s):s=l[13],s},v=e=>{let t,n,a,o=(0,i.c)(5),{contacts:s}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(h.A,{as:"h1",variant:"medium",children:"Who to talk to"}),o[0]=t):t=o[0],o[1]!==s?(n=s?.map(b),o[1]=s,o[2]=n):n=o[2],o[3]!==n?(a=(0,r.jsxs)("div",{className:f["contacts-container"],children:[t,(0,r.jsx)("div",{className:f["contact-list"],children:n})]}),o[3]=n,o[4]=a):a=o[4],a};try{_.displayName||(_.displayName="Contact")}catch{}try{v.displayName||(v.displayName="ContactList")}catch{}function b(e){return(0,r.jsx)(_,{information:e},e.id)}let C={"spinner-container":"CopilotMetadata-module__spinner-container--EidxZ","tab-container":"CopilotMetadata-module__tab-container--qijcK",muted:"CopilotMetadata-module__muted--B9Loh","metadata-container":"CopilotMetadata-module__metadata-container--C3sG4","referrer-button":"CopilotMetadata-module__referrer-button--DOYxm"};var j=n(65411),S=n(96379),w=n(96540);let N=e=>{let t,n,a,m,h,p,g,f,y,x,_,b,N,I,T,k=(0,i.c)(44),{currentTab:R,setCurrentTab:A,loading:E,setLoading:L,makeCAPIRequest:M,fileContext:P}=e,F=void 0===E||E,D=P?.repoOwner,$=P?.repoName;k[0]===Symbol.for("react.memo_cache_sentinel")?(t=new URLSearchParams(s.cg?.location.search).get("issue")||"",k[0]=t):t=k[0];let O=t;k[1]!==D||k[2]!==$?(n=D&&$&&O?(0,o.dRG)({owner:D,repo:$,issueNumber:Number(O)}):void 0,k[1]=D,k[2]=$,k[3]=n):n=k[3];let B=n;k[4]!==P||k[5]!==M||k[6]!==L?(a={fileContext:P,setLoading:L,issueNumber:O,makeCAPIRequest:M},k[4]=P,k[5]=M,k[6]=L,k[7]=a):a=k[7];let{collaborators:U}=(({setLoading:e,issueNumber:t,makeCAPIRequest:n,fileContext:a})=>{let[r,i]=(0,w.useState)([]),{repoOwner:o,repoName:s,ref:l,path:c}=a??{},d=(0,w.useCallback)(async()=>{try{if(!a)return"";let e=await (0,S.lS)(`/${o}/${s}/collaborator_prompt/${c}?ref=${l}${t?`&issue=${t}`:""}`);if(!e.ok)throw Error("Something went wrong");let r=await e.text(),i={messages:[{role:"user",content:r}],model:"gpt-4o-mini",stream:!1,response_format:{type:"json_schema",json_schema:{name:"Collaborators",description:"List of metadata objects for the top collaborators",strict:!0,schema:{type:"object",additionalProperties:!1,properties:{collaborators:{type:"array",items:{type:"object",additionalProperties:!1,properties:{id:{type:"integer",description:"The collaborator's GitHub user ID."},username:{type:"string",description:"The collaborator's GitHub handle."},avatar_url:{type:"string",description:"The URL of the collaborator's GitHub user avatar."},rank:{type:"string",description:"The rank assignment of the collaborator."},explanation:{type:"string",description:"A brief 1-2 sentence description of the rank assignment."}},required:["id","username","avatar_url","rank","explanation"]}}},required:["collaborators"]}},temperature:0}},d=new j.J([]),u=await d.getAuthToken(),m=await n({basePath:"https://api.githubcopilot.com",body:i,path:"/chat/completions",method:"POST",streamingResponse:!1,authToken:u,integrationId:"copilot-directory"});if(!m.ok)throw Error("Something went wrong");let h=await m.json();return h.choices[0]?.message?.content}catch{throw Error("Something went wrong")}},[]);return(0,w.useEffect)(()=>{r?.length||d().then(t=>{e(!1),i(JSON.parse(t)?.collaborators)},()=>{e(!1)})},[]),{collaborators:r,getCollaborators:d}})(a);k[8]!==B?(m=()=>{B&&(window.location.href=B)},k[8]=B,k[9]=m):m=k[9];let z=m,V="chat"===R?"page":void 0;k[10]!==A?(h=()=>A("chat"),k[10]=A,k[11]=h):h=k[11],k[12]!==V||k[13]!==h?(p=(0,r.jsx)(c.O.Item,{"aria-current":V,onSelect:h,children:"Chat"}),k[12]=V,k[13]=h,k[14]=p):p=k[14];let q="directory"===R?"page":void 0;k[15]!==U?.length||k[16]!==F||k[17]!==A?(g=()=>{!F&&U?.length&&A("directory")},k[15]=U?.length,k[16]=F,k[17]=A,k[18]=g):g=k[18],k[19]!==U?.length?(f=U?.length?{}:{className:C.muted},k[19]=U?.length,k[20]=f):f=k[20];let W=U?.length||F?"Directory":"Directory unavailable";return k[21]!==f||k[22]!==W?(y=(0,r.jsx)("span",{...f,children:W}),k[21]=f,k[22]=W,k[23]=y):y=k[23],k[24]!==F?(x=F&&(0,r.jsx)("div",{className:C["spinner-container"],children:(0,r.jsx)(d.A,{size:"small"})}),k[24]=F,k[25]=x):x=k[25],k[26]!==y||k[27]!==x?(_=(0,r.jsxs)("div",{className:C["tab-container"],children:[y,x]}),k[26]=y,k[27]=x,k[28]=_):_=k[28],k[29]!==g||k[30]!==_||k[31]!==q?(b=(0,r.jsx)(c.O.Item,{"aria-current":q,onSelect:g,children:_}),k[29]=g,k[30]=_,k[31]=q,k[32]=b):b=k[32],k[33]!==b||k[34]!==p?(N=(0,r.jsxs)(c.O,{"aria-label":"Repository",children:[p,b]}),k[33]=b,k[34]=p,k[35]=N):N=k[35],k[36]!==U||k[37]!==R||k[38]!==B||k[39]!==z?(I="directory"===R&&(0,r.jsxs)("div",{className:C["metadata-container"],children:[(0,r.jsx)("div",{children:(0,r.jsx)(v,{contacts:U})}),B&&(0,r.jsx)("div",{className:C["referrer-button"],children:(0,r.jsx)(u.Q,{variant:"link",leadingVisual:l.ArrowLeftIcon,onClick:z,children:`Return to Issue${O?` ${O}`:""}`})})]}),k[36]=U,k[37]=R,k[38]=B,k[39]=z,k[40]=I):I=k[40],k[41]!==N||k[42]!==I?(T=(0,r.jsxs)("div",{children:[N,I]}),k[41]=N,k[42]=I,k[43]=T):T=k[43],T};try{N.displayName||(N.displayName="CopilotMetadata")}catch{}var I=n(69599),T=n(53627),k=n(53419),R=n(88431),A=n(75177),E=n(30729),L=n(34164),M=n(87419),P=n(88392),F=n(25641),D=n(73952),$=n(51213),O=n(35247),B=n(2635),U=n(33592),z=n(72303),V=n(46062),q=n(68637),W=n(97315);let H={legalText:"Chat-module__legalText--nFibb",ChatMainContainer:"Chat-module__ChatMainContainer--r_Lbb",messagesContainer:"Chat-module__messagesContainer--pUaGC",loadingStateContainer:"Chat-module__loadingStateContainer--jXyyu",loadingText:"Chat-module__loadingText--XRJo1",errorContainer:"Chat-module__errorContainer--Ci2Ci",suggestedPromptsGrid:"Chat-module__suggestedPromptsGrid--DPria",chatInputContainer:"Chat-module__chatInputContainer--yKT4X",suggestedPromptButton:"Chat-module__suggestedPromptButton--VrQUl",promptHeading:"Chat-module__promptHeading--CccY2",promptDescription:"Chat-module__promptDescription--gkjS8"};var G=n(22303),K=n(30558),Q=n(63262),Z=n(7104),J=n(32744),Y=n(52446);let X={suggestionListHeading:"CopilotSuggestions-module__suggestionListHeading--W7rpU",suggestionItem:"CopilotSuggestions-module__suggestionItem--hVOB9",suggestionsList:"CopilotSuggestions-module__suggestionsList--vzbN1"},ee=e=>{let t,n,a,o=(0,i.c)(10),{suggestionKind:s}=e,c=(0,B.Pk)(),d=(0,U.b)();o[0]!==d||o[1]!==c?(t=e=>{d.sendChatMessage({thread:(0,z.W)(c),content:e.prompt??e.question,intent:e.intent,modeOverride:e.mode,references:c.currentReferences,topic:c.currentTopic,context:c.context}),(0,k.BI)("copilot_generated_suggestion_click",{intent:e.intent,mode:e.mode,contextType:c.context?.[0]?.type,content:e.question})},o[0]=d,o[1]=c,o[2]=t):t=o[2];let u=t;o[3]!==u?(n=(0,w.memo)(function(e){let{suggestion:t}=e;return(0,r.jsxs)(Y.l.Item,{onSelect:()=>u(t),className:X.suggestionItem,children:[(0,r.jsx)(Y.l.LeadingVisual,{children:(0,r.jsx)(E.A,{icon:l.PaperAirplaneIcon})}),(0,r.jsxs)("span",{children:[" ",t.question]})]})}),o[3]=u,o[4]=n):n=o[4];let m=n,h="loading"===c.messagesLoading.state||!!c.streamingMessage,{suggestions:p}=c,g=c.currentReferences[0],f=1===c.currentReferences.length&&g?.type==="repository"&&g.id===c.currentRepository?.id,y=!!(!h&&f);return o[5]!==m||o[6]!==y||o[7]!==s||o[8]!==p?(a=y&&p&&p.suggestions?(0,r.jsxs)(Y.l,{className:(0,L.$)("copilot-suggestions",X.suggestionsList),children:["initial"===s&&(0,r.jsx)(Y.l.Heading,{as:"h2",className:X.suggestionListHeading,children:function(e){return e?`Ask about the ${e.replace(/-/g," ")}:`:"Ask anything:"}(p.referenceType)}),p?.suggestions.map(e=>(0,r.jsx)(m,{suggestion:e},e.question))]}):null,o[5]=m,o[6]=y,o[7]=s,o[8]=p,o[9]=a):a=o[9],a},et=(0,w.memo)(ee);try{ee.displayName||(ee.displayName="CopilotSuggestions")}catch{}try{(a=CopilotSuggestion).displayName||(a.displayName="CopilotSuggestion")}catch{}var en=n(93412),ea=n(35673),er=n(79184),ei=n(59674),eo=n(10871),es=n(87330);let el={container:"CustomBanner-module__container--QLdBn",expanded:"CustomBanner-module__expanded--NUbF0",actions:"CustomBanner-module__actions--zeIqy",iconButton:"CustomBanner-module__iconButton--BUeu0",content:"CustomBanner-module__content--szVMr",icon:"CustomBanner-module__icon--_7NPB"};function ec(e){let t,n,a,o,s,c,d,u=(0,i.c)(16),{icon:m,content:h,actions:p,onDismiss:g}=e,f=(0,w.useRef)(null),[y,x]=(0,w.useState)(!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=f.current;if(!e)return;let t=new ResizeObserver(t=>{for(let n of t)n.target===e&&(n.contentRect.height>40?x(!0):x(!1))});return t.observe(e),()=>{t.disconnect()}},n=[],u[0]=t,u[1]=n):(t=u[0],n=u[1]),(0,w.useEffect)(t,n);let _=`${el.container} ${y?el.expanded:""}`;return u[2]!==m?(a=(0,r.jsx)("div",{className:el.icon,children:m}),u[2]=m,u[3]=a):a=u[3],u[4]!==h?(o=(0,r.jsx)("div",{className:el.content,children:h}),u[4]=h,u[5]=o):o=u[5],u[6]!==g?(s=g&&(0,r.jsx)(es.K,{className:el.iconButton,variant:"invisible",icon:l.XIcon,size:"medium","aria-label":"Close",onClick:g}),u[6]=g,u[7]=s):s=u[7],u[8]!==p||u[9]!==s?(c=(0,r.jsxs)("div",{className:el.actions,children:[p,s]}),u[8]=p,u[9]=s,u[10]=c):c=u[10],u[11]!==_||u[12]!==a||u[13]!==o||u[14]!==c?(d=(0,r.jsxs)("div",{ref:f,className:_,children:[a,o,c]}),u[11]=_,u[12]=a,u[13]=o,u[14]=c,u[15]=d):d=u[15],d}try{ec.displayName||(ec.displayName="CustomBanner")}catch{}function ed(){let e,t,n,a,o,s=(0,i.c)(7),{resetDate:c}=(0,er.xR)();s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.InfoIcon,{}),s[0]=e):e=s[0];let d=e;s[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(ei.s,{children:(0,r.jsx)("h2",{children:"Usage limit reached"})}),s[1]=t):t=s[1],s[2]!==c?(n=(0,r.jsxs)(r.Fragment,{children:[t,"You have reached your free plan limit. It will reset on ",c]}),s[2]=c,s[3]=n):n=s[3];let u=n;s[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)(eo.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:eu,children:"Upgrade"}),s[4]=a):a=s[4];let m=a;return s[5]!==u?(o=(0,r.jsx)(ec,{icon:d,content:u,actions:m}),s[5]=u,s[6]=o):o=s[6],o}function eu(){(0,k.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_BANNER_LINK_UPGRADE",mode:"assistive"})}try{ed.displayName||(ed.displayName="QuotaExceededBanner")}catch{}var em=n(74807),eh=n(81246);let ep={container:"QuotaExceededEmptyState-module__container--UBt9E",main:"QuotaExceededEmptyState-module__main--rwRZl",copy:"QuotaExceededEmptyState-module__copy--Ul81N",heading:"QuotaExceededEmptyState-module__heading--jMYRX",description:"QuotaExceededEmptyState-module__description--SvMpU",footer:"QuotaExceededEmptyState-module__footer--lM9PT"};function eg(){let e,t,n,a,o,s,l,c,d,u,m,h,p=(0,i.c)(19),{resetDate:g}=(0,er.xR)(),[f,y]=(0,w.useState)(!1),[x,_]=(0,w.useState)(!1);p[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{y(!0),_(!0)},p[0]=e):e=p[0];let v=e;p[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{y(!1)},p[1]=t):t=p[1];let b=t;p[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{_(!1)},p[2]=n):n=p[2];let C=n,j=f||x;return p[3]!==f||p[4]!==j?(a=j?(0,r.jsx)(em.N,{animationType:"jumpWiggle",loopAnimation:f,size:80,onAnimationEnd:C}):(0,r.jsx)(em.N,{animationType:"static",loopAnimation:!1,size:80}),p[3]=f,p[4]=j,p[5]=a):a=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)("h2",{className:ep.heading,children:"You\u2019ve reached your free plan limit"}),p[6]=o):o=p[6],p[7]!==g?(s=(0,r.jsxs)("p",{className:ep.description,children:["Your limits will reset on ",g,"."]}),p[7]=g,p[8]=s):s=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(eo.z,{as:"a",variant:"primary",href:"https://github.com/github-copilot/pro",onMouseEnter:v,onMouseLeave:b,onClick:ef,children:"Upgrade"}),p[9]=l):l=p[9],p[10]!==s?(c=(0,r.jsxs)("div",{className:ep.copy,children:[o,s,l]}),p[10]=s,p[11]=c):c=p[11],p[12]!==a||p[13]!==c?(d=(0,r.jsxs)("div",{className:ep.main,children:[a,c]}),p[12]=a,p[13]=c,p[14]=d):d=p[14],p[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)("strong",{children:"Part of an organization?"}),p[15]=u):u=p[15],p[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsxs)("div",{className:ep.footer,children:[u,(0,r.jsxs)("span",{children:["Upgrade to"," ",(0,r.jsx)(eh.A,{href:"https://github.com/github-copilot/business_signup/choose_business_type?cft=copilot_li.features_copilot.cfb",inline:!0,children:"Copilot Business"})," ","to enable across teams."]})]}),p[16]=m):m=p[16],p[17]!==d?(h=(0,r.jsxs)("div",{className:ep.container,children:[d,m]}),p[17]=d,p[18]=h):h=p[18],h}function ef(){(0,k.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_EMPTY_STATE_LINK_UPGRADE",mode:"assistive"})}try{eg.displayName||(eg.displayName="QuotaExceededEmptyState")}catch{}var ey=n(79064);let ex={container:"QuotaMeterBanner-module__container--BWRlc"};function e_(){let e,t,n,a,o,s,c,d=(0,i.c)(9),{isLicensedLimited:u,chatQuotaRemaining:m}=(0,er.xR)(),[h,p]=(0,w.useState)(eb);d[0]!==m||d[1]!==u?(e=()=>{if(u&&void 0!==m){let e=ey.Jt.getMeterBannerFlag();m>0&&m<=10?null===e?(ey.Jt.setMeterBannerFlag(!0),p(!0)):p(e):(ey.Jt.removeMeterBannerFlag(),p(!1))}},t=[u,m],d[0]=m,d[1]=u,d[2]=e,d[3]=t):(e=d[2],t=d[3]),(0,w.useEffect)(e,t),d[4]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{ey.Jt.setMeterBannerFlag(!1),p(!1)},d[4]=n):n=d[4];let g=n;if(!h||void 0===m)return null;d[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)(l.InfoIcon,{}),d[5]=a):a=d[5];let f=a;d[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ei.s,{children:(0,r.jsx)("h2",{children:"Usage limit approaching"})}),"You only have a few free responses remaining."]}),d[6]=o):o=d[6];let y=o;d[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(eo.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:ev,children:"Upgrade"}),d[7]=s):s=d[7];let x=s;return d[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)("div",{className:ex.container,children:(0,r.jsx)(ec,{icon:f,content:y,actions:x,onDismiss:g})}),d[8]=c):c=d[8],c}function ev(){(0,k.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"assistive"})}function eb(){return ey.Jt.getMeterBannerFlag()??!1}try{e_.displayName||(e_.displayName="QuotaMeterBanner")}catch{}var eC=n(33544),ej=n(84511);let eS={iconContainer:"ChatWithCopilotHeader-module__iconContainer--XyD0H",headerTitle:"ChatWithCopilotHeader-module__headerTitle--ovUdi",descriptionText:"ChatWithCopilotHeader-module__descriptionText--bb_1f"};var ew=n(78328);function eN(e){let t,n,a,o=(0,i.c)(4),{mode:s}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{className:eS.iconContainer,children:(0,r.jsx)(ew.A,{})}),n=(0,r.jsx)(h.A,{as:"h1",className:eS.headerTitle,children:"Ask Copilot"}),o[0]=t,o[1]=n):(t=o[0],n=o[1]);let l="immersive"===s?5:3;return o[2]!==l?(a=(0,r.jsxs)(r.Fragment,{children:[t,n,(0,r.jsx)(ej.A,{as:"p",sx:{mb:l},className:eS.descriptionText,children:"Select a repository to get started. Ask questions about your codebase to get answers fast and learn your way around."})]}),o[2]=l,o[3]=a):a=o[3],a}try{eN.displayName||(eN.displayName="ChatWithCopilotHeader")}catch{}function eI(e){let t,n=(0,i.c)(4),{docset:a,size:o}=e,s="organization"===a.ownerType;return n[0]!==a.avatarUrl||n[1]!==o||n[2]!==s?(t=(0,r.jsx)(m.r,{src:a.avatarUrl,square:s,size:o}),n[0]=a.avatarUrl,n[1]=o,n[2]=s,n[3]=t):t=n[3],t}try{eI.displayName||(eI.displayName="KnowledgeBaseAvatar")}catch{}var eT=n(70170),ek=n(24815),eR=n(26408),eA=n(26239),eE=n(27844);let eL={TopicListContainer:"TopicList-module__TopicListContainer--q95Ja",searchInputContainer:"TopicList-module__searchInputContainer--MpQGB",TextInput:"TopicList-module__TextInput--tm_7r",loadingContainer:"TopicList-module__loadingContainer--gQUvo",mutedLeadingVisual:"TopicList-module__mutedLeadingVisual--zyTv5",ActionList_Divider:"TopicList-module__ActionList_Divider--tKVd_",generalPurposeItem:"TopicList-module__generalPurposeItem--UKLE6"};function eM(){let e,t,n,a,o,s,c,u,m,h,p,g=(0,i.c)(23),f=(0,U.b)(),{mode:y,selectedThreadID:x}=(0,B.Pk)(),[_,v]=(0,w.useState)("");g[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,eT.s)(e=>v(e),400,{start:!1}),g[0]=e):e=g[0];let b=e,{repositories:C,loading:j,resetTopRepoResults:S}=(0,eR.U)(_,!0,4);g[1]!==f||g[2]!==y||g[3]!==S||g[4]!==x?(t=async e=>{if(S(),void 0===e){f.showTopicPicker(!1),f.clearCurrentTopic(),f.clearCurrentReferences(),"immersive"===y&&(0,T.kd)("/copilot"),x&&ey.Jt.setSelectedTopic(x,null);return}await f.fetchCurrentRepo(Number(e)),f.showTopicPicker(!1)},g[1]=f,g[2]=y,g[3]=S,g[4]=x,g[5]=t):t=g[5];let N=t;e:{if(j){n="Loading repositories";break e}if(0===C.length){n="No repositories found";break e}if(1===C.length){n="1 repository found";break e}n=`${C.length} repositories found`}let I=n;return g[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)("div",{className:eL.searchInputContainer,children:(0,r.jsx)(ek.A,{id:eA.uN,leadingVisual:l.SearchIcon,name:"topic-search","aria-label":"Search repositories to chat about",placeholder:"Search repositories to chat about",onChange:e=>b(e.target.value),className:eL.TextInput})}),g[6]=a):a=g[6],g[7]!==I?(o=(0,r.jsx)("div",{role:"status",className:"sr-only",children:I}),g[7]=I,g[8]=o):o=g[8],g[9]!==N||g[10]!==j||g[11]!==C?(s=j?(0,r.jsx)("li",{className:eL.loadingContainer,children:(0,r.jsx)(d.A,{})}):0===C.length?(0,r.jsxs)(Y.l.Item,{disabled:!0,children:[(0,r.jsx)(Y.l.LeadingVisual,{className:eL.mutedLeadingVisual,children:(0,r.jsx)(l.CircleSlashIcon,{})}),(0,r.jsx)("span",{className:eL.mutedLeadingVisual,children:"No results found"})]}):(0,r.jsx)(r.Fragment,{children:C.length>0&&(0,r.jsxs)(Y.l.Group,{children:[(0,r.jsx)(Y.l.GroupHeading,{as:"h3",children:"Recent repositories"}),C.map(e=>(0,r.jsx)(eE.W,{repo:e,onSelect:N,trailingVisualComponent:(0,r.jsx)(l.ArrowRightIcon,{})},e.nwo))]})}),g[9]=N,g[10]=j,g[11]=C,g[12]=s):s=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(Y.l.Divider,{className:eL.ActionList_Divider}),g[13]=c):c=g[13],g[14]!==N?(u=()=>N(void 0),g[14]=N,g[15]=u):u=g[15],g[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(Y.l.TrailingVisual,{children:(0,r.jsx)(l.ArrowRightIcon,{})}),g[16]=m):m=g[16],g[17]!==u?(h=(0,r.jsxs)(Y.l.Item,{id:"chat-with-no-context",onSelect:u,className:eL.generalPurposeItem,children:["General purpose chat",m]},"chat-with-no-context"),g[17]=u,g[18]=h):h=g[18],g[19]!==o||g[20]!==s||g[21]!==h?(p=(0,r.jsxs)("div",{className:eL.TopicListContainer,children:[a,(0,r.jsxs)(Y.l,{children:[o,s,c,h]})]}),g[19]=o,g[20]=s,g[21]=h,g[22]=p):p=g[22],p}try{eM.displayName||(eM.displayName="TopicList")}catch{}let eP={TopicPickerContainer:"TopicPicker-module__TopicPickerContainer--jqRrB",mainContentContainer:"TopicPicker-module__mainContentContainer--EAEDK",topicListContainer:"TopicPicker-module__topicListContainer--q3K2a",SingleSignOnBanner:"TopicPicker-module__SingleSignOnBanner--WOn5V",topicDescriptionContainer:"TopicPicker-module__topicDescriptionContainer--CGD3V",docsetDescriptionCard:"TopicPicker-module__docsetDescriptionCard--IYOzX",docsetHeaderContainer:"TopicPicker-module__docsetHeaderContainer--E0Vtq",Heading:"TopicPicker-module__Heading--m61pA",statusText:"TopicPicker-module__statusText--EdXY0",repositoriesSubheading:"TopicPicker-module__repositoriesSubheading--ihIfq",repositoriesContainer:"TopicPicker-module__repositoriesContainer--x7mXz",repositoryItem:"TopicPicker-module__repositoryItem--hnv1a"},eF=()=>{let e,t,n,a,o,s,l=(0,i.c)(14),c=(0,B.Pk)();e:{let t;if(!c.ssoOrganizations){let t;l[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],l[0]=t):t=l[0],e=t;break e}l[1]!==c.ssoOrganizations?(t=c.ssoOrganizations.map(eB),l[1]=c.ssoOrganizations,l[2]=t):t=l[2],e=t}let d=e;return l[3]!==c.mode?(t=(0,r.jsx)(eN,{mode:c.mode}),l[3]=c.mode,l[4]=t):t=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{className:eP.topicListContainer,children:(0,r.jsx)(eM,{})}),l[5]=n):n=l[5],l[6]!==d?(a=!(0,I.G7)("global_sso_banner")&&(0,r.jsx)(eC.x,{portalContainerName:ea.E5,protectedOrgs:d,redirectURI:eU,className:eP.SingleSignOnBanner}),l[6]=d,l[7]=a):a=l[7],l[8]!==c.currentTopic?(o=(0,r.jsx)(eD,{currentTopic:c.currentTopic}),l[8]=c.currentTopic,l[9]=o):o=l[9],l[10]!==t||l[11]!==a||l[12]!==o?(s=(0,r.jsx)("div",{className:eP.TopicPickerContainer,children:(0,r.jsxs)("div",{className:eP.mainContentContainer,children:[t,n,a,o]})}),l[10]=t,l[11]=a,l[12]=o,l[13]=s):s=l[13],s};function eD(e){let t,n=(0,i.c)(2),{currentTopic:a}=e;return(0,F.P)(a)?(n[0]!==a?(t=(0,r.jsx)("div",{className:eP.topicDescriptionContainer,children:(0,r.jsx)(e$,{docset:a})}),n[0]=a,n[1]=t):t=n[1],t):null}function e$(e){let t,n,a,o,s,l,c,d,u=(0,i.c)(16),{docset:m}=e;return u[0]!==m?(t=(0,r.jsx)(eI,{docset:m,size:24}),u[0]=m,u[1]=t):t=u[1],u[2]!==m.name?(n=(0,r.jsx)(h.A,{as:"h3",className:eP.Heading,children:m.name}),u[2]=m.name,u[3]=n):n=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)("span",{className:eP.statusText,children:"Knowledge base added to conversation"}),u[4]=a):a=u[4],u[5]!==t||u[6]!==n?(o=(0,r.jsxs)("div",{className:eP.docsetHeaderContainer,children:[t,n," ",a]}),u[5]=t,u[6]=n,u[7]=o):o=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(h.A,{as:"h4",className:eP.repositoriesSubheading,children:"Repositories in this knowledge base"}),u[8]=s):s=u[8],u[9]!==m.repos?(l=m.repos.map(eO),u[9]=m.repos,u[10]=l):l=u[10],u[11]!==l?(c=(0,r.jsx)("div",{className:eP.repositoriesContainer,children:l}),u[11]=l,u[12]=c):c=u[12],u[13]!==o||u[14]!==c?(d=(0,r.jsxs)("div",{className:eP.docsetDescriptionCard,children:[o,s,c]}),u[13]=o,u[14]=c,u[15]=d):d=u[15],d}function eO(e){return(0,r.jsxs)("div",{className:eP.repositoryItem,children:[(0,r.jsx)(l.RepoIcon,{}),` ${e}`]},e)}try{eF.displayName||(eF.displayName="TopicPicker")}catch{}try{eD.displayName||(eD.displayName="TopicDescription")}catch{}try{e$.displayName||(e$.displayName="DocsetDescription")}catch{}function eB(e){return e.login}function eU(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}let ez=e=>{let t,n,a,o,s=(0,i.c)(14),{disableTopicPicker:l,inputRef:c,showQuotaExceededEmptyState:d}=e,u=(0,B.Pk)(),{isWaitingOnCopilot:m,showTopicPicker:h,streamingMessage:p}=u,{scrollToBottom:g}=(0,Z.b)(),{messages:f,groupedMessages:y}=(0,P.a)(u);return s[0]!==g?(t=()=>g("instant"),n=[g],s[0]=g,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,R.N)(t,n),s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)("h2",{className:"sr-only",children:"Copilot Chat"}),s[3]=a):a=s[3],s[4]!==f||s[5]!==l||s[6]!==y||s[7]!==c||s[8]!==m||s[9]!==d||s[10]!==h||s[11]!==u||s[12]!==p?(o=(0,r.jsxs)(r.Fragment,{children:[a,d?(0,r.jsx)(eg,{}):h&&!l?(0,r.jsx)(eF,{}):(0,r.jsx)("div",{className:H.ChatMainContainer,children:(0,r.jsxs)("div",{className:(0,L.$)("copilot-messages-container",H.messagesContainer),children:[0===f.length&&(0,r.jsx)("p",{className:H.legalText,children:(0,r.jsx)(en.h,{})}),y.map((e,t)=>(0,r.jsx)(Q.i,{isLastGroup:t===y.length-1,children:e.map((n,a)=>{let i=t===y.length-1&&a===e.length-1;return(n===p||n.id===$.Wp||!eV(n)||!O.W.dotcomChatClientSideSkills||n.error||eq(n,i,u))&&(0,r.jsx)(K.c,{isLatestMessage:i,isFirstReply:1===f.length,isStreaming:n.id===p?.id||i&&m,message:n,inputRef:c},a)})},t)),u.clientSkillConfirmation&&O.W.dotcomChatClientSideSkills&&(0,r.jsx)("div",{className:"m-3",children:(0,r.jsx)(J.m,{confirmation:u.clientSkillConfirmation,handleConfirmation:e=>u.clientSkillConfirmation?.onSubmit?.("accepted"===e.state),isLatestMessage:!0})})]})})]}),s[4]=f,s[5]=l,s[6]=y,s[7]=c,s[8]=m,s[9]=d,s[10]=h,s[11]=u,s[12]=p,s[13]=o):o=s[13],o},eV=e=>!e.content&&(!e.confirmations||0===e.confirmations.length)&&(!e.clientConfirmations||0===e.clientConfirmations.length),eq=(e,t,n)=>(e=>e.clientSkillsRequests&&e.clientSkillsRequests.length>0||e.clientToolResults&&e.clientToolResults.length>0)(e)&&t&&!n.streamingMessage&&!n.clientSkillConfirmation,eW=()=>{let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("div",{className:H.loadingStateContainer,children:[(0,r.jsx)(d.A,{size:"large"}),(0,r.jsx)("div",{className:H.loadingText,children:"Loading conversation\u2026"})]}),t[0]=e):e=t[0],e},eH=()=>{let e,t,n,a,o=(0,i.c)(8),{mode:s,reviewLab:c}=(0,B.Pk)(),d="immersive"===s?3:2;return o[0]!==d?(e={pl:d},o[0]=d,o[1]=e):e=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(E.A,{icon:l.AlertIcon}),o[2]=t):t=o[2],o[3]!==c?(n=c&&(0,r.jsx)(r.Fragment,{children:"\xa0You are in a review lab. Please check that you are connected to the Developer VPN."}),o[3]=c,o[4]=n):n=o[4],o[5]!==e||o[6]!==n?(a=(0,r.jsxs)(A.A,{sx:e,className:H.errorContainer,children:[t,"Failed to load previous messages.",n]}),o[5]=e,o[6]=n,o[7]=a):a=o[7],a},eG=({inputRef:e})=>{let t=(0,B.Pk)(),n=(0,U.b)(),{currentReferences:a,messagesLoading:i,messagesRestored:o,threadsLoading:s,currentTopic:l,messages:c,mode:d,selectedThreadID:u,showTopicPicker:m,context:h}=t,p=(0,z.W)(t),g=(0,w.useMemo)(()=>(0,F.k4)(Object.keys(q.Pe)).slice(0,4).map(e=>({heading:e,content:(0,F.k4)(q.Pe[e])[0]})),[]),{textAreaRef:f}=(0,M.Y)(e),{chatQuotaExceeded:y,isLicensedLimited:x,reloadQuota:_}=(0,er.xR)(),{ambientError:v}=(0,B.Pk)(),[b,C]=(0,w.useState)(!0),[j,S]=(0,w.useState)("chat"),R=(0,I.G7)("copilot_metadata_poc"),A=!!h&&h[0]&&("file"===h[0].type||"file-v2"===h[0].type),E=(0,V.GF)(t.availableModels);(0,w.useEffect)(()=>{if(!u||"assistive"===d)return;let e=`${F.Jz}/c/${u}`;window.location.pathname!==e&&0!==c.length&&(0,T.kd)(e)},[u,d,c.length]);let P=(0,w.useCallback)(async e=>{""!==e.trim()&&(_("user_submit"),await n.sendChatMessage({thread:p,content:e,references:a,topic:l,context:h,customInstructions:t.customInstructions,skillOptions:t.skillOptions,model:E}))},[_,n,p,a,l,h,t.customInstructions,t.skillOptions,E]),$=o&&c.length>0,O="loading"===i.state&&t.selectedThreadID&&!m&&!$,K="error"===i.state||"error"===s.state,Q="loaded"===i.state||$,J=y&&(m||!p),[Y]=(0,w.useState)(t.renderAttachKnowledgeBaseHerePopover),X=(0,D.B)(c),ee=!!(!O&&!t.currentTopic&&!m&&0===X.length&&!Y&&0===a.length);return(0,r.jsxs)(r.Fragment,{children:[R&&A&&(0,r.jsx)(N,{fileContext:h[0],loading:b,setLoading:C,currentTab:j,setCurrentTab:S,makeCAPIRequest:F.p}),(!R||!!R&&"chat"===j)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Z.$,{className:"copilot-chat-messages",style:{flex:"1 1 auto"},children:[O&&(0,r.jsx)(eW,{}),K&&(0,r.jsx)(eH,{}),Q&&!O&&(0,r.jsx)(ez,{inputRef:f,showQuotaExceededEmptyState:J}),(0,r.jsx)(ea.Cb,{})]}),ee&&(0,r.jsx)("div",{className:(0,L.$)("copilot-chat-messages",H.suggestedPromptsGrid),children:g.map((e,a)=>(0,r.jsx)(eK,{heading:e.heading,content:e.content,onSubmit:()=>{n.sendChatMessage({thread:(0,z.W)(t),content:e.content,references:t.currentReferences,topic:t.currentTopic,context:t.context}),(0,k.BI)("copilot_chat_suggestion_click",{topic:t.currentTopic?.name})}},a))}),!O&&!m&&!J&&(0,r.jsx)("div",{className:(0,L.$)("copilot-chat-input copilot-chat-input-outer",H.chatInputContainer),children:y?(0,r.jsx)(ed,{}):(0,r.jsxs)(r.Fragment,{children:[!ee&&0===X.length&&!t.showTopicPicker&&(0,r.jsx)(et,{suggestionKind:"initial"}),(0,r.jsxs)("div",{children:[x&&(0,r.jsx)(e_,{}),v&&(0,r.jsx)(W.P,{ambientError:v}),(0,r.jsx)(G.V,{textAreaRef:f,onSubmit:P,isStreaming:!!t.streamingMessage,size:"small"},u)]})]})})]}),(0,r.jsx)(ea.zc,{})]})};function eK(e){let t,n,a,o=(0,i.c)(8),{heading:s,content:l,onSubmit:c}=e;return o[0]!==s?(t=(0,r.jsx)(h.A,{as:"h3",className:H.promptHeading,children:s}),o[0]=s,o[1]=t):t=o[1],o[2]!==l?(n=(0,r.jsx)("p",{className:H.promptDescription,children:l}),o[2]=l,o[3]=n):n=o[3],o[4]!==c||o[5]!==t||o[6]!==n?(a=(0,r.jsxs)(u.Q,{onClick:c,className:H.suggestedPromptButton,children:[t,n]}),o[4]=c,o[5]=t,o[6]=n,o[7]=a):a=o[7],a}try{ez.displayName||(ez.displayName="Messages")}catch{}try{eW.displayName||(eW.displayName="Loading")}catch{}try{eH.displayName||(eH.displayName="Error")}catch{}try{eG.displayName||(eG.displayName="Chat")}catch{}try{eK.displayName||(eK.displayName="SuggestedPrompt")}catch{}},55009:(e,t,n)=>{n.d(t,{o:()=>d});var a=n(74848),r=n(21728),i=n(34164),o=n(96540);let s={chatImageAttachment:"ChatImage-module__chatImageAttachment--yonSm",squareView:"ChatImage-module__squareView--nZPWG",fullView:"ChatImage-module__fullView--hHWSy",userAttachedImage:"ChatImage-module__userAttachedImage--e5PZR",overlay:"ChatImage-module__overlay--Z0bfs",overlayScreen:"ChatImage-module__overlayScreen--oZnB_",expandIcon:"ChatImage-module__expandIcon--H2k4g"};function l(e){let t,n,i=(0,r.c)(5),{className:o,size:s}=e,l=s||14,c=s||14;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),i[0]=t):t=i[0],i[1]!==o||i[2]!==l||i[3]!==c?(n=(0,a.jsx)("svg",{className:o,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),i[1]=o,i[2]=l,i[3]=c,i[4]=n):n=i[4],n}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,n,c,d,u,m,h,p,g,f=(0,r.c)(25),{src:y,alt:x,onClick:_,useOverlay:v,mode:b,squareView:C}=e,[j,S]=(0,o.useState)(!1),w=C?s.squareView:s.fullView,N="assistive"===b;f[0]!==w||f[1]!==N?(t=(0,i.$)(s.chatImageAttachment,w,{assistive:N}),f[0]=w,f[1]=N,f[2]=t):t=f[2];let I=C?s.squareView:s.fullView;return f[3]!==I?(n=(0,i.$)(s.userAttachedImage,I),f[3]=I,f[4]=n):n=f[4],f[5]!==x||f[6]!==y||f[7]!==n?(c=(0,a.jsx)("img",{className:n,src:y,alt:x}),f[5]=x,f[6]=y,f[7]=n,f[8]=c):c=f[8],f[9]!==j||f[10]!==C?(d=(0,i.$)(s.overlay,{hovered:j,[s.squareView]:C}),f[9]=j,f[10]=C,f[11]=d):d=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(u=()=>S(!0),m=()=>S(!1),f[12]=u,f[13]=m):(u=f[12],m=f[13]),f[14]!==v?(h=v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:s.overlayScreen}),(0,a.jsx)(l,{className:s.expandIcon,size:20})]}),f[14]=v,f[15]=h):h=f[15],f[16]!==_||f[17]!==y||f[18]!==h||f[19]!==d?(p=(0,a.jsx)("a",{href:y,className:d,onClick:_,onMouseEnter:u,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:h}),f[16]=_,f[17]=y,f[18]=h,f[19]=d,f[20]=p):p=f[20],f[21]!==p||f[22]!==t||f[23]!==c?(g=(0,a.jsxs)("div",{className:t,children:[c,p]}),f[21]=p,f[22]=t,f[23]=c,f[24]=g):g=f[24],g},d=(0,o.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{d.displayName||(d.displayName="ChatImage")}catch{}},22303:(e,t,n)=>{n.d(t,{V:()=>t3});var a,r,i=n(74848),o=n(21728),s=n(53419),l=n(85788),c=n(5945),d=n(46309),u=n(12004),m=n(52446),h=n(96540),p=n(82595),g=n(35247),f=n(84646),y=n(2635),x=n(79802),_=n(17485),v=n(25641),b=n(34164);let C={toggleButton:"ToggleButton-module__toggleButton--JlWKX",selected:"ToggleButton-module__selected--fx0LM",icon:"ToggleButton-module__icon--mJLXC",textContent:"ToggleButton-module__textContent--xX6cl"},j=(0,h.forwardRef)((e,t)=>{let n,a,r,s,l,c,d,u,m,h,p,g,f,y,x,_,v,j=(0,o.c)(35);j[0]!==e?({icon:a,isSelected:c,onClick:r,hasMenu:d,isMenuOpen:u,selectedItemLabel:l,children:n,...s}=e,j[0]=e,j[1]=n,j[2]=a,j[3]=r,j[4]=s,j[5]=l,j[6]=c,j[7]=d,j[8]=u):(n=j[1],a=j[2],r=j[3],s=j[4],l=j[5],c=j[6],d=j[7],u=j[8]);let S=void 0!==c&&c,w=void 0!==d&&d,N=void 0!==u&&u;j[9]!==s?(m=Object.keys(s).reduce((e,t)=>(t.startsWith("aria-")&&(e[t]=s[t]),e),{}),j[9]=s,j[10]=m):m=j[10];let I=m;j[11]!==w||j[12]!==N||j[13]!==S?(h=()=>w?{"aria-haspopup":"menu","aria-expanded":N}:{"aria-pressed":S},j[11]=w,j[12]=N,j[13]=S,j[14]=h):h=j[14];let T=h;j[15]!==T?(p=T(),j[15]=T,j[16]=p):p=j[16],j[17]!==I||j[18]!==p?(g={...I,...p},j[17]=I,j[18]=p,j[19]=g):g=j[19];let k=g,R=w&&l?l:n;j[20]!==r?(f=e=>{r&&r(e)},j[20]=r,j[21]=f):f=j[21];let A=f,E=S&&C.selected;return j[22]!==E?(y=(0,b.$)(C.toggleButton,E),j[22]=E,j[23]=y):y=j[23],j[24]!==a?(x=!!a&&(0,i.jsx)("span",{className:C.icon,children:a}),j[24]=a,j[25]=x):x=j[25],j[26]!==R?(_=(0,i.jsx)("span",{className:C.textContent,children:R}),j[26]=R,j[27]=_):_=j[27],j[28]!==k||j[29]!==A||j[30]!==t||j[31]!==y||j[32]!==x||j[33]!==_?(v=(0,i.jsxs)("button",{ref:t,type:"button",className:y,onClick:A,...k,children:[x,_]}),j[28]=k,j[29]=A,j[30]=t,j[31]=y,j[32]=x,j[33]=_,j[34]=v):v=j[34],v});j.displayName="ToggleButton";var S=n(37238);function w(){let[e,t]=(0,h.useState)(!1),n=(0,l.Zp)(),{handleSpaceSelect:a,clearSpaceSelection:r,activeCopilotSpaceId:o,readOnly:b}=(0,_.C)(),C=(0,h.useRef)(null),w=(0,h.useRef)(null),[N,I]=(0,h.useState)(!1),T=()=>{g.W.spacesV3UI?I(!0):n(v.QT),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_CREATE_SPACE",mode:"immersive"})},{data:k=[],isLoading:R}=function(){let{threads:e}=(0,y.Pk)(),t=Array.from(e.values()).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).map(e=>(0,x.O)(e)).filter(e=>null!==e),n=(0,f.jS)(!0),{data:a}=n;if(void 0===a)return n;let r=new Set,i=[...t.map(e=>a.find(t=>e.id===t.id&&e.owner===t.owner)).filter(e=>{if(void 0===e)return!1;let t=`${e.owner}:${e.id}`;return!r.has(t)&&(r.add(t),!0)}),...[...a].sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).filter(e=>{let t=`${e.owner}:${e.id}`;return!r.has(t)})].slice(0,5);return{...n,data:i}}(),{data:A=[],isLoading:E}=(0,f.jS)(!0),L=(0,f.BV)(),M=R||E;if((0,h.useEffect)(()=>{if(M&&e&&C.current)C.current.focus();else if(!M&&e&&w.current){let e=setTimeout(()=>{w.current?.focus()},0);return()=>clearTimeout(e)}},[M,e]),!L||b)return;let P=o?A.find(e=>e.id===o.id&&e.owner===o.owner):void 0,F=P?P.name:"Space",D="260px";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.W,{open:e,onOpenChange:t,children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(j,{icon:(0,i.jsx)(p.I,{icon:"spaces"}),isSelected:!!P,onClick:()=>{},hasMenu:!0,"aria-label":"Select a copilot space for this conversation",isMenuOpen:e,selectedItemLabel:F,children:F})}),(0,i.jsx)(c.W.Overlay,{style:k.length>0?{width:D}:{},children:M?(0,i.jsxs)(d.B,{direction:"horizontal",align:"center",justify:"center",padding:"normal",style:{width:D},children:[(0,i.jsx)("div",{ref:C,role:"status",className:"sr-only",tabIndex:-1,children:"Loading spaces"}),(0,i.jsx)(u.A,{})]}):(0,i.jsx)(m.l,{selectionVariant:"single",role:"menu","aria-label":"Select a space",children:k.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.l.Group,{children:[(0,i.jsx)(m.l.GroupHeading,{"aria-label":"Recent spaces",children:"Recent"}),k.map((e,n)=>{let l=!!o&&e.id===o.id&&e.owner===o.owner;return(0,i.jsx)(m.l.Item,{ref:0===n?w:void 0,role:"menuitemradio",onSelect:()=>{o&&e.id===o.id&&e.owner===o.owner?r():(a({id:e.id,owner:e.owner}),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_SELECT_SPACE",space:`${e.owner}/${e.id}`})),t(!1)},selected:l,"aria-checked":l,children:(0,i.jsx)("span",{children:e.name})},`${e.owner}, ${e.id}`)})]}),(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(m.l.Item,{onSelect:()=>{n(v.VR),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_VIEW_ALL_SPACES",mode:"immersive"})},children:" View all spaces"}),(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(m.l.Item,{onSelect:T,children:"Create a space"})]}):(0,i.jsx)(m.l.Item,{ref:w,onSelect:T,children:"Create your first space"})})})]}),N?(0,i.jsx)(S.D,{closeDialog:()=>{(0,s.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CREATE_DIALOG_CLOSE",mode:"immersive"}),I(!1)}}):null]})}try{w.displayName||(w.displayName="SpacesSelect")}catch{}var N=n(29731),I=n(83494),T=n(8625),k=n(38621),R=n(65556),A=n(55847),E=n(94747),L=n(96379),M=n(7277),P=n(47970),F=n(33592),D=n(79216),$=n(97949);let O=/^(?:https:\/\/)?(?:www\.)?(figma\.com\/.+)$/,B=class FigmaNotAuthorizedError extends Error{constructor(){super(),this.name="FigmaNotAuthorizedError"}};async function U(e){let t=await (0,L.lS)(`/copilot/immersive/figma-link?item_url=${e}`);if(!t.ok){if(403===t.status)throw new B;throw Error(`Failed to fetch Figma reference data (${t.status}: ${t.statusText})`)}return await t.json()}async function z(e){let{itemUrl:t}=e,n=await (0,L.lS)(`/copilot/chat-links?item_url=${t}`);if(!n.ok)throw Error(`Failed to fetch reference data (${n.status}: ${n.statusText})`);return await n.json()}var V=n(88431),q=n(79064),W=n(72303);let H=async(e,t,n)=>{if((e[0]??"")!=="/")return!1;e=e.substring(1);let a=(({manager:e})=>[{label:"Delete conversation",command:"delete",icon:k.TrashIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let t=(0,W.W)(n);if(!t)throw Error("Thread not found");await e.deleteThread(t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_DELETE_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Rename conversation",command:"rename",icon:k.PencilIcon,requiresParams:!0,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let a=(0,W.W)(n);if(!a)throw Error("Thread not found");await e.renameThread(a,t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_RENAME",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Start a new conversation",command:"new",icon:k.PlusIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{await e.selectThread(null),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_NEW_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}}])({manager:n}).filter(t=>{let n=(e.split(" ",1)[0]??"").toLowerCase().trim();return t.command.toLowerCase().includes(n)});if(1!==a.length)return!1;let r=a[0],i=e.substring(r.command.length).trim();return await r.action(i,t),!0};var G=n(46062);function K(e,t,n){if("immersive"===e&&/^\/copilot(\/agents)?\/?$/.test(t)){let e=n.get("prompt");if(e)return e}}var Q=n(26239),Z=n(60905),J=n(76166),Y=n(72439),X=n(23657),ee=n(14521),et=n(99054),en=n(77430);function ea(e){let t,n,a,r,l,d,u=(0,o.c)(24),{onSelectPanel:h,onSelectAgent:p}=e,{availableAgents:g,showLimit:f,disabled:y,loading:x}=(0,et.JE)(),_=g&&g.length>0;if(x){let e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(m.l.Item,{disabled:!0,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.MentionIcon,{})}),"Extension"]}),u[0]=e):e=u[0],e}if(y){let e,t,n;return u[1]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_SUPPORTED",mode:"immersive"}),h("agents-not-supported")},u[1]=h,u[2]=e):e=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.MentionIcon,{})}),u[3]=t):t=u[3],u[4]!==e?(n=(0,i.jsxs)(m.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),u[4]=e,u[5]=n):n=u[5],n}if(!_){let e,t,n;return u[6]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_AVAILABLE",mode:"immersive"}),h("no-agents-available")},u[6]=h,u[7]=e):e=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.MentionIcon,{})}),u[8]=t):t=u[8],u[9]!==e?(n=(0,i.jsxs)(m.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),u[9]=e,u[10]=n):n=u[10],n}if(u[11]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(c.W.Anchor,{children:(0,i.jsxs)(m.l.Item,{onSelect:ei,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.MentionIcon,{})}),"Extension"]})}),u[11]=t):t=u[11],u[12]!==g||u[13]!==p||u[14]!==f){let e;u[16]!==p||u[17]!==f?(e=e=>(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_SELECTED",mode:"immersive"}),p(e)},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(en.r,{src:e.avatarUrl})}),e.name,!f&&(0,i.jsxs)(m.l.Description,{variant:"inline",truncate:!0,children:[et.Z3,e.slug]}),f&&(0,i.jsx)(m.l.Description,{variant:"block",children:"Start a new conversation to use other extensions."})]},e.slug),u[16]=p,u[17]=f,u[18]=e):e=u[18],n=g.map(e),u[12]=g,u[13]=p,u[14]=f,u[15]=n}else n=u[15];return u[19]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(m.l.Divider,{}),u[19]=a):a=u[19],u[20]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.TelescopeIcon,{})}),u[20]=r):r=u[20],u[21]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsxs)(m.l.LinkItem,{href:et.bn,onClick:er,children:[r,"Marketplace",(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(k.LinkExternalIcon,{})})]}),u[21]=l):l=u[21],u[22]!==n?(d=(0,i.jsxs)(c.W,{children:[t,(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsxs)(m.l,{children:[n,a,l]})})]}),u[22]=n,u[23]=d):d=u[23],d}function er(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_MARKETPLACE",mode:"immersive"})}function ei(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION",mode:"immersive"})}try{ea.displayName||(ea.displayName="AgentMenu")}catch{}var eo=n(81246),es=n(96665);let el={AgentsDialogsMainContainer:"AgentsDialogs-module__AgentsDialogsMainContainer--ymBth",dialogContentWrapper:"AgentsDialogs-module__dialogContentWrapper--v7abd",dialogTitle:"AgentsDialogs-module__dialogTitle--tEo3x",dialogDescription:"AgentsDialogs-module__dialogDescription--LPgKm",documentationLinkContainer:"AgentsDialogs-module__documentationLinkContainer--ydpZ9",AgentsDialogsAlternateContainer:"AgentsDialogs-module__AgentsDialogsAlternateContainer--iIZFy",alertIconContainer:"AgentsDialogs-module__alertIconContainer--jNjdz"};function ec(e){let t,n,a=(0,o.c)(4),{onClose:r,returnFocusRef:s}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},a[0]=t):t=a[0],a[1]!==r||a[2]!==s?(n=(0,i.jsx)(es.l,{width:"large",title:"Extensions",position:t,onClose:r,returnFocusRef:s,renderBody:ed}),a[1]=r,a[2]=s,a[3]=n):n=a[3],n}function ed(){return(0,i.jsx)("div",{className:el.AgentsDialogsMainContainer,children:(0,i.jsxs)("div",{className:el.dialogContentWrapper,children:[(0,i.jsx)(k.TelescopeIcon,{size:24}),(0,i.jsx)("h3",{className:el.dialogTitle,children:"Chat with your favorite tools and services"}),(0,i.jsx)("p",{className:el.dialogDescription,children:"Browse the marketplace to find extensions for the tools and services you rely on"}),(0,i.jsx)(A.Q,{as:"a",href:et.bn,children:"Browse marketplace"}),(0,i.jsx)("div",{className:el.documentationLinkContainer,children:(0,i.jsx)(eo.A,{href:"https://gh.io/copilot-extensions-docs",children:"Documentation"})})]})})}function eu(e){let t,n,a,r=(0,o.c)(9),{onClose:s,returnFocusRef:l}=e,c=(0,F.b)(),d=(0,y.Pk)(),u=(0,f.BV)(),m=(0,G.GF)(d.availableModels);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},r[0]=t):t=r[0],r[1]!==u||r[2]!==m||r[3]!==c?(n=()=>(0,i.jsx)("div",{className:el.AgentsDialogsAlternateContainer,children:(0,i.jsxs)("div",{className:el.dialogContentWrapper,children:[(0,i.jsx)("div",{className:el.alertIconContainer,children:(0,i.jsx)(k.AlertIcon,{size:24})}),(0,i.jsxs)("h3",{className:el.dialogTitle,children:[u?"Copilots and extensions":"Extensions"," aren't supported by this model"]}),(0,i.jsxs)("p",{className:el.dialogDescription,children:["Switch back to the ",m.displayName," model or start a new conversation"]}),(0,i.jsx)(A.Q,{onClick:()=>{c.selectThread(null),c.selectModel(m)},children:"New conversation"})]})}),r[1]=u,r[2]=m,r[3]=c,r[4]=n):n=r[4],r[5]!==s||r[6]!==l||r[7]!==n?(a=(0,i.jsx)(es.l,{width:"large",title:"Extensions",position:t,onClose:s,returnFocusRef:l,renderBody:n}),r[5]=s,r[6]=l,r[7]=n,r[8]=a):a=r[8],a}try{ec.displayName||(ec.displayName="NoAgentsAvailableDialog")}catch{}try{eu.displayName||(eu.displayName="AgentsNotSupportedDialog")}catch{}var em=n(19566),eh=n(97564);function ep(e){let t,n,a,r,s=(0,o.c)(14),{isOpen:l,onClose:c,initialRepo:d,onRepoSelect:u}=e,m=(0,F.b)(),{findFileWorkerPath:p}=(0,y.Pk)(),g=(0,h.useRef)(null);s[0]!==m||s[1]!==c?(t=async e=>{let t=await (0,eh.V)(e.repositoryId),n=(0,v.qS)(t);m.addReference(n,"references-menu"),c()},s[0]=m,s[1]=c,s[2]=t):t=s[2];let f=t;s[3]!==m||s[4]!==c?(n=async e=>{if(0===e.length)return void c();for(let t of e){let e=await (0,eh.V)(t.repositoryId),n=(0,v.Od)(t.filePath,e);m.addReference(n,"references-menu")}c()},s[3]=m,s[4]=c,s[5]=n):n=s[5];let x=n;return l?(s[6]===Symbol.for("react.memo_cache_sentinel")?(a=[],s[6]=a):a=s[6],s[7]!==p||s[8]!==x||s[9]!==f||s[10]!==d||s[11]!==c||s[12]!==u?(r=(0,i.jsx)(em.Q,{formData:a,onCancel:c,onSaveFiles:x,onSaveRepository:f,findFileWorkerPath:p,attachmentButtonRef:g,initialRepo:d,onRepoSelect:u}),s[7]=p,s[8]=x,s[9]=f,s[10]=d,s[11]=c,s[12]=u,s[13]=r):r=s[13],r):null}try{ep.displayName||(ep.displayName="CopilotFilePicker")}catch{}var eg=n(82075),ef=n(87330),ey=n(94016),ex=n(63557),e_=n(75177),ev=n(9745),eb=n(1002),eC=n(30729),ej=n(40961);let eS={disabledForPreviewModelsPanel:"KnowledgeSelectPanel-module__disabledForPreviewModelsPanel--5fRzV",knowledgeBaseIcon:"KnowledgeSelectPanel-module__knowledgeBaseIcon--peP3C",KnowledgeSelectPanelContainer:"KnowledgeSelectPanel-module__KnowledgeSelectPanelContainer--_RbkD",panelHeader:"KnowledgeSelectPanel-module__panelHeader--kWY60",headerContent:"KnowledgeSelectPanel-module__headerContent--AQ0gC",panelTitle:"KnowledgeSelectPanel-module__panelTitle--oQLU4",emptyStateContainer:"KnowledgeSelectPanel-module__emptyStateContainer--Rk1JI",emptyStateContent:"KnowledgeSelectPanel-module__emptyStateContent--BiaDj",emptyStateMessage:"KnowledgeSelectPanel-module__emptyStateMessage--S8iOa",emptyStateDescription:"KnowledgeSelectPanel-module__emptyStateDescription--d4gqH",emptyStateInstructions:"KnowledgeSelectPanel-module__emptyStateInstructions--pOJKv",actionButtonsContainer:"KnowledgeSelectPanel-module__actionButtonsContainer--NjnfZ",createButton:"KnowledgeSelectPanel-module__createButton--AfP6G",organizationsSection:"KnowledgeSelectPanel-module__organizationsSection--YaCxl",sectionTitle:"KnowledgeSelectPanel-module__sectionTitle--hm4Tw",organizationsList:"KnowledgeSelectPanel-module__organizationsList--UvNcy",organizationLink:"KnowledgeSelectPanel-module__organizationLink--UkWa7",organizationAvatar:"KnowledgeSelectPanel-module__organizationAvatar--igPHI",organizationName:"KnowledgeSelectPanel-module__organizationName--V_3Jw",ssoNotice:"KnowledgeSelectPanel-module__ssoNotice--EKDTO"},ew=(0,h.forwardRef)(function(e,t){let n,a,r,s,l,c=(0,o.c)(12);c[0]!==e?({open:a,setOpen:r,...n}=e,c[0]=e,c[1]=n,c[2]=a,c[3]=r):(n=c[1],a=c[2],r=c[3]);let d=!!a||void 0;return c[4]!==a||c[5]!==r?(s=()=>r(!a),c[4]=a,c[5]=r,c[6]=s):s=c[6],c[7]!==n||c[8]!==t||c[9]!==d||c[10]!==s?(l=(0,i.jsx)(ef.K,{ref:t,"aria-expanded":d,"aria-haspopup":!0,"aria-label":"Attach knowledge base","aria-labelledby":void 0,icon:k.BookIcon,onClick:s,variant:"invisible",className:eS.knowledgeBaseIcon,...n}),c[7]=n,c[8]=t,c[9]=d,c[10]=s,c[11]=l):l=c[11],l});function eN({disabledForPreviewModelsProps:e,emptyKnowledgeBaseProps:t,open:n,onOpenChange:a,anchorRef:r}){let o=(0,y.Pk)(),s=(0,F.b)(),l=(0,eg.A)("localStorage"),{knowledgeBases:c}=o,[d,u]=(0,h.useState)([]),[m,p]=(0,h.useState)(!0),[g,f]=(0,h.useState)(""),x=(0,h.useRef)(null),_=l.getItem("lastUsedKnowledgeBaseId")||"",b=l.getItem("lastUsedKnowledgeBaseOrg")||"",{currentReferences:C}=o;(0,h.useEffect)(()=>{n||f("")},[n]);let j=(0,h.useMemo)(()=>""===g?c:c.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())),[g,c]),S=(0,h.useMemo)(()=>j.reduce((e,t)=>{let n=e.find(e=>e.org===t.ownerLogin);return n?n.docsets.push(t):e.push({org:t.ownerLogin,docsets:[t]}),e},[]),[j]),[w,I]=(0,h.useState)(!1),T=m||"pending"===o.knowledgeBasesLoading.state,k=w||"error"===o.knowledgeBasesLoading.state,R=(0,h.useRef)(!1);(0,h.useEffect)(()=>{let e=async()=>{p(!0),await s.fetchKnowledgeBases();let e=await s.service.listAdministratedCopilotEnterpriseOrganizations();e.ok?u(e.payload||[]):I(!0),p(!1)};n&&!R.current&&(R.current=!0,e())},[n,s]);let A=eE();if(o.model?.hasLimitedCapabilities)return(0,i.jsx)(eP,{open:n,setOpen:a,...e});if(!T&&0===c.length)return(0,i.jsx)(eI,{administratedCopilotEnterpriseOrganizations:d,persistentPanelStyles:{position:["fixed","fixed","absolute"],bottom:["60px","60px","0 !important"],"@media screen and (max-height: 480px)":{bottom:"0 !important"},top:"initial !important",left:["18px","18px","calc(50% - 360px) !important"],maxHeight:"100%"},open:n,setOpen:a,mode:o.mode,...t});let E=j.sort((e,t)=>e.id===_?-1:+(t.id===_)).map(e=>({id:e.id,key:e.id,groupId:e.ownerLogin,text:e.name,description:e.description,disabled:!e.canChat,descriptionVariant:"block"})),L=[...S].sort((e,t)=>e.org===b?-1:+(t.org===b)).map(e=>({id:e.org,key:e.org,text:e.org,groupId:e.org,header:{title:e.org}})),M=c.filter(e=>C.some(t=>(0,v.P)(t)&&t.id===e.id));return(0,i.jsx)("div",{ref:x,...(0,N.G)("knowledge-select-panel"),children:(0,i.jsx)(ey.X,{title:"Select knowledge bases",subtitle:"Knowledge bases consolidate content from multiple repositories for an improved chat experience.",onCancel:()=>{(0,ej.flushSync)(()=>a(!1)),r.current?.focus()},open:n,renderAnchor:null,anchorRef:r,onOpenChange:a,loading:T,items:E,onFilterChange:f,groupMetadata:L,notice:null!==A?{text:A,variant:"info"}:void 0,message:k?{variant:"error",title:"Failed to load knowledge bases",body:"Try again later"}:0===S.length?{variant:"empty",title:`No knowledge bases found for \`${g}\``,body:"Try a different search term"}:void 0,...{selected:M,onSelectedChange:e=>(e=>{var t=e.map(e=>c.find(t=>t.id===e.id)).filter(e=>void 0!==e);let n=t.filter(e=>(0,v.P)(e)&&!C.some(t=>(0,v.P)(t)&&t.id===e.id));for(let e of C.filter(e=>(0,v.P)(e)&&!t.some(t=>t.id===e.id)))s.removeReference(e);for(let e of n)s.addReference((0,v.UU)(e),"docsetMenu")})(e)},variant:"modal",overlayProps:{maxHeight:"xlarge"},width:"large"})})}function eI(e){let t,n,a,r,s,l,c,d,u,m,h,p,g,f,y,x,_,v,b,C,j,S,w,I,T=(0,o.c)(53),{administratedCopilotEnterpriseOrganizations:R,anchorRef:A,open:E,setOpen:L}=e,M=eE();T[0]!==A||T[1]!==E||T[2]!==L?(t=A?{anchorRef:A,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(ew,{open:E,setOpen:L,...t})}},T[0]=A,T[1]=E,T[2]=L,T[3]=t):t=T[3];let P=t,F=R?.length===0;T[4]!==F?(n=F?{flexGrow:1,maxHeight:"100%",overflowY:"auto"}:{},T[4]=F,T[5]=n):n=T[5];let D=n;T[6]!==F?(a=F?{maxHeight:"100%"}:{},T[6]=F,T[7]=a):a=T[7];let $=a;T[8]!==F?(r=F?{height:"100%"}:{},T[8]=F,T[9]=r):r=T[9];let O=r;return T[10]!==L?(s=()=>L(!0),l=()=>L(!1),T[10]=L,T[11]=s,T[12]=l):(s=T[11],l=T[12]),T[13]===Symbol.for("react.memo_cache_sentinel")?(c={anchorSide:"outside-bottom",sx:{width:"min(100%, 350px)"}},T[13]=c):c=T[13],T[14]!==O?(d={...O},T[14]=O,T[15]=d):d=T[15],T[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,N.G)("empty-knowledge-base-picker"),T[16]=u):u=T[16],T[17]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(ex.A,{id:"knowledge-base-dialog-title",as:"h4",className:eS.panelTitle,children:"Attach a knowledge base"}),T[17]=m):m=T[17],T[18]!==L?(h=(0,i.jsx)("div",{className:eS.panelHeader,children:(0,i.jsxs)("div",{className:eS.headerContent,children:[m,(0,i.jsx)(ef.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:k.XIcon,variant:"invisible",onClick:()=>L(!1)})]})}),T[18]=L,T[19]=h):h=T[19],T[20]!==D?(p={...D},T[20]=D,T[21]=p):p=T[21],T[22]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(eC.A,{icon:k.BookIcon,size:"medium",className:eS.knowledgeBaseIcon}),T[22]=g):g=T[22],T[23]!==$?(f={...$},T[23]=$,T[24]=f):f=T[24],T[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)("span",{className:eS.emptyStateMessage,children:"You don't have any knowledge bases"}),T[25]=y):y=T[25],T[26]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)("p",{children:"Knowledge bases consolidate content from multiple repositories for an improved chat experience."}),T[26]=x):x=T[26],T[27]!==F?(_=F&&(0,i.jsx)("p",{className:eS.emptyStateInstructions,...(0,N.G)("ask-admin-for-knowledge-base"),children:"Speak with an organization owner about creating a knowledge base for your organization."}),T[27]=F,T[28]=_):_=T[28],T[29]!==_?(v=(0,i.jsxs)("div",{className:eS.emptyStateDescription,children:[x,_]}),T[29]=_,T[30]=v):v=T[30],T[31]!==R?(b=R.length>0&&(0,i.jsx)(eT,{administratedCopilotEnterpriseOrganizations:R}),T[31]=R,T[32]=b):b=T[32],T[33]!==f||T[34]!==v||T[35]!==b?(C=(0,i.jsxs)(e_.A,{sx:f,className:eS.emptyStateContent,children:[y,v,b]}),T[33]=f,T[34]=v,T[35]=b,T[36]=C):C=T[36],T[37]!==p||T[38]!==C?(j=(0,i.jsxs)(e_.A,{sx:p,className:eS.emptyStateContainer,children:[g,C]}),T[37]=p,T[38]=C,T[39]=j):j=T[39],T[40]!==M?(S=M&&(0,i.jsx)("div",{className:eS.actionButtonsContainer,children:(0,i.jsx)(eA,{message:M})}),T[40]=M,T[41]=S):S=T[41],T[42]!==h||T[43]!==j||T[44]!==S||T[45]!==d?(w=(0,i.jsxs)(e_.A,{role:"dialog","aria-labelledby":"knowledge-base-dialog-title",sx:d,className:eS.KnowledgeSelectPanelContainer,...u,children:[h,j,S]}),T[42]=h,T[43]=j,T[44]=S,T[45]=d,T[46]=w):w=T[46],T[47]!==P||T[48]!==E||T[49]!==w||T[50]!==s||T[51]!==l?(I=(0,i.jsx)(ev.T,{open:E,onOpen:s,onClose:l,overlayProps:c,...P,children:w}),T[47]=P,T[48]=E,T[49]=w,T[50]=s,T[51]=l,T[52]=I):I=T[52],I}function eT(e){let t=(0,o.c)(11),{administratedCopilotEnterpriseOrganizations:n}=e;if(1===n.length){let e,a,r;return t[0]!==n[0]?(e=eM(n[0]),t[0]=n[0],t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,N.G)("create-knowledge-base-button"),t[2]=a):a=t[2],t[3]!==e?(r=(0,i.jsx)(A.Q,{as:"a",href:e,className:eS.createButton,...a,children:"Create a knowledge base"}),t[3]=e,t[4]=r):r=t[4],r}{let e,a,r,o;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,N.G)("create-knowledge-base-dropdown"),a=(0,i.jsx)(ex.A,{as:"h3",className:eS.sectionTitle,children:"Create a knowledge base for an organization"}),t[5]=e,t[6]=a):(e=t[5],a=t[6]),t[7]!==n?(r=n.map(ek),t[7]=n,t[8]=r):r=t[8],t[9]!==r?(o=(0,i.jsxs)("div",{className:eS.organizationsSection,...e,children:[a,(0,i.jsx)(m.l,{className:eS.organizationsList,children:r})]}),t[9]=r,t[10]=o):o=t[10],o}}function ek(e){return(0,i.jsx)(eR,{org:e},e.id)}function eR(e){let t,n,a,r,s=(0,o.c)(11),{org:l}=e;return s[0]!==l?(t=eM(l),s[0]=l,s[1]=t):t=s[1],s[2]!==l.avatarUrl||s[3]!==l.login?(n=(0,i.jsx)(en.r,{square:!0,src:l.avatarUrl,alt:l.login,"aria-hidden":"true",className:eS.organizationAvatar}),s[2]=l.avatarUrl,s[3]=l.login,s[4]=n):n=s[4],s[5]!==l.login?(a=(0,i.jsx)(eb.A,{inline:!0,title:l.login,className:eS.organizationName,children:l.login}),s[5]=l.login,s[6]=a):a=s[6],s[7]!==t||s[8]!==n||s[9]!==a?(r=(0,i.jsx)(m.l.Item,{children:(0,i.jsxs)(eo.A,{href:t,className:eS.organizationLink,children:[n,a]})}),s[7]=t,s[8]=n,s[9]=a,s[10]=r):r=s[10],r}function eA(e){let t,n=(0,o.c)(2),{message:a}=e;return a?(n[0]!==a?(t=(0,i.jsx)("div",{"data-testid":"knowledge-select-panel-sso",className:eS.ssoNotice,children:a}),n[0]=a,n[1]=t):t=n[1],t):null}function eE(){let e=(0,y.Pk)(),t=e.ssoOrganizations.map(eL);for(let n of e.knowledgeBases)for(let e of n.protectedOrganizations)t.includes(e)||t.push(e);if(!t||0===t.length)return null;{if(1===t.length)return`Single sign-on to see content from ${t[0]}.`;if(2===t.length)return`Single sign-on to see content from ${t[0]} and ${t[1]}.`;let e=t.length-2;return`Single sign-on to see content from ${t[0]}, ${t[1]}, and ${e} organization${e>1?"s":""}`}}function eL(e){return e.login}function eM(e){return`/organizations/${e.login}/settings/copilot/chat_settings/new`}function eP(e){let t,n,a,r,s,l=(0,o.c)(13),{anchorRef:c,open:d,setOpen:u}=e;l[0]!==c||l[1]!==d||l[2]!==u?(t=c?{anchorRef:c,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(ew,{open:d,setOpen:u,...t})}},l[0]=c,l[1]=d,l[2]=u,l[3]=t):t=l[3];let m=t;return l[4]!==u?(n=()=>u(!0),a=()=>u(!1),l[4]=u,l[5]=n,l[6]=a):(n=l[5],a=l[6]),l[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsxs)("div",{className:(0,b.$)("m-3 d-flex flex-column flex-items-center text-center",eS.disabledForPreviewModelsPanel),children:[(0,i.jsx)(k.AlertIcon,{className:"fgColor-attention mb-3"}),(0,i.jsx)("h3",{className:"h5 mb-2",children:"Knowledge bases aren't supported by this model"}),(0,i.jsx)("span",{className:"text-small fgColor-muted",children:"Switch back to the GPT-4o model or start a new conversation"})]}),l[7]=r):r=l[7],l[8]!==m||l[9]!==d||l[10]!==n||l[11]!==a?(s=(0,i.jsx)(ev.T,{open:d,onOpen:n,onClose:a,...m,children:r}),l[8]=m,l[9]=d,l[10]=n,l[11]=a,l[12]=s):s=l[12],s}try{ew.displayName||(ew.displayName="KBIconButton")}catch{}try{(a=KBIconButtonInner).displayName||(a.displayName="KBIconButtonInner")}catch{}try{eN.displayName||(eN.displayName="KnowledgeSelectPanel")}catch{}try{eI.displayName||(eI.displayName="EmptyKnowledgeBase")}catch{}try{eT.displayName||(eT.displayName="CreateKnowledgeBaseButton")}catch{}try{eR.displayName||(eR.displayName="CreateKnowledgeBaseActionRow")}catch{}try{eA.displayName||(eA.displayName="SSOFooter")}catch{}try{eP.displayName||(eP.displayName="DisabledForPreviewModels")}catch{}var eF=n(35673),eD=n(70170),e$=n(79274),eO=n(97286);async function eB(e,t,n,a){return new Promise((r,i)=>{if(!window.Worker)return void setTimeout(()=>r(e.filter(e=>e.includes(t))));let o=new Worker(n);o.addEventListener("message",e=>r(e.data.list)),o.addEventListener("error",e=>i(Error(`Worker error: ${e.message}`))),a.addEventListener("abort",()=>{o.terminate(),i(Error("Worker aborted"))}),o.postMessage({baseList:e,query:t})})}function eU(e,t){let n,a,r,i=(0,o.c)(9),{findFileWorkerPath:s}=(0,y.Pk)();i[0]!==e||i[1]!==t||i[2]!==s?(n=["copilot-worker-filter",s,e,t],a=async n=>{let{signal:a}=n;return e?0===t.length?e:eB(e,t,s,a):[]},i[0]=e,i[1]=t,i[2]=s,i[3]=n,i[4]=a):(n=i[3],a=i[4]);let l=null!==e;return i[5]!==n||i[6]!==a||i[7]!==l?(r={queryKey:n,queryFn:a,enabled:l,staleTime:1/0,gcTime:1e4,networkMode:"always",retry:!1,placeholderData:ez},i[5]=n,i[6]=a,i[7]=l,i[8]=r):r=i[8],(0,eO.I)(r)}function ez(e){return e}function eV(e,t){let n,a,r,i=(0,o.c)(11),s=void 0===t||t,l=(0,F.b)(),c=null!==e;return i[0]!==s||i[1]!==e?(n=["copilot-repository-files",e,s],i[0]=s,i[1]=e,i[2]=n):n=i[2],i[3]!==s||i[4]!==l||i[5]!==e?(a=async()=>{if(!e)return{};let t=await l.service.listRepoFiles(e,s);if(!t.ok)throw Error("Failed to fetch files for repository");return t.payload},i[3]=s,i[4]=l,i[5]=e,i[6]=a):a=i[6],i[7]!==c||i[8]!==n||i[9]!==a?(r={enabled:c,queryKey:n,queryFn:a,staleTime:3e5},i[7]=c,i[8]=n,i[9]=a,i[10]=r):r=i[10],(0,eO.I)(r)}function eq(e,t){let n,a,r,i=(0,o.c)(11),s=(0,F.b)(),l=null!==e&&t.length>0;return i[0]!==e||i[1]!==t?(n=["copilot-repository-symbols",e,t],i[0]=e,i[1]=t,i[2]=n):n=i[2],i[3]!==s||i[4]!==e||i[5]!==t?(a=async()=>{if(!e)return[];let n=await s.service.querySymbols(e,t);if(!n.ok)throw Error("Failed to fetch symbols for repository");return n.payload.filter(eW)},i[3]=s,i[4]=e,i[5]=t,i[6]=a):a=i[6],i[7]!==l||i[8]!==n||i[9]!==a?(r={enabled:l,queryKey:n,queryFn:a},i[7]=l,i[8]=n,i[9]=a,i[10]=r):r=i[10],(0,eO.I)(r)}function eW(e){return!!e.symbol}var eH=n(26875),eG=n(70845);let eK={chooseRepoInstructionPanel:"ReferencesSelectPanel-module__chooseRepoInstructionPanel--zT6kZ",chooseRepoTitle:"ReferencesSelectPanel-module__chooseRepoTitle--T61jD",chooseRepoSubtitle:"ReferencesSelectPanel-module__chooseRepoSubtitle--sQVTX",selectPanelContainer:"ReferencesSelectPanel-module__selectPanelContainer--wSTmy",ActionList:"ReferencesSelectPanel-module__ActionList--SpdwU",referenceListItem:"ReferencesSelectPanel-module__referenceListItem--mq8Ni",referenceItemText:"ReferencesSelectPanel-module__referenceItemText--JlIMs"};var eQ=n(87086);let eZ="Search",eJ=e=>{let t,n,a,r,s,l,c,d,u,m,p,g=(0,o.c)(34);g[0]!==e?({open:a,onOpenChange:n,cancelReturnFocusRef:t,submitReturnFocusRef:s,...r}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=a,g[4]=r,g[5]=s):(t=g[1],n=g[2],a=g[3],r=g[4],s=g[5]);let f=(0,F.b)(),[x,_]=(0,h.useState)();g[6]===Symbol.for("react.memo_cache_sentinel")?(l=()=>_(void 0),g[6]=l):l=g[6],g[7]!==a?(c=[a],g[7]=a,g[8]=c):c=g[8],(0,h.useEffect)(l,c);let v=(0,y.pn)(e7);g[9]!==v?(d=new Set(v.filter(e8).map(e9)),g[9]=v,g[10]=d):d=g[10];let b=d,[C,j]=(0,h.useState)(),S=(0,h.useRef)(!1);g[11]!==f.service?(u=async e=>{j(void 0),S.current=!0;let t=await f.service.fetchRepo(e);t.ok?_(t.payload):j("Error: failed to load repository details. Please try again."),S.current=!1},g[11]=f.service,g[12]=u):u=g[12];let w=u,N=r.supportedReferenceTypes??eY;g[13]!==N?(m=(e=>{let t=e.includes("files"),n=e.includes("folders"),a=e.includes("symbols");return t&&n&&a?"Choose a repository to browse for files, folders, and symbols.":t&&n?"Choose a repository to browse for files and folders.":t&&a?"Choose a repository to browse for files and symbols.":n&&a?"Choose a repository to browse for folders and symbols.":t?"Choose a repository to browse for files.":n?"Choose a repository to browse for folders.":a?"Choose a repository to browse for symbols.":"Choose a repository to browse for references."})(N),g[13]=N,g[14]=m):m=g[14];let I=m;if(!x){let e,r,o;return g[15]!==n?(e=e=>{S.current||n(e)},g[15]=n,g[16]=e):e=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,g[17]=r):r=g[17],g[18]!==t||g[19]!==I||g[20]!==w||g[21]!==a||g[22]!==b||g[23]!==C||g[24]!==s||g[25]!==e?(o=(0,i.jsx)(eQ.X1,{selectionVariant:"instant",open:a,onOpenChange:e,selectedRepoIds:r,onSelectRepo:w,cancelReturnFocusRef:t,submitReturnFocusRef:s,description:I,featuredRepoIds:b,error:C}),g[18]=t,g[19]=I,g[20]=w,g[21]=a,g[22]=b,g[23]=C,g[24]=s,g[25]=e,g[26]=o):o=g[26],o}return g[27]!==t||g[28]!==n||g[29]!==a||g[30]!==r||g[31]!==x||g[32]!==s?(p=(0,i.jsx)(eX,{...r,open:a,onOpenChange:n,sourceRepository:x,cancelReturnFocusRef:t,submitReturnFocusRef:s}),g[27]=t,g[28]=n,g[29]=a,g[30]=r,g[31]=x,g[32]=s,g[33]=p):p=g[33],p},eY=["files","folders","symbols"],eX=e=>{let t,n,a,r,s,l,c,d,u,p,g,f,x,_=(0,o.c)(40),{renderAnchor:b,anchorRef:C,open:j,onOpenChange:S,submitReturnFocusRef:w,cancelReturnFocusRef:N,sourceRepository:I,supportedReferenceTypes:T}=e,k=void 0===T?eY:T,[R,A]=(0,h.useState)("");_[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eD.s)(A,250),_[0]=t):t=_[0];let E=(0,h.useRef)(t);_[1]!==j?(n=()=>{j||A("")},a=[j],_[1]=j,_[2]=n,_[3]=a):(n=_[2],a=_[3]),(0,h.useEffect)(n,a);let{initialLoading:L,filterLoading:M,selected:P,unselected:D,toggleSelection:$}=function(e,t,n,a=eY){let r=(0,y.Pk)(),i=(0,F.b)(),s=function(e,t,n,a){let r,i,s,l,c,d=(0,o.c)(16),u=void 0===a?eY:a;d[0]!==u?(r=u.includes("folders"),d[0]=u,d[1]=r):r=d[1];let m=r,h=u.includes("symbols");d[2]!==u?(i=u.includes("files"),d[2]=u,d[3]=i):i=d[3];let p=i,g=n?t:null,f=eV(g,m),y=eU(f.data?.paths??null,e),x=eU(f.data?.directories??null,e),_=eq(h?g:null,e);d[4]!==_.data?(s=_.data?.map(e6)??null,d[4]=_.data,d[5]=s):s=d[5];let v=eU(s,e);if(d[6]!==x||d[7]!==y.data||d[8]!==v.data||d[9]!==p||d[10]!==m){let e=p?y.data?.slice(0,7).map(e4)??[]:[];l=[...e,...m?x.data?.slice(0,7).map(e3)??[]:[],...v.data?.slice(0,7).map(e5)??[]],d[6]=x,d[7]=y.data,d[8]=v.data,d[9]=p,d[10]=m,d[11]=l}else l=d[11];let b=l,C=null===y.data&&null===x.data&&null===_.data,j=f.isFetching||y.isFetching||x.isFetching||_.isFetching||v.isFetching;return d[12]!==j||d[13]!==C||d[14]!==b?(c={items:b,filterLoading:j,initialLoading:C},d[12]=j,d[13]=C,d[14]=b,d[15]=c):c=d[15],c}(t,n,e,a),l=a.includes("symbols"),c=eq(e&&l?n:null,t).data,[d,u,m]=(0,h.useMemo)(()=>{let e=new Set,t=new Set,a=new Set;for(let i of r.currentReferences)"file"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?e.add(i.path):"folder"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?t.add(i.path):"symbol"===i.type&&"suggestionSymbol"===i.kind&&i.suggestionDefinitions?.some(e=>e.repoOwner===n?.ownerLogin&&e.repoName===n?.name)&&a.add(i.name);return[e,t,a]},[r.currentReferences,n?.ownerLogin,n?.name]),{selected:p=[],unselected:g=[]}=(0,eH.O)(s.items,e=>{switch(e.type){case"file":return d.has(e.text)?"selected":"unselected";case"folder":return u.has(e.text)?"selected":"unselected";case"symbol":return m.has(e.text)?"selected":"unselected"}}),f=(0,h.useCallback)(e=>{let t;if(!n)return;switch(e.type){case"file":t=(0,v.Od)(e.text,n);break;case"folder":t=(0,v.OC)(e.text,n);break;case"symbol":{let a=c?.find(t=>(0,v.Sm)(t)===e.text);if(!a)return;t=(0,v.Qt)(a,n)}}let a=(0,v.Vb)(t),o=r.currentReferences.find(e=>a===(0,v.Vb)(e));o?i.removeReference(o):i.addReference(t,"references-menu")},[i,n,r.currentReferences,c]);return{...s,selected:p,unselected:g,toggleSelection:f}}(j,R,I,k),O=P.length+D.length,B=`${I.ownerLogin}/${I.name}`;return _[4]!==b?(r=b?.({}),_[4]=b,_[5]=r):r=_[5],_[6]!==k?(s=(e=>{let t=e.includes("files"),n=e.includes("folders"),a=e.includes("symbols");return t&&n&&a?"Select files, folders, and symbols":t&&n?"Select files and folders":t&&a?"Select files and symbols":n&&a?"Select folders and symbols":t?"Select files":n?"Select folders":a?"Select symbols":"Select references"})(k),_[6]=k,_[7]=s):s=_[7],_[8]!==B||_[9]!==k?(l=((e,t)=>{let n=t.includes("files"),a=t.includes("folders"),r=t.includes("symbols"),i="references";return n&&a&&r?i="files, folders, and symbols":n&&a?i="files and folders":n&&r?i="files and symbols":a&&r?i="folders and symbols":n?i="files":a?i="folders":r&&(i="symbols"),`Choose ${i} from ${e} to chat about. Use fewer references for more accurate responses.`})(B,k),_[8]=B,_[9]=k,_[10]=l):l=_[10],_[11]!==S||_[12]!==w.current?(c=()=>{(0,ej.flushSync)(()=>S(!1)),w.current?.focus()},_[11]=S,_[12]=w.current,_[13]=c):c=_[13],_[14]!==N.current||_[15]!==S?(d=()=>{(0,ej.flushSync)(()=>S(!1)),N.current?.focus()},_[14]=N.current,_[15]=S,_[16]=d):d=_[16],_[17]===Symbol.for("react.memo_cache_sentinel")?(u=e=>E.current(e.target.value),_[17]=u):u=_[17],_[18]!==M?(p=(0,i.jsx)(e$.X.Header,{children:(0,i.jsx)(e$.X.SearchInput,{loading:M,onChange:u,placeholder:eZ,"aria-label":eZ})}),_[18]=M,_[19]=p):p=_[19],_[20]!==M||_[21]!==L||_[22]!==P||_[23]!==k||_[24]!==$||_[25]!==O||_[26]!==D?(g=(0,i.jsx)(m.l,{className:eK.ActionList,children:L?(0,i.jsx)(e$.X.Loading,{children:(e=>{let t=e.includes("files"),n=e.includes("folders"),a=e.includes("symbols");return t&&n&&a?"Fetching files, folders, and symbols\u2026":t&&n?"Fetching files and folders\u2026":t&&a?"Fetching files and symbols\u2026":n&&a?"Fetching folders and symbols\u2026":t?"Fetching files\u2026":n?"Fetching folders\u2026":a?"Fetching symbols\u2026":"Fetching references\u2026"})(k)}):0!==O||M?(0,i.jsxs)(i.Fragment,{children:[P.map(e=>(0,i.jsx)(e2,{item:e,selected:!0,toggleSelection:$},e1(e))),P.length>0&&D.length>0&&(0,i.jsx)(m.l.Divider,{}),D.map(e=>(0,i.jsx)(e2,{item:e,selected:!1,toggleSelection:$},e1(e)))]}):(0,i.jsx)("div",{children:(0,i.jsx)(eG.O,{delay:500,children:(0,i.jsx)(e$.X.Message,{variant:"empty",title:(e=>{let t=e.includes("files"),n=e.includes("folders"),a=e.includes("symbols");return t&&n&&a?"No files, folders, or symbols found":t&&n?"No files or folders found":t&&a?"No files or symbols found":n&&a?"No folders or symbols found":t?"No files found":n?"No folders found":a?"No symbols found":"No references found"})(k),children:"Try a different search term"})})})}),_[20]=M,_[21]=L,_[22]=P,_[23]=k,_[24]=$,_[25]=O,_[26]=D,_[27]=g):g=_[27],_[28]!==C||_[29]!==j||_[30]!==p||_[31]!==g||_[32]!==s||_[33]!==l||_[34]!==c||_[35]!==d?(f=(0,i.jsxs)(e$.X,{anchorRef:C,title:s,description:l,onCancel:c,onSubmit:d,open:j,selectionVariant:"multiple",variant:"modal",width:"large",maxHeight:"xlarge",children:[p,g]}),_[28]=C,_[29]=j,_[30]=p,_[31]=g,_[32]=s,_[33]=l,_[34]=c,_[35]=d,_[36]=f):f=_[36],_[37]!==f||_[38]!==r?(x=(0,i.jsxs)("div",{className:eK.selectPanelContainer,children:[r,f]}),_[37]=f,_[38]=r,_[39]=x):x=_[39],x};function e0(e){let t,n,a,r,s,l=(0,o.c)(11),{open:c,setOpen:d,renderAnchor:u}=e;return l[0]!==d?(t=()=>d(!0),n=()=>d(!1),l[0]=d,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==u?(a=e=>u?.(e)??(0,i.jsx)(i.Fragment,{}),l[3]=u,l[4]=a):a=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsxs)("div",{className:eK.chooseRepoInstructionPanel,children:[(0,i.jsx)(k.PaperclipIcon,{}),(0,i.jsx)("h3",{className:eK.chooseRepoTitle,children:"Attach a repository first"}),(0,i.jsx)("p",{className:eK.chooseRepoSubtitle,children:"To pick attachments, attach a repository where the files are stored."})]}),l[5]=r):r=l[5],l[6]!==c||l[7]!==t||l[8]!==n||l[9]!==a?(s=(0,i.jsx)(ev.T,{open:c,onOpen:t,onClose:n,renderAnchor:a,children:r}),l[6]=c,l[7]=t,l[8]=n,l[9]=a,l[10]=s):s=l[10],s}let e1=e=>`${e.type}#${e.text}`;function e2(e){let t,n,a,r,s,l=(0,o.c)(15),{toggleSelection:c,selected:d,item:u}=e;return l[0]!==u||l[1]!==c?(t=()=>{c(u),setTimeout(()=>{document.getElementById(e1(u))?.focus()})},l[0]=u,l[1]=c,l[2]=t):t=l[2],l[3]!==u?(n=e1(u),l[3]=u,l[4]=n):n=l[4],l[5]!==u.type?(a=(0,i.jsx)(m.l.LeadingVisual,{children:"symbol"===u.type?(0,i.jsx)(k.CodeSquareIcon,{}):"folder"===u.type?(0,i.jsx)(k.FileDirectoryFillIcon,{}):(0,i.jsx)(k.FileIcon,{})}),l[5]=u.type,l[6]=a):a=l[6],l[7]!==u.text?(r=(0,i.jsx)("div",{className:eK.referenceItemText,children:u.text}),l[7]=u.text,l[8]=r):r=l[8],l[9]!==d||l[10]!==t||l[11]!==n||l[12]!==a||l[13]!==r?(s=(0,i.jsxs)(m.l.Item,{onSelect:t,selected:d,id:n,className:eK.referenceListItem,children:[a,r]}),l[9]=d,l[10]=t,l[11]=n,l[12]=a,l[13]=r,l[14]=s):s=l[14],s}function e5(e){return{type:"symbol",text:e}}function e3(e){return{type:"folder",text:e}}function e4(e){return{type:"file",text:e}}function e6(e){return(0,v.Sm)(e)}try{(r=e=>{let t,n,a,r,s=(0,o.c)(12);s[0]!==e?({open:n,onOpenChange:t,...a}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=a):(t=s[1],n=s[2],a=s[3]);let{currentTopic:l}=(0,y.Pk)();if(!(0,v.Z6)(l)){let e;return s[4]!==t||s[5]!==n?(e=(0,i.jsx)(e0,{open:n,setOpen:t}),s[4]=t,s[5]=n,s[6]=e):e=s[6],e}return s[7]!==l||s[8]!==t||s[9]!==n||s[10]!==a?(r=(0,i.jsx)(eX,{...a,open:n,onOpenChange:t,sourceRepository:l}),s[7]=l,s[8]=t,s[9]=n,s[10]=a,s[11]=r):r=s[11],r}).displayName||(r.displayName="TopicReferencesSelectPanel")}catch{}try{eJ.displayName||(eJ.displayName="MultistepReferencesSelectPanel")}catch{}try{eX.displayName||(eX.displayName="ReferencesSelectPanel")}catch{}try{e0.displayName||(e0.displayName="ChooseRepositoryInstruction")}catch{}try{e2.displayName||(e2.displayName="ReferenceListItem")}catch{}function e7(e){return e.currentReferences}function e8(e){return"repository"===e.type}function e9(e){return e.id}let te=(0,h.memo)(e=>{let t,n,a,r,l,d,u,p,f,x,_,b,C,j,S,w,I,T,R,A,E,L,M,P,D,$,O,B=(0,o.c)(97);B[0]!==e?({panel:r,onPanelChange:d,anchorRef:t,initialRepo:n,onRepoSelect:a,...l}=e,B[0]=e,B[1]=t,B[2]=n,B[3]=a,B[4]=r,B[5]=l,B[6]=d):(t=B[1],n=B[2],a=B[3],r=B[4],l=B[5],d=B[6]);let{inputRef:U}=l,z=(0,F.b)(),V=(0,y.Pk)(),{supportedAttachmentTypes:q,supportedReferenceTypes:W}=function(){let e=(0,y.Pk)(),t=null!==(0,ee.G)(),n=["upload"],a=e.renderKnowledgeBases&&(e.currentTopic&&(0,v.Z6)(e.currentTopic)||!e.currentTopic);return t||n.push("repositories"),n.push("references"),a&&!t&&n.push("knowledge-bases"),t||n.push("agents"),{supportedAttachmentTypes:n,supportedReferenceTypes:t?["files"]:["files","folders","symbols"]}}(),{model:H}=(0,y.bP)("model"),G="immersive"===V.mode&&!!H.capabilities?.supports?.vision,K=(0,et.kw)(l),Q=(0,h.useRef)(null),J=(0,ee.G)(),en=(0,X.FQ)(!0),er=!!(J&&en);B[7]!==J||B[8]!==G||B[9]!==z||B[10]!==H||B[11]!==er||B[12]!==V||B[13]!==q?(u=q.includes("upload")&&(0,i.jsx)("input",{id:"image-uploader",...(0,N.G)("image-uploader"),hidden:!0,ref:Q,type:"file",accept:[G?Z.s.getAllowedImageFileExtensions(H):"",Y.E.getTextFileExtensions()].join(","),multiple:!0,onChange:e=>{if(!e.target.files)return;let[t,n]=Z.s.getAllowedFiles([...e.target.files],H),a=[];for(let e of(G?new Z.s(V,z).addImageAttachments(t,"menu",J,er):a.push(...t),n))new Y.E(z).addAttachment(e);for(let e of a)(0,s.BI)("dotcom_chat.upload_unsupported_file",{name:e.name,type:e.type,size:e.size});e.currentTarget.value=""}}),B[7]=J,B[8]=G,B[9]=z,B[10]=H,B[11]=er,B[12]=V,B[13]=q,B[14]=u):u=B[14];let ei="attachment-types"===r;B[15]!==d?(p=e=>d(t=>e&&null===t?"attachment-types":e||"attachment-types"!==t?t:null),B[15]=d,B[16]=p):p=B[16];let eo="assistive"===V.mode?eF.E5:void 0;B[17]!==d||B[18]!==V.mode||B[19]!==q?(f=q.includes("repositories")&&(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REPOSITORIES",mode:V.mode}),d("repositories")},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.RepoIcon,{})}),"Repositories\u2026"]}),B[17]=d,B[18]=V.mode,B[19]=q,B[20]=f):f=B[20],B[21]!==d||B[22]!==V.mode?(x=()=>{g.W.multiFilePickerAttachment?((0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_MULTI_FILE_PICKER",mode:V.mode}),d("multi-file-picker")):((0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REFERENCES",mode:V.mode}),d("references"))},B[21]=d,B[22]=V.mode,B[23]=x):x=B[23];let es=q.includes("references")?void 0:"First attach a repository";B[24]===Symbol.for("react.memo_cache_sentinel")?(_=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.FileCodeIcon,{})}),B[24]=_):_=B[24],B[25]!==W?(b=(e=>{let t=e.includes("files"),n=e.includes("folders"),a=e.includes("symbols"),r="References";return t&&n&&a?r="Files, folders, and symbols":t&&n?r="Files and folders":t&&a?r="Files and symbols":n&&a?r="Folders and symbols":t?r="Files":n?r="Folders":a&&(r="Symbols"),r})(W),B[25]=W,B[26]=b):b=B[26],B[27]!==x||B[28]!==es||B[29]!==b?(C=(0,i.jsxs)(m.l.Item,{onSelect:x,inactiveText:es,children:[_,b,"\u2026"]}),B[27]=x,B[28]=es,B[29]=b,B[30]=C):C=B[30],B[31]!==d||B[32]!==V.mode||B[33]!==q?(j=q.includes("knowledge-bases")&&(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_KNOWLEDGE_BASES",mode:V.mode}),d("knowledge-bases")},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.BookIcon,{})}),(0,i.jsx)("span",{...(0,N.G)("knowledge-bases-action-list-item"),children:"Knowledge bases\u2026"})]}),B[31]=d,B[32]=V.mode,B[33]=q,B[34]=j):j=B[34],B[35]!==d||B[36]!==V.mode||B[37]!==q?(S=q.includes("upload")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_IMAGES",mode:V.mode}),d(null),Q.current?.click()},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.UploadIcon,{})}),"Upload from computer"]})]}),B[35]=d,B[36]=V.mode,B[37]=q,B[38]=S):S=B[38],B[39]!==K||B[40]!==d||B[41]!==q?(w=q.includes("agents")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(ea,{onSelectPanel:e=>d(e),onSelectAgent:e=>setTimeout(()=>K(e.slug))})]}),B[39]=K,B[40]=d,B[41]=q,B[42]=w):w=B[42],B[43]!==C||B[44]!==j||B[45]!==S||B[46]!==w||B[47]!==f?(I=(0,i.jsxs)(m.l,{children:[f,C,j,S,w]}),B[43]=C,B[44]=j,B[45]=S,B[46]=w,B[47]=f,B[48]=I):I=B[48],B[49]!==I||B[50]!==eo?(T=(0,i.jsx)(c.W.Overlay,{width:"small",side:"outside-top",align:"start",portalContainerName:eo,children:I}),B[49]=I,B[50]=eo,B[51]=T):T=B[51],B[52]!==t||B[53]!==T||B[54]!==ei||B[55]!==p?(R=(0,i.jsx)(c.W,{anchorRef:t,open:ei,onOpenChange:p,children:T}),B[52]=t,B[53]=T,B[54]=ei,B[55]=p,B[56]=R):R=B[56],B[57]!==t||B[58]!==U||B[59]!==r||B[60]!==d||B[61]!==W?(A="references"===r&&(0,i.jsx)(eJ,{open:!0,onOpenChange:e=>d(e?"references":null),submitReturnFocusRef:U,cancelReturnFocusRef:t,supportedReferenceTypes:W}),B[57]=t,B[58]=U,B[59]=r,B[60]=d,B[61]=W,B[62]=A):A=B[62],B[63]!==n||B[64]!==a||B[65]!==r||B[66]!==d?(E="multi-file-picker"===r&&(0,i.jsx)(ep,{isOpen:!0,onClose:()=>d(null),initialRepo:n,onRepoSelect:a}),B[63]=n,B[64]=a,B[65]=r,B[66]=d,B[67]=E):E=B[67];let el="repositories"===r;return B[68]!==d?(L=e=>d(e?"repositories":null),B[68]=d,B[69]=L):L=B[69],B[70]!==t||B[71]!==U||B[72]!==el||B[73]!==L?(M=(0,i.jsx)(eQ.FZ,{open:el,onOpenChange:L,submitReturnFocusRef:U,cancelReturnFocusRef:t}),B[70]=t,B[71]=U,B[72]=el,B[73]=L,B[74]=M):M=B[74],B[75]!==t||B[76]!==r||B[77]!==d||B[78]!==q?(P=q.includes("knowledge-bases")&&(0,i.jsx)(eN,{disabledForPreviewModelsProps:{anchorRef:t},emptyKnowledgeBaseProps:{anchorRef:t},open:"knowledge-bases"===r,onOpenChange:e=>d(e?"knowledge-bases":null),anchorRef:t}),B[75]=t,B[76]=r,B[77]=d,B[78]=q,B[79]=P):P=B[79],B[80]!==t||B[81]!==r||B[82]!==d?(D="no-agents-available"===r&&(0,i.jsx)(ec,{onClose:()=>d(null),returnFocusRef:t}),B[80]=t,B[81]=r,B[82]=d,B[83]=D):D=B[83],B[84]!==t||B[85]!==r||B[86]!==d?($="agents-not-supported"===r&&(0,i.jsx)(eu,{onClose:()=>d(null),returnFocusRef:t}),B[84]=t,B[85]=r,B[86]=d,B[87]=$):$=B[87],B[88]!==u||B[89]!==R||B[90]!==A||B[91]!==E||B[92]!==M||B[93]!==P||B[94]!==D||B[95]!==$?(O=(0,i.jsxs)("div",{children:[u,R,A,E,M,P,D,$]}),B[88]=u,B[89]=R,B[90]=A,B[91]=E,B[92]=M,B[93]=P,B[94]=D,B[95]=$,B[96]=O):O=B[96],O});te.displayName="AttachmentMenu";var tt=n(71555);let tn={agents:"Extensions",repositories:"Repositories",files:"Files and folders",issues:"Issues",pulls:"Pull requests",discussions:"Discussions"},ta=[{name:tn.agents,icon:k.StackIcon,value:"agents",where:"start"},{name:tn.repositories,icon:k.RepoIcon,value:"repositories",where:"anywhere"},{name:tn.files,icon:k.FileIcon,value:"repositories:files",where:"anywhere"},{name:tn.issues,icon:k.IssueOpenedIcon,value:"repositories:issues",where:"anywhere"},{name:tn.pulls,icon:k.GitPullRequestIcon,value:"repositories:pulls",where:"anywhere"},{name:tn.discussions,icon:k.CommentDiscussionIcon,value:"repositories:discussions",where:"anywhere"}],tr={is:e=>ta.some(t=>t.value===e)};function ti(e){let t,n,a,r,s,l=(0,o.c)(12);return l[0]!==e?({agent:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t.avatarUrl?(a=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(en.r,{src:t.avatarUrl})}),l[3]=t.avatarUrl,l[4]=a):a=l[4],l[5]!==t.slug?(r=(0,i.jsxs)(m.l.Description,{variant:"inline",truncate:!0,children:[et.Z3,t.slug]}),l[5]=t.slug,l[6]=r):r=l[6],l[7]!==t.name||l[8]!==n||l[9]!==a||l[10]!==r?(s=(0,i.jsxs)(m.l.Item,{...n,children:[a,t.name,r]}),l[7]=t.name,l[8]=n,l[9]=a,l[10]=r,l[11]=s):s=l[11],s}try{ti.displayName||(ti.displayName="AgentSuggestion")}catch{}function to(e){let t,n,a,r,s,l,c,d,u=(0,o.c)(20);u[0]!==e?({leadingVisual:t,...n}=e,u[0]=e,u[1]=t,u[2]=n):(t=u[1],n=u[2]);let p=(0,h.useId)(),g=(0,h.useId)();return u[3]!==g||u[4]!==p?(a=(0,b.$)(p,g),u[3]=g,u[4]=p,u[5]=a):a=u[5],u[6]!==t?(r=void 0!==t&&(0,i.jsx)(m.l.LeadingVisual,{children:t}),u[6]=t,u[7]=r):r=u[7],u[8]!==p||u[9]!==n.children?(s=(0,i.jsx)("span",{id:p,children:n.children}),u[8]=p,u[9]=n.children,u[10]=s):s=u[10],u[11]!==g?(l=(0,i.jsx)("span",{className:"d-none","aria-hidden":!0,id:g,children:"Opens in new tab."}),u[11]=g,u[12]=l):l=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(k.LinkExternalIcon,{})}),u[13]=c):c=u[13],u[14]!==n||u[15]!==a||u[16]!==r||u[17]!==s||u[18]!==l?(d=(0,i.jsxs)(m.l.Item,{...n,"aria-labelledby":a,children:[r,s,l,c]}),u[14]=n,u[15]=a,u[16]=r,u[17]=s,u[18]=l,u[19]=d):d=u[19],d}try{to.displayName||(to.displayName="LinkSuggestion")}catch{}function ts(e){return{value:`@${e.slug}`,render:t=>(0,i.jsx)(ti,{agent:e,...t})}}function tl(e){let t,n,a,r,s,l=(0,o.c)(9);return l[0]!==e?({leadingVisual:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t?(a=void 0!==t&&(0,i.jsx)(m.l.LeadingVisual,{children:t}),l[3]=t,l[4]=a):a=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(k.ArrowRightIcon,{})}),l[5]=r):r=l[5],l[6]!==n||l[7]!==a?(s=(0,i.jsxs)(m.l.Item,{"aria-haspopup":!0,...n,children:[a,n.children,r]}),l[6]=n,l[7]=a,l[8]=s):s=l[8],s}try{tl.displayName||(tl.displayName="MultistepSuggestion")}catch{}function tc(e){let t,n,a,r,s=(0,o.c)(9);s[0]!==e?({category:n,...t}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let{name:l,icon:c}=n;return s[3]!==c?(a=(0,i.jsx)(c,{}),s[3]=c,s[4]=a):a=s[4],s[5]!==l||s[6]!==t||s[7]!==a?(r=(0,i.jsx)(tl,{leadingVisual:a,...t,children:l}),s[5]=l,s[6]=t,s[7]=a,s[8]=r):r=s[8],r}try{tc.displayName||(tc.displayName="CategorySuggestion")}catch{}let td={asyncSuggestion:"shared-module__asyncSuggestion--AXibl",stale:"shared-module__stale--R4Im6"};function tu(e){let t,n,a,r,s,l,c,d,u,h,p,g=(0,o.c)(25);g[0]!==e?({discussion:n,stale:r,className:t,...a}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=a,g[4]=r):(t=g[1],n=g[2],a=g[3],r=g[4]);let f=r&&td.stale;return g[5]!==t||g[6]!==f?(s=(0,b.$)(td.asyncSuggestion,f,t),g[5]=t,g[6]=f,g[7]=s):s=g[7],g[8]!==n.state?(l="open"===n.state&&(0,i.jsx)(k.CommentDiscussionIcon,{className:"fgColor-open"}),g[8]=n.state,g[9]=l):l=g[9],g[10]!==n.state?(c="closed"===n.state&&(0,i.jsx)(k.DiscussionClosedIcon,{className:"fgColor-muted"}),g[10]=n.state,g[11]=c):c=g[11],g[12]!==l||g[13]!==c?(d=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c]}),g[12]=l,g[13]=c,g[14]=d):d=g[14],g[15]!==n.title?(u=(0,i.jsx)(eb.A,{title:n.title,maxWidth:350,children:n.title}),g[15]=n.title,g[16]=u):u=g[16],g[17]!==n.number?(h=(0,i.jsxs)(m.l.Description,{children:["#",n.number]}),g[17]=n.number,g[18]=h):h=g[18],g[19]!==a||g[20]!==s||g[21]!==d||g[22]!==u||g[23]!==h?(p=(0,i.jsxs)(m.l.Item,{...a,className:s,children:[d,u,h]}),g[19]=a,g[20]=s,g[21]=d,g[22]=u,g[23]=h,g[24]=p):p=g[24],p}try{tu.displayName||(tu.displayName="DiscussionSuggestion")}catch{}function tm(e){let t,n,a,r,s,l,c,d,u,h,p,g,f,y,x,_=(0,o.c)(35);if(_[0]!==e?({type:s,path:n,stale:r,className:t,...a}=e,_[0]=e,_[1]=t,_[2]=n,_[3]=a,_[4]=r,_[5]=s):(t=_[1],n=_[2],a=_[3],r=_[4],s=_[5]),_[6]!==t||_[7]!==n||_[8]!==a||_[9]!==r||_[10]!==s){let e=n.split("/"),o=e.pop();c=m.l.Item,h=a;let y=r&&td.stale;_[19]!==t||_[20]!==y?(p=(0,b.$)(td.asyncSuggestion,y,t),_[19]=t,_[20]=y,_[21]=p):p=_[21],_[22]!==s?(g=(0,i.jsx)(m.l.LeadingVisual,{children:"folder"===s?(0,i.jsx)(k.FileDirectoryFillIcon,{}):(0,i.jsx)(k.FileIcon,{})}),_[22]=s,_[23]=g):g=_[23],f=o,l=m.l.Description,d="inline",u=e.join("/"),_[6]=t,_[7]=n,_[8]=a,_[9]=r,_[10]=s,_[11]=l,_[12]=c,_[13]=d,_[14]=u,_[15]=h,_[16]=p,_[17]=g,_[18]=f}else l=_[11],c=_[12],d=_[13],u=_[14],h=_[15],p=_[16],g=_[17],f=_[18];return _[24]!==l||_[25]!==d||_[26]!==u?(y=(0,i.jsxs)(l,{variant:d,children:[u,"/"]}),_[24]=l,_[25]=d,_[26]=u,_[27]=y):y=_[27],_[28]!==c||_[29]!==h||_[30]!==p||_[31]!==g||_[32]!==f||_[33]!==y?(x=(0,i.jsxs)(c,{...h,className:p,children:[g,f,y]}),_[28]=c,_[29]=h,_[30]=p,_[31]=g,_[32]=f,_[33]=y,_[34]=x):x=_[34],x}try{tm.displayName||(tm.displayName="FileSuggestion")}catch{}function th(e){let t,n,a,r,s,l,c,d,u,h,p,g,f=(0,o.c)(28);f[0]!==e?({issue:n,stale:r,className:t,...a}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=a,f[4]=r):(t=f[1],n=f[2],a=f[3],r=f[4]);let y=r&&td.stale;return f[5]!==t||f[6]!==y?(s=(0,b.$)(td.asyncSuggestion,y,t),f[5]=t,f[6]=y,f[7]=s):s=f[7],f[8]!==n.state?(l="draft"===n.state&&(0,i.jsx)(k.IssueDraftIcon,{className:"fgColor-neutral"}),f[8]=n.state,f[9]=l):l=f[9],f[10]!==n.state?(c="open"===n.state&&(0,i.jsx)(k.IssueOpenedIcon,{className:"fgColor-open"}),f[10]=n.state,f[11]=c):c=f[11],f[12]!==n.state?(d="closed"===n.state&&(0,i.jsx)(k.IssueClosedIcon,{className:"fgColor-done"}),f[12]=n.state,f[13]=d):d=f[13],f[14]!==l||f[15]!==c||f[16]!==d?(u=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c,d]}),f[14]=l,f[15]=c,f[16]=d,f[17]=u):u=f[17],f[18]!==n.title?(h=(0,i.jsx)(eb.A,{title:n.title,maxWidth:350,children:n.title}),f[18]=n.title,f[19]=h):h=f[19],f[20]!==n.number?(p=(0,i.jsxs)(m.l.Description,{children:["#",n.number]}),f[20]=n.number,f[21]=p):p=f[21],f[22]!==a||f[23]!==s||f[24]!==u||f[25]!==h||f[26]!==p?(g=(0,i.jsxs)(m.l.Item,{...a,className:s,children:[u,h,p]}),f[22]=a,f[23]=s,f[24]=u,f[25]=h,f[26]=p,f[27]=g):g=f[27],g}try{th.displayName||(th.displayName="IssueSuggestion")}catch{}function tp(e){let t,n,a,r,s,l,c,d,u,h,p,g,f=(0,o.c)(28);f[0]!==e?({pullRequest:a,stale:r,className:t,...n}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=a,f[4]=r):(t=f[1],n=f[2],a=f[3],r=f[4]);let y=r&&td.stale;return f[5]!==t||f[6]!==y?(s=(0,b.$)(td.asyncSuggestion,y,t),f[5]=t,f[6]=y,f[7]=s):s=f[7],f[8]!==a.state?(l="draft"===a.state&&(0,i.jsx)(k.GitPullRequestDraftIcon,{className:"fgColor-neutral"}),f[8]=a.state,f[9]=l):l=f[9],f[10]!==a.state?(c="open"===a.state&&(0,i.jsx)(k.GitPullRequestIcon,{className:"fgColor-open"}),f[10]=a.state,f[11]=c):c=f[11],f[12]!==a.state?(d="closed"===a.state&&(0,i.jsx)(k.GitPullRequestClosedIcon,{className:"fgColor-done"}),f[12]=a.state,f[13]=d):d=f[13],f[14]!==l||f[15]!==c||f[16]!==d?(u=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c,d]}),f[14]=l,f[15]=c,f[16]=d,f[17]=u):u=f[17],f[18]!==a.title?(h=(0,i.jsx)(eb.A,{title:a.title,maxWidth:350,children:a.title}),f[18]=a.title,f[19]=h):h=f[19],f[20]!==a.number?(p=(0,i.jsxs)(m.l.Description,{children:["#",a.number]}),f[20]=a.number,f[21]=p):p=f[21],f[22]!==n||f[23]!==s||f[24]!==u||f[25]!==h||f[26]!==p?(g=(0,i.jsxs)(m.l.Item,{...n,className:s,children:[u,h,p]}),f[22]=n,f[23]=s,f[24]=u,f[25]=h,f[26]=p,f[27]=g):g=f[27],g}try{tp.displayName||(tp.displayName="PullRequestSuggestion")}catch{}function tg(e){let t,n,a,r,s,l,c,d,u=(0,o.c)(18);u[0]!==e?({repository:r,isMultistep:n,stale:s,className:t,...a}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=a,u[4]=r,u[5]=s):(t=u[1],n=u[2],a=u[3],r=u[4],s=u[5]);let h=s&&td.stale;u[6]!==t||u[7]!==h?(l=(0,b.$)(td.asyncSuggestion,h,t),u[6]=t,u[7]=h,u[8]=l):l=u[8];let p=l;u[9]!==r.isInOrganization||u[10]!==r.ownerAvatarUrl?(c=r.ownerAvatarUrl?(0,i.jsx)(en.r,{src:r.ownerAvatarUrl,alt:"",size:16,square:r.isInOrganization}):(0,i.jsx)(k.RepoIcon,{}),u[9]=r.isInOrganization,u[10]=r.ownerAvatarUrl,u[11]=c):c=u[11];let g=c;return u[12]!==g||u[13]!==p||u[14]!==n||u[15]!==a||u[16]!==r.nwo?(d=n?(0,i.jsx)(tl,{...a,className:p,leadingVisual:g,children:r.nwo},r.nwo):(0,i.jsxs)(m.l.Item,{...a,className:p,children:[(0,i.jsx)(m.l.LeadingVisual,{children:g}),r.nwo]},r.nwo),u[12]=g,u[13]=p,u[14]=n,u[15]=a,u[16]=r.nwo,u[17]=d):d=u[17],d}try{tg.displayName||(tg.displayName="RepositorySuggestion")}catch{}function tf(e){return{value:null,key:e.value,render:t=>(0,i.jsx)(tc,{category:e,...t})}}function ty(e){return null!==e}function tx(e){let t,n,a=(0,o.c)(3),[r,i]=(0,h.useState)(null);return(null===r&&null!==e||null!==r&&null===e)&&i(e),a[0]!==e?(t=()=>{let t=setTimeout(()=>i(e),200);return()=>clearTimeout(t)},n=[e],a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),(0,h.useEffect)(t,n),r}function t_(e){return e}function tv(e){return e}function tb(e){return e}var tC=n(26408);function tj(e){let t,n,a,r,s=(0,o.c)(9);return s[0]!==e?({org:t,...n}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),s[3]!==t.avatarUrl?(a=(0,i.jsx)(en.r,{square:!0,src:t.avatarUrl}),s[3]=t.avatarUrl,s[4]=a):a=s[4],s[5]!==t.login||s[6]!==n||s[7]!==a?(r=(0,i.jsx)(to,{leadingVisual:a,...n,children:t.login}),s[5]=t.login,s[6]=n,s[7]=a,s[8]=r):r=s[8],r}function tS(e){let t,n,a,r=(0,o.c)(7);return r[0]!==e?({orgs:t,...n}=e,r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),r[3]!==t[0]?.login||r[4]!==t.length||r[5]!==n?(a=1===t.length?(0,i.jsxs)(to,{leadingVisual:(0,i.jsx)(k.ShieldLockIcon,{}),...n,children:["Single sign-on to ",(0,i.jsx)("strong",{children:t[0]?.login})," for more"]}):(0,i.jsx)(tl,{leadingVisual:(0,i.jsx)(k.ShieldLockIcon,{}),...n,children:"Single sign-on for more"}),r[3]=t[0]?.login,r[4]=t.length,r[5]=n,r[6]=a):a=r[6],a}try{tj.displayName||(tj.displayName="SSOOrgSuggestion")}catch{}try{tS.displayName||(tS.displayName="SSOPromptSuggestion")}catch{}let tw=e=>`/orgs/${encodeURIComponent(e.login)}/sso?return_to=${encodeURIComponent(location.href)}`;function tN(e){return{value:null,key:`open-link:${tw(e)}`,render:t=>(0,i.jsx)(tj,{org:e,...t})}}let tI=[{triggerChar:"@",insertSpaceOnCommit:!0,keepTriggerCharOnCommit:!1,multiWord:!0}];function tT(e){let t,n,a,r,l,c,d,u,p,g,f=(0,o.c)(25),{children:x,onSelectReference:_,onShowAgentsDialog:v}=e,{mode:b}=(0,y.Pk)(),[C,j]=(0,h.useState)(tk);f[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>j(!0),n=[],f[0]=t,f[1]=n):(t=f[0],n=f[1]),(0,h.useEffect)(t,n);let[S,w]=(0,h.useState)(null),{suggestions:N,stale:I}=function(e){let t=(0,o.c)(7),n=function(e){let t,n=(0,o.c)(3),{currentReferences:a}=(0,y.Pk)();e:{let r;if(!e){t=null;break e}if(n[0]!==a||n[1]!==e){let t=e.filter.toLowerCase(),o=e=>e.toLowerCase().includes(t)&&e.toLowerCase()!==t,s=a.map(e=>{let t=D.Q.for(e);switch(t?.type){case void 0:break;case"repository":{let e=`${t.reference.ownerLogin}/${t.reference.name}`;if(!o(e))return null;return{value:D.Q.stringify(t),render:n=>(0,i.jsx)(tg,{repository:{databaseId:t.reference.id,isInOrganization:"Organization"===t.reference.ownerType,name:t.reference.name,nwo:e,ownerLogin:t.reference.ownerLogin},...n})}}case"issue":{let e=t.reference.title??"";if(!o(e))return null;return{value:D.Q.stringify(t),render:n=>(0,i.jsx)(th,{issue:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"pull-request":{let e=t.reference.title??"";if(!o(e))return null;return{value:D.Q.stringify(t),render:n=>(0,i.jsx)(tp,{pullRequest:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"discussion":{let e=t.reference.title??"";if(!o(e))return null;return{value:D.Q.stringify(t),render:n=>(0,i.jsx)(tu,{discussion:{number:t.reference.number,state:t.reference.state,title:e},...n})}}case"file":{let e=t.reference.path;if(!o(e))return null;return{value:D.Q.stringify(t),render:n=>(0,i.jsx)(tm,{type:"folder"===t.reference.type?"folder":"file",path:e,...n})}}}return null}).filter(ty),l=ta.filter(n=>n.name.toLowerCase().includes(t)&&function(e,t){switch(e){case"start":return 0===t.index;case"anywhere":return!0}}(n.where,e)).map(tf);if(l.length>0){let e=s.at(-1);if(e&&"object"==typeof e){let t=e.render;e.render=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{...e}),(0,i.jsx)(m.l.Divider,{})]})}}r=s.concat(l),n[0]=a,n[1]=e,n[2]=r}else r=n[2];t=r}return t}(e?.category==="categories"?e:null),a=function(e){let t,n=(0,o.c)(4),{availableAgents:a,loading:r,showLimit:s,disabled:l}=(0,et.JE)(null!==e);e:{let o;if(l||!e){t=null;break e}if(r&&!a){t="loading";break e}n[0]!==a||n[1]!==e||n[2]!==s?(o=a?.filter(t=>e?.category==="agents"&&t.name.toLowerCase().includes(e.filter.toLowerCase())).map(ts).concat({value:null,key:`open-link:${et.bn}`,render:e=>(0,i.jsxs)(i.Fragment,{children:[a.length>0&&(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(to,{leadingVisual:(0,i.jsx)(k.TelescopeIcon,{}),...e,inactiveText:s?"Start a new conversation to use other extensions.":void 0,children:"Marketplace"})]})})??null,n[0]=a,n[1]=e,n[2]=s,n[3]=o):o=n[3],t=o}return t}(e?.category==="agents"?e:null),r=function(e){let{currentReferences:t}=(0,y.Pk)(),n=tx(e),a=e!==n,{repositories:r,loading:o}=(0,tC.U)(n?.filter??"",null!==n),s=(0,h.useMemo)(()=>new Set(t.filter(e=>"repository"===e.type).map(e=>e.id)),[t]),{ssoOrganizations:l}=(0,y.Pk)();return{suggestions:(0,h.useMemo)(()=>{if(!n)return null;if("initial"===o)return"loading";let e=void 0!==n.nextCategory,t=r.toSorted((e,t)=>s.has(e.databaseId)&&!s.has(t.databaseId)?-1:s.has(t.databaseId)&&!s.has(e.databaseId)?1:0).slice(0,5).map(t=>({value:e?null:D.Q.stringify({type:"repository",repo:t.nwo}),key:t.nwo,render:n=>(0,i.jsx)(tg,{repository:t,isMultistep:e,stale:!!o||a,...n})}))??[];return l.length>0&&t.push({value:null,key:1===l.length?`open-link:${tw(l[0])}`:"sso-orgs",render:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(tS,{orgs:l,...e})]})}),t},[r,o,n,s,l,a]),stale:!0===o}}(e?.category==="repositories"?e:null),s=function(e){let t,n,a,r,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tx(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-issues",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteIssues(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(a={enabled:m,queryKey:t,queryFn:n,placeholderData:tv},l[6]=m,l[7]=t,l[8]=n,l[9]=a):a=l[9];let g=(0,eO.I)(a);e:{let e;if(!d){r=null;break e}if(g.isLoading){r="loading";break e}l[10]!==d||l[11]!==u||l[12]!==g.data||l[13]!==g.isPlaceholderData?(e=g.data?.map(e=>({value:D.Q.stringify({type:"issue",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(th,{...t,issue:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=g.data,l[13]=g.isPlaceholderData,l[14]=e):e=l[14],r=e}let f=r;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="issues"?e:null),l=function(e){let t,n,a,r,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tx(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-pulls",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompletePullRequests(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(a={enabled:m,queryKey:t,queryFn:n,placeholderData:tb},l[6]=m,l[7]=t,l[8]=n,l[9]=a):a=l[9];let g=(0,eO.I)(a);e:{let e;if(!d){r=null;break e}if(g.isLoading){r="loading";break e}l[10]!==d||l[11]!==u||l[12]!==g.data||l[13]!==g.isPlaceholderData?(e=g.data?.map(e=>({value:D.Q.stringify({type:"pull-request",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tp,{...t,pullRequest:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=g.data,l[13]=g.isPlaceholderData,l[14]=e):e=l[14],r=e}let f=r;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="pulls"?e:null),c=function(e){let t,n,a,r,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tx(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-discussions",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteDiscussions(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(a={enabled:m,queryKey:t,queryFn:n,placeholderData:t_},l[6]=m,l[7]=t,l[8]=n,l[9]=a):a=l[9];let g=(0,eO.I)(a);e:{let e;if(!d){r=null;break e}if(g.isLoading){r="loading";break e}l[10]!==d||l[11]!==g.data||l[12]!==g.isPlaceholderData||l[13]!==u?(e=g.data?.map(e=>({value:D.Q.stringify({type:"discussion",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tu,{...t,discussion:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=g.data,l[12]=g.isPlaceholderData,l[13]=u,l[14]=e):e=l[14],r=e}let f=r;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="discussions"?e:null),d=function(e){let t,n,a,r,s,l,c,d,u,m=(0,o.c)(23),h=(0,F.b)(),p=null!==e,g=e?.repository;m[0]!==g?(t=["copilot-repository",g],m[0]=g,m[1]=t):t=m[1],m[2]!==h||m[3]!==e?.repository?(n=async()=>{if(!e?.repository)return null;let t=await h.service.fetchRepo(e?.repository);if(!t.ok)throw Error("Failed to fetch repository");return t.payload},m[2]=h,m[3]=e?.repository,m[4]=n):n=m[4],m[5]!==p||m[6]!==t||m[7]!==n?(a={enabled:p,queryKey:t,queryFn:n,staleTime:3e5},m[5]=p,m[6]=t,m[7]=n,m[8]=a):a=m[8];let f=(0,eO.I)(a),y=eV(f.data??null);y.data?.directories,m[9]!==y.data?.directories?(s=y.data?.directories??[],m[9]=y.data?.directories,m[10]=s):s=m[10],m[11]!==s?(l=new Set(s),m[11]=s,m[12]=l):l=m[12],r=l,m[13]!==y.data?(c=y.data?(y.data.paths??[]).concat(y.data.directories??[]):null,m[13]=y.data,m[14]=c):c=m[14];let x=eU(c,e?.filter??"");e:{let t;if(!e){d=null;break e}if(f.isLoading||y.isLoading||x.isLoading){d="loading";break e}m[15]!==r||m[16]!==x.data||m[17]!==x.isPlaceholderData||m[18]!==e?(t=[...x.data?.slice(0,5).map(t=>({value:D.Q.stringify({repo:e.repository,type:"file",id:t}),key:t,render:e=>(0,i.jsx)(tm,{...e,path:t,type:r.has(t)?"folder":"file",stale:x.isPlaceholderData})}))??[]],m[15]=r,m[16]=x.data,m[17]=x.isPlaceholderData,m[18]=e,m[19]=t):t=m[19];let n=t;d=n.length>0?n:null}let _=d;return m[20]!==f.isPlaceholderData||m[21]!==_?(u={suggestions:_,stale:f.isPlaceholderData},m[20]=f.isPlaceholderData,m[21]=_,m[22]=u):u=m[22],u}(e?.category==="files"?e:null),u=function(e){let t,n=(0,o.c)(5),{ssoOrganizations:a}=(0,y.Pk)();e:{let r;if(!e){t=null;break e}if(n[0]!==e||n[1]!==a){let t;n[3]!==e?(t=t=>t.login.toLowerCase().includes(e.filter.toLowerCase()),n[3]=e,n[4]=t):t=n[4],r=a.filter(t).slice(0,10).map(tN),n[0]=e,n[1]=a,n[2]=r}else r=n[2];t=r}return t}(e?.category==="sso-orgs"?e:null);switch(e?.category){case void 0:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={suggestions:null,stale:!1},t[0]=e):e=t[0],e}case"categories":{let e;return t[1]!==n?(e={suggestions:n,stale:!1},t[1]=n,t[2]=e):e=t[2],e}case"repositories":return r;case"issues":return s;case"agents":{let e;return t[3]!==a?(e={suggestions:a,stale:!1},t[3]=a,t[4]=e):e=t[4],e}case"discussions":return c;case"pulls":return l;case"files":return d;case"sso-orgs":{let e;return t[5]!==u?(e={suggestions:u,stale:!1},t[5]=u,t[6]=e):e=t[6],e}}}(S);if(f[2]!==v||f[3]!==S?(a={query:S,onShowAgentsDialog:v},f[2]=v,f[3]=S,f[4]=a):a=f[4],!function(e){let t,n,a=(0,o.c)(12),{query:r,onShowAgentsDialog:i}=e,s=r?.category==="agents",{availableAgents:l,loading:c,disabled:d}=(0,et.JE)(s);a[0]!==s||a[1]!==l?.length||a[2]!==d||a[3]!==c||a[4]!==i?(t=()=>{s&&!c&&(d?i("agents-not-supported"):l?.length||i("no-agents-available"))},a[0]=s,a[1]=l?.length,a[2]=d,a[3]=c,a[4]=i,a[5]=t):t=a[5],a[6]!==s||a[7]!==l||a[8]!==d||a[9]!==c||a[10]!==i?(n=[s,c,l,d,i],a[6]=s,a[7]=l,a[8]=d,a[9]=c,a[10]=i,a[11]=n):n=a[11],(0,h.useEffect)(t,n)}(a),!C){let e;return f[5]!==x?(e=(0,i.jsx)("div",{children:x}),f[5]=x,f[6]=e):e=f[6],e}f[7]!==b||f[8]!==_||f[9]!==S?(r=e=>{let{suggestion:t}=e,n="string"==typeof t?t:t.value;(0,s.BI)("dotcom_chat.activate",{target:"AUTOCOMPLETE_ITEM_SELECTED",mode:b,suggestion:n});let a=null!==n&&S?.category!=="agents"?D.Q.parse(n):void 0;if(a&&_(a),"object"!=typeof t||null!==t.value)return;let r=/^open-link:(.+)$/.exec(t.key);if(r){w(null),window.open(r[1],"_blank");return}switch(S?.category){case"categories":tr.is(t.key)&&w(function(e){switch(e){case"repositories":return{category:"repositories",filter:""};case"agents":return{category:"agents",filter:""};case"repositories:discussions":return{category:"repositories",filter:"",nextCategory:"discussions"};case"repositories:issues":return{category:"repositories",filter:"",nextCategory:"issues"};case"repositories:pulls":return{category:"repositories",filter:"",nextCategory:"pulls"};case"repositories:files":return{category:"repositories",filter:"",nextCategory:"files"}}}(t.key));break;case"repositories":"sso-orgs"===t.key?w({category:"sso-orgs",filter:""}):S.nextCategory&&w({category:S.nextCategory,filter:"",repository:t.key})}},f[7]=b,f[8]=_,f[9]=S,f[10]=r):r=f[10];let T=r;f[11]===Symbol.for("react.memo_cache_sentinel")?(l=e=>w(t=>t?{...t,filter:e.query}:{category:"categories",filter:e.query,index:(e.target.selectionStart??0)-(e.query.length+e.trigger.triggerChar.length)}),f[11]=l):l=f[11];let R=l;f[12]===Symbol.for("react.memo_cache_sentinel")?(c=()=>w(null),f[12]=c):c=f[12];let A=c;return f[13]!==S?(d=S&&function(e){switch(e.category){case"categories":return null;case"repositories":switch(e.nextCategory){case"discussions":case"issues":case"pulls":case"files":return`${tn[e.nextCategory]} \u{203A}`;default:return"Repositories \u203A"}case"agents":return tn[e.category];case"discussions":case"issues":case"pulls":case"files":return`${tn[e.category]} \u{203A} ${e.repository} \u{203A}`;case"sso-orgs":return"Single sign-on"}}(S)||void 0,f[13]=S,f[14]=d):d=f[14],f[15]!==x||f[16]!==T||f[17]!==N||f[18]!==d?(u=(0,i.jsx)(tt.a,{fullWidth:!0,suggestions:N,triggers:tI,tabInsertsSuggestions:!1,onHideSuggestions:A,onShowSuggestions:R,onSelectSuggestion:T,suggestionsPlacement:"above",title:d,asMenu:!0,children:x}),f[15]=x,f[16]=T,f[17]=N,f[18]=d,f[19]=u):u=f[19],f[20]!==I?(p=I&&(0,i.jsx)("span",{role:"status","aria-live":"polite",className:"sr-only",children:"Loading"}),f[20]=I,f[21]=p):p=f[21],f[22]!==u||f[23]!==p?(g=(0,i.jsxs)(i.Fragment,{children:[u,p]}),f[22]=u,f[23]=p,f[24]=g):g=f[24],g}function tk(){return"undefined"!=typeof document}try{tT.displayName||(tT.displayName="ChatInputAutocomplete")}catch{}let tR={container:"ChatInput-module__container--qmP6j",input:"ChatInput-module__input--HalEQ",containerShadow:"ChatInput-module__containerShadow--LEVoB",clicked:"ChatInput-module__clicked--u0igo",attachments:"ChatInput-module__attachments--Fv007",inputContainer:"ChatInput-module__inputContainer--cpjba",inputPreview:"ChatInput-module__inputPreview--Fdwj0",toolbar:"ChatInput-module__toolbar--Kv3Gl",toolbarLeft:"ChatInput-module__toolbarLeft--Hchfy",toolbarRight:"ChatInput-module__toolbarRight--vwskE",containerSmall:"ChatInput-module__containerSmall--NfPkF",CommandIconButton:"ChatInput-module__CommandIconButton--lxm7H"};var tA=n(16378),tE=n(6224);let tL=(0,h.forwardRef)(function(e,t){let n,a,r,s,l,c=(0,o.c)(14),{text:d}=e;c[0]!==d?(n=(0,tA._)(d),c[0]=d,c[1]=n):n=c[1];let{availableAgents:u}=(0,et.JE)(n);c[2]!==u?(a=void 0===u?[]:u,c[2]=u,c[3]=a):a=c[3];let m=a,{currentReferences:p}=(0,y.Pk)(),g=(0,F.b)(),f=(0,M.l)().use($.U,{references:p,agents:m}).parse(d),x=(0,tA.O)(f),_=(0,h.useRef)(x);c[4]!==p||c[5]!==g||c[6]!==x?(r=function(){for(let e of _.current)if(!x.has(e)){let t=p.find(t=>(0,v.Vb)(t)===e);t&&g.removeReference(t)}_.current=x},c[4]=p,c[5]=g,c[6]=x,c[7]=r):r=c[7],(0,h.useEffect)(r),c[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,N.G)("copilot-chat-input-textarea-preview"),c[8]=s):s=c[8];let b=f.children.map(tM);return c[9]!==t||c[10]!==b||c[11]!==s||c[12]!==tR.inputPreview?(l=(0,i.jsx)("div",{id:"copilot-chat-textarea-preview",...s,"aria-hidden":!0,className:tR.inputPreview,ref:t,role:"presentation",children:b}),c[9]=t,c[10]=b,c[11]=s,c[12]=tR.inputPreview,c[13]=l):l=c[13],l});try{tL.displayName||(tL.displayName="ChatInputPreview")}catch{}function tM(e,t){switch(e.type){case"text":return e.value;case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,i.jsx)("span",{className:tE.A.mention,...(0,N.G)("input-preview-ref"),children:e.value},t):e.value;case"agent-mention":return(0,i.jsx)("span",{className:tE.A.mention,children:e.value},t)}}var tP=n(69676),tF=n(82678),tD=n(7730),t$=n(57448);let tO={container:"ChatInputReferences-module__container--bNybl",attachmentsList:"ChatInputReferences-module__attachmentsList--mEJpJ",scrolledToEnd:"ChatInputReferences-module__scrolledToEnd--DONiv",loading:"ChatInputReferences-module__loading--kAJlw",divider:"ChatInputReferences-module__divider--k8d6S",menuButton:"ChatInputReferences-module__menuButton--IVLqN",functionLoading:"ChatInputReferences-module__functionLoading--Oimop",convertToFileButton:"ChatInputReferences-module__convertToFileButton--hnPn2",hoveringDismissConvertToFile:"ChatInputReferences-module__hoveringDismissConvertToFile--OLdgF",convertToFileButtonContent:"ChatInputReferences-module__convertToFileButtonContent--CdiQX"};var tB=n(51609);let tU=(0,h.memo)(e=>{let t,n,a,r,s,l,d,p,g,f,x,_,C,j,S,w,I,T=(0,o.c)(45),{className:R,isLoading:E,returnFocusRef:L,tokenSize:M,onSelectReference:P,getReferenceVersion:D,showConvertToFileText:$,onConvertToFile:O,onConvertToFileDismiss:B}=e,U=void 0===M?"medium":M,{currentReferences:z}=(0,y.Pk)(),q=(0,F.b)(),W=(0,h.useRef)(null),H=(0,tD.g)(W),[G,K]=(0,h.useState)(!1);T[0]!==z?(n=(0,v.rT)(z),T[0]=z,T[1]=n):n=T[1],t=n;let Q=(0,h.useRef)(null);T[2]===Symbol.for("react.memo_cache_sentinel")?(a={containerRef:Q,focusableElementFilter:tV,bindKeys:tP.z0.ArrowHorizontal|tP.z0.HomeAndEnd,focusInStrategy:"previous",focusOutBehavior:"stop"},T[2]=a):a=T[2],T[3]!==t?(r=[t],T[3]=t,T[4]=r):r=T[4],(0,tF.G)(a,r),T[5]===Symbol.for("react.memo_cache_sentinel")?(s=[],T[5]=s):s=T[5];let Z=(0,h.useRef)(s),J=(e,t)=>{let n=Z.current[t+1]??Z.current[t-1]??L.current;n?.focus(),q.removeReference(e)};T[6]!==q||T[7]!==L?(l=()=>{setTimeout(()=>L.current?.focus()),q.clearCurrentReferences()},T[6]=q,T[7]=L,T[8]=l):l=T[8];let Y=l,X=(0,h.useRef)(t);T[9]!==t?(d=()=>{if(X.current.length<t.length){let e=t.find(e=>!X.current.find(t=>(0,v.x_)(t,e))),n=e?t.indexOf(e):-1;Z?.current?.[n]?.scrollIntoView({behavior:"smooth",inline:"end"})}X.current=t},p=[t],T[9]=t,T[10]=d,T[11]=p):(d=T[10],p=T[11]),(0,V.N)(d,p),T[12]!==B?(g=()=>{K(!1),B?.()},T[12]=B,T[13]=g):g=T[13];let ee=g,et=(0,h.useId)();T[14]!==ee||T[15]!==$?(f=e=>{("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),e.stopPropagation(),$&&ee())},T[14]=ee,T[15]=$,T[16]=f):f=T[16];let en=f;if(0===t.length&&!E&&!$)return null;T[17]!==R?(x=(0,b.$)(R,tO.container),T[17]=R,T[18]=x):x=T[18];let ea=H&&tO.scrolledToEnd,er=E&&tO.loading;T[19]!==ea||T[20]!==er?(_=(0,b.$)(tO.attachmentsList,ea,er),T[19]=ea,T[20]=er,T[21]=_):_=T[21],T[22]!==et||T[23]!==ee||T[24]!==G||T[25]!==O||T[26]!==en||T[27]!==$||T[28]!==U?(C=$&&(0,i.jsx)(A.Q,{onClick:O,leadingVisual:k.FileIcon,className:(0,b.$)(tO.convertToFileButton,G&&tO.hoveringDismissConvertToFile),"aria-describedby":et,onKeyDown:en,children:(0,i.jsxs)("div",{className:tO.convertToFileButtonContent,children:["Convert to file",(0,i.jsx)(tB.lh,{size:U,onRemove:ee,descriptionId:et,onMouseOver:()=>K(!0),onMouseLeave:()=>K(!1)})]})}),T[22]=et,T[23]=ee,T[24]=G,T[25]=O,T[26]=en,T[27]=$,T[28]=U,T[29]=C):C=T[29];let ei=t.map((e,t)=>"repository"===e.type?(0,i.jsx)(tz,{reference:e,ref:e=>{Z.current[t]=e},"data-index":t,size:U,onRemove:()=>J(e,t),onClick:P,getReferenceVersion:D},(0,v.Vb)(e)):(0,i.jsx)(tB.BR,{reference:e,ref:e=>{Z.current[t]=e},"data-index":t,size:U,onRemove:()=>J(e,t),onClick:P,getReferenceVersion:D},(0,v.Vb)(e)));return T[30]!==E?(j=E&&(0,i.jsxs)("div",{className:tO.functionLoading,...(0,N.G)("loading-indicator"),children:[(0,i.jsx)(u.A,{size:"small"}),"Retrieving\u2026"]}),T[30]=E,T[31]=j):j=T[31],T[32]!==_||T[33]!==C||T[34]!==ei||T[35]!==j?(S=(0,i.jsxs)("div",{className:_,ref:W,children:[C,ei,j]}),T[32]=_,T[33]=C,T[34]=ei,T[35]=j,T[36]=S):S=T[36],T[37]!==Y||T[38]!==t.length||T[39]!==U?(w=t.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tO.divider}),(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(ef.K,{icon:k.KebabHorizontalIcon,"aria-label":"Attachments options",variant:"invisible",tooltipDirection:"n",className:tO.menuButton,size:U})}),(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsx)(m.l,{children:(0,i.jsxs)(m.l.Item,{onSelect:Y,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(k.TrashIcon,{})}),"Remove attachments"]})})})]})]}),T[37]=Y,T[38]=t.length,T[39]=U,T[40]=w):w=T[40],T[41]!==x||T[42]!==S||T[43]!==w?(I=(0,i.jsxs)("div",{role:"toolbar","aria-label":"Attachments",className:x,ref:Q,children:[S,w]}),T[41]=x,T[42]=S,T[43]=w,T[44]=I):I=T[44],I});tU.displayName="ChatInputReferences";let tz=(0,h.forwardRef)(function(e,t){let n,a,r,s=(0,o.c)(8),l=e.reference,c=(0,y.pn)(tq),d=`${l.ownerLogin}/${l.name}`,[u,m]=(0,t$.vn)(d),p=(0,h.useRef)(!1),g=u.code===t$.W5.Unindexed||u.docs===t$.W5.Unindexed;return s[0]!==c||s[1]!==g||s[2]!==m?(n=function(){!p.current&&g&&c&&(p.current=!0,m())},a=[c,g,m],s[0]=c,s[1]=g,s[2]=m,s[3]=n,s[4]=a):(n=s[3],a=s[4]),(0,h.useEffect)(n,a),s[5]!==e||s[6]!==t?(r=(0,i.jsx)(tB.BR,{ref:t,...e}),s[5]=e,s[6]=t,s[7]=r):r=s[7],r});try{tz.displayName||(tz.displayName="RepoReferenceToken")}catch{}try{tz.displayName||(tz.displayName="RepoReferenceToken")}catch{}function tV(e){return!e.hasAttribute("aria-hidden")}function tq(e){return e.model&&!e.model.hasLimitedCapabilities}var tW=n(81829),tH=n(97793),tG=n(97665),tK=n(24815),tQ=n(20426),tZ=n(88657);let tJ={container:"McpToolsManager-module__container--PHa2N",header:"McpToolsManager-module__header--PXzkx",headerTitle:"McpToolsManager-module__headerTitle--CiuwN",searchInput:"McpToolsManager-module__searchInput--v2pAX",contentArea:"McpToolsManager-module__contentArea--aqxn4",loadingContainer:"McpToolsManager-module__loadingContainer--btAEV",emptyState:"McpToolsManager-module__emptyState--qpgwB",emptyStateTitle:"McpToolsManager-module__emptyStateTitle--PLCEY",emptyStateDescription:"McpToolsManager-module__emptyStateDescription--x7TOI",footer:"McpToolsManager-module__footer--UZmCo",serverName:"McpToolsManager-module__serverName--au45P"},tY=({anchorRef:e,open:t,onOpenChange:n})=>{let[a,r]=(0,h.useState)(!1),[o,s]=(0,h.useState)(()=>new Set),[l,c]=(0,h.useState)(""),{service:d}=(0,F.b)(),m=(0,tG.jE)(),{data:p,isPending:g,isError:f}=(0,eO.I)({enabled:t,queryKey:["copilot-chat-mcps"],queryFn:async()=>d.fetchMCPServers(),placeholderData:e=>e}),y=(0,h.useMemo)(()=>p||[],[p]),x=(0,h.useMemo)(()=>y.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())),[y,l]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ev.T,{open:t,onOpen:()=>n(!0),onClose:()=>n(!1),anchorRef:e,renderAnchor:()=>(0,i.jsx)(i.Fragment,{}),width:"medium",children:(0,i.jsxs)("div",{className:tJ.container,children:[(0,i.jsxs)("div",{className:tJ.header,children:[(0,i.jsx)("div",{className:tJ.headerTitle,children:"MCP servers"}),(0,i.jsx)(tK.A,{placeholder:"Search by provider",value:l,onChange:e=>c(e.target.value),className:tJ.searchInput,leadingVisual:k.SearchIcon})]}),(0,i.jsx)("div",{className:tJ.contentArea,children:g?(0,i.jsx)("div",{className:tJ.loadingContainer,children:(0,i.jsx)(u.A,{})}):f?(0,i.jsxs)(tZ.E,{children:[(0,i.jsx)(tZ.E.Visual,{children:"\u26A0\uFE0F"}),(0,i.jsx)(tZ.E.Heading,{children:"Error loading tools"})]}):0===y.length?(0,i.jsxs)("div",{className:tJ.emptyState,children:[(0,i.jsx)(k.ToolsIcon,{size:24}),(0,i.jsx)("div",{className:tJ.emptyStateTitle,children:"You don't have any MCP tools configured"}),(0,i.jsx)("div",{className:tJ.emptyStateDescription,children:"Add one to connect models to files, APIs, databases, and more."})]}):(0,i.jsx)(tQ.G,{"aria-label":"MCP server selection","aria-multiselectable":"true",children:x.map(e=>{let t=o.has(e.id);return(0,i.jsxs)(tQ.G.Item,{id:e.id,onSelect:()=>(e=>{s(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(e.id),current:t,"aria-selected":t,children:[(0,i.jsx)(tQ.G.LeadingVisual,{children:(0,i.jsx)("span",{className:tJ.serverName,children:e.name})}),e.tools&&e.tools.length>0?(0,i.jsx)(tQ.G.SubTree,{children:e.tools.map(t=>(0,i.jsx)(tQ.G.Item,{id:`${e.id}-${t}`,children:t},t))}):null]},e.id)})})}),(0,i.jsx)("div",{className:tJ.footer,children:(0,i.jsx)(A.Q,{variant:"default",leadingVisual:k.PlusIcon,onClick:()=>{r(!0)},block:!0,children:"New tool"})})]})},"mcp-tool-manager"),(0,i.jsx)(tH.O,{isOpen:a,onClose:()=>{r(!1)},onServerAdded:()=>{m.invalidateQueries({queryKey:["copilot-chat-mcps"]})}})]})};try{tY.displayName||(tY.displayName="McpToolsManager")}catch{}let tX=()=>{let e,t,n=(0,o.c)(3),[a,r]=(0,h.useState)(!1),s=(0,h.useRef)(null);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(A.Q,{ref:s,leadingVisual:k.SlidersIcon,variant:"invisible","aria-label":"MCP Tools",onClick:()=>r(!0),children:"Tools"}),n[0]=e):e=n[0],n[1]!==a?(t=(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)(tY,{anchorRef:s,open:a,onOpenChange:r})]}),n[1]=a,n[2]=t):t=n[2],t};try{tX.displayName||(tX.displayName="McpToolMenu")}catch{}var t0=n(47745);function t1(){let e,t,n,a=(0,o.c)(7),r=(0,F.b)(),{usePlanningIntent:s}=(0,y.Pk)();a[0]!==r||a[1]!==s?(e=()=>r.setUsePlanningIntent(!s),a[0]=r,a[1]=s,a[2]=e):e=a[2];let l=e;return a[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(k.TasklistIcon,{}),a[3]=t):t=a[3],a[4]!==l||a[5]!==s?(n=(0,i.jsx)(j,{icon:t,isSelected:s,onClick:l,children:"Plan"}),a[4]=l,a[5]=s,a[6]=n):n=a[6],n}try{t1.displayName||(t1.displayName="PlanningIntentToggle")}catch{}var t2=n(79184);let t5=["github:cancel","copilot-chat:send-message","copilot-chat:edit-last-message"],t3=e=>{let t,n,a,r,c,d,u,m,p,f,x,C,j,S,w,k,A,W,ee,et,en,ea,er,ei,eo,es,el,ec,ed,eu,em,eh,ep,eg=(0,o.c)(152),ef=(0,y.Pk)(),ey=(0,F.b)();eg[0]!==ey?(t=ey.maxMessagesReached(),eg[0]=ey,eg[1]=t):t=eg[1];let ex=t,[e_,ev]=(0,h.useState)(null),eb="loading"===ef.slashCommandLoading.state,{safeSetTimeout:eC}=(0,R.A)(),{isLicensedLimited:ej}=(0,t2.xR)(),{onSelectReference:eS}=e,ew=(0,h.useRef)(null),eN=(0,h.useRef)(""),eI=(0,h.useRef)(!1),{activeCopilotSpaceId:eT}=(0,_.C)();eg[2]!==e_||eg[3]!==ef.mode?(n=e=>{ew.current=null,eN.current="",eI.current=!1,e_&&(ev(null),void 0!==e&&e&&(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_DISMISS",mode:ef.mode}))},eg[2]=e_,eg[3]=ef.mode,eg[4]=n):n=eg[4];let ek=n,eR=ef.isWaitingOnCopilot||ef.isWaitingOnAttachment||eb;eg[5]!==ek||eg[6]!==e.onSubmit||eg[7]!==e.textAreaRef||eg[8]!==eR?(a={isLoading:eR,onSubmit:e.onSubmit,textAreaRef:e.textAreaRef,clearPastedFile:ek},eg[5]=ek,eg[6]=e.onSubmit,eg[7]=e.textAreaRef,eg[8]=eR,eg[9]=a):a=eg[9];let{typingHasStarted:eA,textAreaRef:eE,textareaPreviewRef:eL,textAreaPreviewContainerRef:eM,text:eP,setText:eF,handleSubmit:eD,handleSubmitToNewThread:e$,handleScroll:eO,handleChange:eB,handleStop:eU,handleFocus:ez}=function(e){let t=(0,y.Pk)(),n=(0,F.b)(),{selectedThreadID:a,mode:r,autoSubmit:i,model:o}=t,{clearPastedFile:c,isLoading:d,onSubmit:u}=e,m=q.Jt.getSavedMessage(a),p=q.Jt.getSavedUserMessageOnError(a),{pathname:g}=(0,l.zy)(),[f,x]=(0,l.ok)(),[_,v]=(0,h.useState)(()=>K(t.mode,g,f)??p??m??""),[b,C]=(0,h.useState)(!1),j=(0,h.useRef)(null),S=e.textAreaRef||j,w=(0,h.useRef)(null),N=(0,h.useRef)(null),I=(0,h.useRef)(0),T=(0,h.useRef)(null),k=(0,h.useRef)(()=>{}),R=(0,h.useRef)(!1),A=(0,G.GF)(t.availableModels),E=(0,h.useCallback)(async()=>{t.renderAttachKnowledgeBaseHerePopover&&await n.fetchKnowledgeBases()},[n,t.renderAttachKnowledgeBaseHerePopover]);(0,h.useEffect)(()=>{E()},[E]),(0,h.useEffect)(()=>{q.Jt.setSavedMessage(a,_)},[a,_]),(0,V.N)(()=>{let e=0;!function t(){if(!S.current||!N.current||!w.current)return;e++,0===S.current.scrollHeight&&e<10&&setTimeout(t,1),S.current.style.height="0";let n=S.current.scrollHeight,a=Math.min(n,300);w.current.style.height=`${n}px`,S.current.style.height=`${n}px`,N.current.style.height=`${a}px`}()},[_,S,w]);let L=(0,h.useCallback)(()=>{S?.current&&w?.current&&N?.current&&(w.current.scrollTop=S.current.scrollTop,w.current.scrollLeft=S.current.scrollLeft)},[S]),M=(0,h.useMemo)(()=>t.currentReferences.filter(e=>!("isClientOnly"in e)||!e.isClientOnly),[t.currentReferences]),P=(0,h.useCallback)(async e=>{if(C(!1),q.Jt.clearSavedUserMessage(a),q.Jt.clearSavedUserMessageOnError(a),t.defaultRecipient&&!_.includes(`@${t.defaultRecipient}`)&&n.clearDefaultRecipient(),e?.preventDefault(),"assistive"===t.mode&&await H(_,t,n)){(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_EXECUTED",mode:t.mode,command:_}),"/new"===_.trim()&&q.Jt.setSavedMessageFast(a,null),v("");return}if(!d){let e=_;if(!e){let[t,a]=n.tryInferMessage(M);if(!t||!a)return;e=a}v(""),await u?.(e)}},[d,n,u,a,M,t,_]),D=(0,h.useCallback)(()=>n.sendMessageToNewThread(a,_,M,t.context,A),[n,a,t.context,M,_,A]);(0,h.useEffect)(()=>{(async()=>{let e=K(r,g,f),t=new URLSearchParams(f),n=t.get("model"),a=!n||n===o.id;e&&a&&!R.current&&(t.delete("prompt"),t.delete("model"),(0,s.BI)("dotcom_chat.activate",{target:"COPILOT_PROMPT_LOADED_FROM_URL",mode:"immersive"}),x(t,{replace:!0}),i&&(R.current=!0,await Promise.resolve(),await P()))})()},[g,f,x,r,i,o,P]);let $=(0,h.useCallback)(e=>{C(!0),S?.current&&(v(e.target.value),c?.(),I.current=0,L())},[L,c,S]),O=(0,h.useCallback)(async()=>{await n.stopStreaming(),null!=a&&(n.startThreadReload(),await new Promise(e=>{T.current=setTimeout(()=>e(a),6e3)}),k.current=await n.fetchMessages(a,!0,!0))},[n,a]);return(0,h.useEffect)(()=>{k.current&&(k.current(),k.current=()=>{})},[t.messages]),(0,h.useEffect)(()=>()=>{T.current&&(clearTimeout(T.current),T.current=null),n.cancelThreadReload(),k.current=()=>{}},[n]),{typingHasStarted:b,textAreaRef:S,textareaPreviewRef:w,textAreaPreviewContainerRef:N,text:_,setText:v,handleSubmit:P,handleSubmitToNewThread:D,handleScroll:L,handleChange:$,handleStop:O,handleFocus:e=>{e.currentTarget.selectionStart>0||e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}}}(a);eg[10]!==eB||eg[11]!==eE?(r={inputRef:eE,fallbackEventHandler:eB},eg[10]=eB,eg[11]=eE,eg[12]=r):r=eg[12];let eV=(0,T.H)(r);eg[13]!==eV||eg[14]!==e.figmaAuthUrl||eg[15]!==eE?(c={figmaAuthUrl:e.figmaAuthUrl,textAreaRef:eE,emitChange:eV},eg[13]=eV,eg[14]=e.figmaAuthUrl,eg[15]=eE,eg[16]=c):c=eg[16];let{replaceUrlWithReferenceMention:eq}=function(e){let t,n,a,r,i,s,l,c,d,u,m,h,p,g=(0,o.c)(37),{figmaAuthUrl:f,textAreaRef:x,emitChange:_}=e,b=(0,F.b)(),{currentReferences:C}=(0,y.Pk)();g[0]!==_||g[1]!==x?(t=(e,t,n)=>{if(!x.current||e===t)return;let a=n?.[0]??0,r=x.current.value.slice(a,n?.[1]),i=r.indexOf(e);for(;i>-1;){let n=i+e.length;_(t,[i+a,n+a]),i=(r=r.replace(e,t)).indexOf(e)}},g[0]=_,g[1]=x,g[2]=t):t=g[2];let j=t;g[3]!==b?(n=e=>{let{itemUrl:t}=e,n=(0,v.Vc)(t);return b.addReference(n,"url-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),n},g[3]=b,g[4]=n):n=g[4],g[5]!==j||g[6]!==b?(a=(e,t,n)=>{let{parsedReferenceMention:a}=t;b.replaceReference(n,e);let r=D.Q.for(e);if(!r)return;let i=D.Q.stringify(a),o=D.Q.stringify(r);i!==o&&j(i,o)},r=(e,t,n)=>{let{itemUrl:a,parsedReferenceMention:r}=t;b.removeReference(n),j(D.Q.stringify(r),a)},g[5]=j,g[6]=b,g[7]=a,g[8]=r):(a=g[7],r=g[8]),g[9]!==b?(i=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},g[9]=b,g[10]=i):i=g[10],g[11]!==n||g[12]!==a||g[13]!==r||g[14]!==i?(s={mutationFn:z,onMutate:n,onSuccess:a,onError:r,onSettled:i},g[11]=n,g[12]=a,g[13]=r,g[14]=i,g[15]=s):s=g[15];let S=(0,E.n)(s);g[16]!==b?(l=e=>{let t=(0,v.Vc)(e);return b.addReference(t,"figma-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),t},c=(e,t,n)=>{b.replaceReference(n,e)},g[16]=b,g[17]=l,g[18]=c):(l=g[17],c=g[18]),g[19]!==f||g[20]!==b?(d=(e,t,n)=>{n&&f&&e instanceof B?b.replaceReference(n,{type:"figma",title:"Sign in to Figma",id:`forbidden-${t}`,url:f,thumbnailUrl:"",fullImageUrl:"",authenticationRequired:!0}):b.removeReference(n)},g[19]=f,g[20]=b,g[21]=d):d=g[21],g[22]!==b?(u=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},g[22]=b,g[23]=u):u=g[23],g[24]!==u||g[25]!==l||g[26]!==c||g[27]!==d?(m={mutationFn:U,onMutate:l,onSuccess:c,onError:d,onSettled:u},g[24]=u,g[25]=l,g[26]=c,g[27]=d,g[28]=m):m=g[28];let w=(0,E.n)(m);g[29]!==C||g[30]!==w||g[31]!==j||g[32]!==S||g[33]!==x?(h=e=>{let t=x.current?.value.slice(...e)??"";if(/\s/.test(t))return t;let n=D.Q.fromUrl(t);n&&(C.every(e=>!D.Q.refersTo(n,e))&&S.mutate({itemUrl:t,parsedReferenceMention:n}),j(t,D.Q.stringify(n),e));let a=O.exec(t);return a&&(w.mutate(t),j(t,a[1],e)),t},g[29]=C,g[30]=w,g[31]=j,g[32]=S,g[33]=x,g[34]=h):h=g[34];let N=h;return g[35]!==N?(p={replaceUrlWithReferenceMention:N},g[35]=N,g[36]=p):p=g[36],p}(c),{isLoading:eW,addReferenceForMention:eH,addReferencesForMentions:eG}=function(){let e=(0,F.b)(),{currentReferences:t,mode:n}=(0,y.Pk)(),a=(0,E.n)({mutationFn:async e=>{let t="repository"===e.type?[e.repo]:[e.repo,(e=>{switch(e){case"issue":return"issue";case"pull-request":return"pull_request";case"discussion":return"discussion";case"thread-scoped-file":case"file":return"file"}})(e.type),e.id??""],a=await (0,L.lS)(`/copilot/chat/reference/${t.join("/")}`);if(!a.ok)throw Error(`Failed to fetch reference data (${a.status}: ${a.statusText})`);return(0,s.BI)("dotcom_chat.activate",{target:"REFERENCE_LINK_PASTE",mode:n,linkType:e.type}),await a.json()},onSuccess:t=>e.addReference(t,"chatInput")}),r=e=>{t.every(t=>!D.Q.refersTo(e,t))&&a.mutate(e)};return{isLoading:a.isPending,addReferenceForMention:r,addReferencesForMentions:e=>{let n=(0,M.l)().use($.U,{references:t,agents:[]}).parse(e),a=0;(0,P.YR)(n,e=>{"reference-mention"===e.type&&void 0===e.data.mentionedReferenceId&&a<20&&(a++,r(e.data.referenceMention))})}}}(),eK=(0,X.FQ)(),eQ=eT&&eK&&g.W.spacesV3UI,eZ=!!(eT&&eK),eJ=eb||eW||ef.isWaitingOnAttachment||!!e.submitDisabled,eY=0===eP.length;eg[17]!==eU||eg[18]!==ef.mode?(d=()=>{(0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_STOP",mode:ef.mode}),eU()},eg[17]=eU,eg[18]=ef.mode,eg[19]=d):d=eg[19];let eX=d;eg[20]!==eT||eg[21]!==ek||eg[22]!==eD||eg[23]!==eK||eg[24]!==ey||eg[25]!==e_||eg[26]!==eZ||eg[27]!==ef.mode||eg[28]!==ef.selectedThreadID||eg[29]!==eJ?(u=async()=>{if(eJ)return;let e=eT?`${eT.owner}/${eT.id}`:"";(0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_SUBMIT",mode:ef.mode,selectedThreadId:ef.selectedThreadID,copilotSpace:e,fromSpaceUI:eK}),eZ&&await ey.selectPendingThread(eT),e_&&ek(!1),eD()},eg[20]=eT,eg[21]=ek,eg[22]=eD,eg[23]=eK,eg[24]=ey,eg[25]=e_,eg[26]=eZ,eg[27]=ef.mode,eg[28]=ef.selectedThreadID,eg[29]=eJ,eg[30]=u):u=eg[30];let e0=u;eg[31]!==eT||eg[32]!==e$||eg[33]!==ey||eg[34]!==eZ||eg[35]!==eJ?(m=async()=>{eJ||(eZ&&await ey.selectPendingThread(eT),e$())},eg[31]=eT,eg[32]=e$,eg[33]=ey,eg[34]=eZ,eg[35]=eJ,eg[36]=m):m=eg[36];let e1=m;eg[37]!==ey||eg[38]!==ef.messages?(p=()=>{let e=ef.messages.findLast(t8)?.id;e&&ey.startEditingMessage(e)},eg[37]=ey,eg[38]=ef.messages,eg[39]=p):p=eg[39];let e2=p,e5=ef.isWaitingOnCopilot?"Copilot is responding\u2026":ef.defaultRecipient?void 0:ex?"Message limit reached. To continue chatting with Copilot, start a new conversation.":e.placeholder?e.placeholder:"How can I help you?";ef.defaultRecipient&&""===eP&&!eA&&eF(`@${ef.defaultRecipient} `);let e3=(0,h.useRef)(null),[e4,e6]=(0,h.useState)(null),[e7,e8]=(0,h.useState)(null);eg[40]!==ef.mode?(f=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU",mode:ef.mode}),e6(t9)},eg[40]=ef.mode,eg[41]=f):f=eg[41];let e9=f;eg[42]!==ey||eg[43]!==ef.mode||eg[44]!==ef.skillOptions?.deepCodeSearch?(x=()=>{(0,s.BI)("dotcom_chat.activate",{target:"DEEP_CODESEARCH",mode:ef.mode}),ey.dispatch({type:"SET_DEEP_CODESEARCH",deepCodeSearch:!ef.skillOptions?.deepCodeSearch})},eg[42]=ey,eg[43]=ef.mode,eg[44]=ef.skillOptions?.deepCodeSearch,eg[45]=x):x=eg[45],ef.skillOptions?.deepCodeSearch;let tt=x,{model:tn}=(0,y.bP)("model"),ta="immersive"===ef.mode&&!!tn.capabilities?.supports?.vision;eg[46]!==eT||eg[47]!==ey||eg[48]!==tn||eg[49]!==eZ||eg[50]!==e.existingFileNames||eg[51]!==ta||eg[52]!==ef?(C=async(t,n,a,r)=>{let i=new Z.s(ef,ey),o=new Y.E(ey,e.existingFileNames),s=[];[...t].some(ne)&&!tn.capabilities?.supports?.vision&&(ey.addAmbientError(`The ${tn.displayName} model doesn't support answering questions about images. Select a different model and try again.`),(0,J.d)("vision_not_supported_for_model",{modelId:tn.id,uploadType:n}));let[l,c]=Z.s.getAllowedFiles([...t],tn);if(ta){let e=await i.addImageAttachments(l,n,eT,eZ);e&&s.push(...e)}let d=[];for(let e of c)if(await Y.E.isAttachable(e)){let t=await o.addAttachment(e,a,r);t&&s.push(t)}else d.push(e.type);return ta&&d.length>0&&(0,J.d)("included_unsupported_file",{fileTypes:d.join(","),uploadType:n}),s},eg[46]=eT,eg[47]=ey,eg[48]=tn,eg[49]=eZ,eg[50]=e.existingFileNames,eg[51]=ta,eg[52]=ef,eg[53]=C):C=eg[53];let tr=C;eg[54]!==ek||eg[55]!==tr||eg[56]!==e_||eg[57]!==eF||eg[58]!==ef.mode||eg[59]!==eP?(j=async()=>{if(!e_)return;let e=[e_],t=await tr(e,"paste",ew.current||void 0,eN.current);if(t.length>0&&t[0]?.type==="thread-scoped-file"){let e=await e_.text();eF(eP.replaceAll(e,`@${t[0].name}`)),ek(!1),(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_CONVERT",mode:ef.mode})}},eg[54]=ek,eg[55]=tr,eg[56]=e_,eg[57]=eF,eg[58]=ef.mode,eg[59]=eP,eg[60]=j):j=eg[60];let ti=j;eg[61]!==ek?(S=()=>{ek(!0)},eg[61]=ek,eg[62]=S):S=eg[62];let to=S;eg[63]!==e_||eg[64]!==ef.isWaitingOnAttachment||eg[65]!==ef.mode?(w=()=>{!e_||ef.isWaitingOnAttachment||eI.current||(eI.current=!0,(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_TRIGGER",mode:ef.mode}))},k=[e_,ef.isWaitingOnAttachment,ef.mode],eg[63]=e_,eg[64]=ef.isWaitingOnAttachment,eg[65]=ef.mode,eg[66]=w,eg[67]=k):(w=eg[66],k=eg[67]),(0,h.useEffect)(w,k),eg[68]!==eG||eg[69]!==tr||eg[70]!==ey||eg[71]!==e.existingFileNames||eg[72]!==eq||eg[73]!==eC||eg[74]!==eE?(A=t=>{let n=t.clipboardData;if(n?.items){let a=[];for(let t=0;t<n.items.length;t++){let r=n.items[t];if(r){if("file"===r.kind){let e=r.getAsFile();e&&a.push(e)}else if("string"===r.kind&&["text","text/plain"].includes(r.type)){let t=n.getData(r.type);if(t.length>1e3&&t.length<=Y.E.getAttachmentSizeLimit())eC(()=>{eI.current=!1;let n=new File([t],"",{type:Y.x}),a=new Y.E(ey,e.existingFileNames);ev(n),ew.current=a.generateFileName(t,n.type).then(e=>eN.current=e)},1);else{eG(t);let e=eE.current?.selectionStart??0;setTimeout(()=>eq([e,e+t.length]));return}}}}a.length>0&&(t.preventDefault(),tr(a,"paste"))}},eg[68]=eG,eg[69]=tr,eg[70]=ey,eg[71]=e.existingFileNames,eg[72]=eq,eg[73]=eC,eg[74]=eE,eg[75]=A):A=eg[75];let ts=A;eg[76]!==tr?(W=e=>{tr(e,"drag")},eg[76]=tr,eg[77]=W):W=eg[77];let tl=W,tc=e.isStreaming||ef.isWaitingOnCopilot,td=tc?eX:void 0,tu=eY?e2:void 0;eg[78]!==e9||eg[79]!==e0||eg[80]!==e1||eg[81]!==tt||eg[82]!==td||eg[83]!==tu?(et={"github:cancel":td,"copilot-chat:send-message":e0,"copilot-chat:send-message-new-conversation":e1,"copilot-chat:add-attachment":e9,"copilot-chat:edit-last-message":tu,"copilot-chat:deep-codesearch":tt},eg[78]=e9,eg[79]=e0,eg[80]=e1,eg[81]=tt,eg[82]=td,eg[83]=tu,eg[84]=et):et=eg[84],ee=et;let tm="small"===e.size,th=!e.hideShadow;eg[85]!==tm||eg[86]!==th?(en=(0,b.$)(tR.container,{[tR.containerSmall]:tm,[tR.containerShadow]:th}),eg[85]=tm,eg[86]=th,eg[87]=en):en=eg[87];let tp="small"===e.size?"small":"medium",tg=!!e_&&!ef.isWaitingOnAttachment;eg[88]!==ti||eg[89]!==to||eg[90]!==eW||eg[91]!==eS||eg[92]!==e.getReferenceVersion||eg[93]!==tp||eg[94]!==tg?(ea=(0,i.jsx)(tU,{className:tR.attachments,returnFocusRef:e3,tokenSize:tp,isLoading:eW,onSelectReference:eS,getReferenceVersion:e.getReferenceVersion,showConvertToFileText:tg,onConvertToFile:ti,onConvertToFileDismiss:to}),eg[88]=ti,eg[89]=to,eg[90]=eW,eg[91]=eS,eg[92]=e.getReferenceVersion,eg[93]=tp,eg[94]=tg,eg[95]=ea):ea=eg[95];let tf=ex||e.disabled;eg[96]===Symbol.for("react.memo_cache_sentinel")?(er=(0,N.G)("copilot-chat-input-textarea"),eg[96]=er):er=eg[96],eg[97]!==eB||eg[98]!==ez||eg[99]!==ts||eg[100]!==eO||eg[101]!==e5||eg[102]!==tf||eg[103]!==eP||eg[104]!==eE?(ei=(0,i.jsx)("textarea",{autoFocus:!0,id:Q.wg,className:tR.input,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",onPaste:ts,ref:eE,onScroll:eO,onChange:eB,onFocus:ez,placeholder:e5,value:eP,"data-react-autofocus":!0,disabled:tf,...er}),eg[97]=eB,eg[98]=ez,eg[99]=ts,eg[100]=eO,eg[101]=e5,eg[102]=tf,eg[103]=eP,eg[104]=eE,eg[105]=ei):ei=eg[105],eg[106]!==eH||eg[107]!==ei?(eo=(0,i.jsx)(tT,{onSelectReference:eH,onShowAgentsDialog:e6,children:ei}),eg[106]=eH,eg[107]=ei,eg[108]=eo):eo=eg[108],eg[109]!==eP||eg[110]!==eL?(es=(0,i.jsx)(tL,{text:eP,ref:eL}),eg[109]=eP,eg[110]=eL,eg[111]=es):es=eg[111],eg[112]!==eo||eg[113]!==es||eg[114]!==eM?(el=(0,i.jsxs)(I.tL.LimitKeybindingScope,{commandIds:t5,className:tR.inputContainer,ref:eM,children:[eo,es]}),eg[112]=eo,eg[113]=es,eg[114]=eM,eg[115]=el):el=eg[115];let ty=ef.skillOptions?.deepCodeSearch,tx=!!e.hideAttachmentButton;return eg[116]!==e9||eg[117]!==ej||eg[118]!==e.extraToolbarLeft||eg[119]!==e.onNewThreadSelected||eg[120]!==e.showMcpToolsButton||eg[121]!==e.showModelPicker||eg[122]!==e.showPlanningToggle||eg[123]!==e.showSpacesSelect||eg[124]!==e.submitButtonLabel||eg[125]!==ef.thirdPartyMcpAllowed||eg[126]!==tc||eg[127]!==eJ||eg[128]!==ty||eg[129]!==tx?(ec=(0,i.jsx)(t4,{addAttachment:e9,attachmentButtonRef:e3,deepCodeSearch:ty,hideAttachmentButton:tx,stoppable:tc,submitDisabled:eJ,onNewThreadSelected:e.onNewThreadSelected,showModelPicker:e.showModelPicker,isLicensedLimited:ej,extraToolbarLeft:e.extraToolbarLeft,submitButtonLabel:e.submitButtonLabel,showSpacesSelect:e.showSpacesSelect,showPlanningToggle:e.showPlanningToggle,showMcpToolsButton:e.showMcpToolsButton,thirdPartyMcpAllowed:ef.thirdPartyMcpAllowed}),eg[116]=e9,eg[117]=ej,eg[118]=e.extraToolbarLeft,eg[119]=e.onNewThreadSelected,eg[120]=e.showMcpToolsButton,eg[121]=e.showModelPicker,eg[122]=e.showPlanningToggle,eg[123]=e.showSpacesSelect,eg[124]=e.submitButtonLabel,eg[125]=ef.thirdPartyMcpAllowed,eg[126]=tc,eg[127]=eJ,eg[128]=ty,eg[129]=tx,eg[130]=ec):ec=eg[130],eg[131]!==en||eg[132]!==ea||eg[133]!==el||eg[134]!==ec?(ed=(0,i.jsxs)("form",{className:en,children:[ea,el,ec]}),eg[131]=en,eg[132]=ea,eg[133]=el,eg[134]=ec,eg[135]=ed):ed=eg[135],eg[136]!==ee||eg[137]!==ed?(eu=(0,i.jsx)(I.tL,{commands:ee,children:ed}),eg[136]=ee,eg[137]=ed,eg[138]=eu):eu=eg[138],eg[139]!==e4||eg[140]!==eB||eg[141]!==e7||eg[142]!==eE?(em=(0,i.jsx)(te,{inputRef:eE,inputOnChange:eB,anchorRef:e3,panel:e4,onPanelChange:e6,initialRepo:e7,onRepoSelect:e8}),eg[139]=e4,eg[140]=eB,eg[141]=e7,eg[142]=eE,eg[143]=em):em=eg[143],eg[144]!==tl||eg[145]!==eQ||eg[146]!==ef.isWaitingOnAttachment?(eh=!eQ&&(0,i.jsx)(tW.A,{onFilesDrop:tl,isUploading:ef.isWaitingOnAttachment}),eg[144]=tl,eg[145]=eQ,eg[146]=ef.isWaitingOnAttachment,eg[147]=eh):eh=eg[147],eg[148]!==eu||eg[149]!==em||eg[150]!==eh?(ep=(0,i.jsxs)(i.Fragment,{children:[eu,em,eh]}),eg[148]=eu,eg[149]=em,eg[150]=eh,eg[151]=ep):ep=eg[151],ep},t4=(0,h.memo)(e=>{let t,n,a,r,s,l,c,d,u,m,h=(0,o.c)(34),{addAttachment:p,attachmentButtonRef:f,deepCodeSearch:y,hideAttachmentButton:x,stoppable:_,submitDisabled:v,onNewThreadSelected:C,showModelPicker:j,isLicensedLimited:S,extraToolbarLeft:N,submitButtonLabel:T,showSpacesSelect:R,showPlanningToggle:E,showMcpToolsButton:L,thirdPartyMcpAllowed:M}=e;return h[0]!==y?(t=g.W.showDeepCodeSearchButton&&(0,i.jsx)(I.N5,{commandId:"copilot-chat:deep-codesearch",icon:k.RocketIcon,variant:"invisible",tooltipDirection:"n",className:(0,b.$)({[tR.clicked]:y})}),h[0]=y,h[1]=t):t=h[1],h[2]!==p||h[3]!==f||h[4]!==x?(n=!x&&(0,i.jsx)(A.Q,{ref:f,leadingVisual:k.PaperclipIcon,variant:"invisible",onClick:p,"data-testid":"attachment-menu-button",children:"Attach"}),h[2]=p,h[3]=f,h[4]=x,h[5]=n):n=h[5],h[6]!==L||h[7]!==M?(a=g.W.copilotMcp&&L&&M&&(0,i.jsx)(tX,{}),h[6]=L,h[7]=M,h[8]=a):a=h[8],h[9]!==R?(r=g.W.spacesInputMenuSelect&&R&&(0,i.jsx)(w,{}),h[9]=R,h[10]=r):r=h[10],h[11]!==E?(s=g.W.planningAgent&&E&&(0,i.jsx)(t1,{}),h[11]=E,h[12]=s):s=h[12],h[13]!==N||h[14]!==t||h[15]!==n||h[16]!==a||h[17]!==r||h[18]!==s?(l=(0,i.jsxs)("div",{className:tR.toolbarLeft,children:[t,n,a,N,r,s]}),h[13]=N,h[14]=t,h[15]=n,h[16]=a,h[17]=r,h[18]=s,h[19]=l):l=h[19],h[20]!==S||h[21]!==C||h[22]!==j?(c=C&&j&&(0,i.jsx)(t0.Yb,{onNewThreadSelected:C,limited:S}),h[20]=S,h[21]=C,h[22]=j,h[23]=c):c=h[23],h[24]!==_||h[25]!==T||h[26]!==v?(d=_?(0,i.jsx)(t7,{}):(0,i.jsx)(t6,{disabled:v,label:T}),h[24]=_,h[25]=T,h[26]=v,h[27]=d):d=h[27],h[28]!==c||h[29]!==d?(u=(0,i.jsxs)("div",{className:tR.toolbarRight,children:[c,d]}),h[28]=c,h[29]=d,h[30]=u):u=h[30],h[31]!==l||h[32]!==u?(m=(0,i.jsxs)("div",{className:tR.toolbar,children:[l,u]}),h[31]=l,h[32]=u,h[33]=m):m=h[33],m});function t6(e){let t,n=(0,o.c)(3),{disabled:a,label:r}=e,s=r||"Send now";return n[0]!==a||n[1]!==s?(t=(0,i.jsx)(I.N5,{commandId:"copilot-chat:send-message",variant:"invisible",size:"medium",icon:k.PaperAirplaneIcon,"aria-label":s,disabled:a,tooltipDirection:"n"}),n[0]=a,n[1]=s,n[2]=t):t=n[2],t}function t7(){let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(I.N5,{...(0,N.G)("copilot-chat-stop-button"),commandId:"github:cancel",variant:"invisible",size:"medium",icon:k.SquareFillIcon,tooltipDirection:"n",className:tR.CommandIconButton}),t[0]=e):e=t[0],e}t4.displayName="ChatInputToolbar";try{t3.displayName||(t3.displayName="ChatInput")}catch{}try{t6.displayName||(t6.displayName="SubmitButton")}catch{}try{t7.displayName||(t7.displayName="StopButton")}catch{}function t8(e){return"user"===e.role}function t9(e){return"attachment-types"===e?null:"attachment-types"}function ne(e){return e.type.startsWith("image/")}},30558:(e,t,n)=>{n.d(t,{c:()=>L});var a=n(74848),r=n(21728),i=n(4817),o=n(98755),s=n(77430),l=n(53419),c=n(29731),d=n(38621),u=n(75177),m=n(34164),h=n(96540),p=n(52940),g=n(25641),f=n(2635),y=n(33592),x=n(55009),_=n(77939),v=n(46665),b=n(59524),C=n(88752),j=n(32744),S=n(82178),w=n(94517),N=n(34363),I=n(11633),T=n(31958),k=n(42983),R=n(82151),A=n(45244);let E=({isLatestMessage:e,isFirstReply:t,isStreaming:n,onClickReference:r,...E})=>{let{message:L}=(0,v.V)(),M=(0,f.Pk)(),P=(0,y.b)(),{author:F,handleConfirmationAction:D,handleRetryErrorMessage:$,hasClientConfirmations:O,isAI:B,isCopilot:U,isError:z,isAgentError:V,isInterrupted:q,isUser:W,myRef:H,rendererConfig:G,renderFeedback:K,shouldShowMessageActions:Q,skillExecutionToUseForRespondingText:Z,showRetryButton:J}=(0,p.p)({excludeFeedback:E.excludeFeedback,inputRef:E.inputRef,isLatestMessage:e,isStreaming:n,excludeReferencesFromFocusZone:!0}),Y=L.clientToolResults&&L.clientToolResults.length>0,X=L.clientSkillsRequests&&L.clientSkillsRequests.length>0,ee=W&&!Y,et=n||Y||X,en=et&&e,ea=U||Y,er=(0,h.useMemo)(()=>(0,g.rT)(L.references??[]),[L.references]),ei=(0,h.useMemo)(()=>(0,g.H2)(L.references??[]),[L.references]),eo=(0,h.useMemo)(()=>P.maxMessagesReached(),[P]),es=er.filter(e=>"image"!==e.type&&"org-instructions"!==e.type),el=(0,h.useMemo)(()=>L.mediaContent?.filter(e=>e.mediaType.startsWith("image/")),[L.mediaContent]),ec=(0,h.useMemo)(()=>void 0!==el&&el.length>0,[el]),ed=(0,h.useCallback)(e=>{let t=e.target.href,n=er.find(e=>e.url===t);n&&"immersive"===M.mode&&(P.selectReference(n),e.preventDefault())},[P,er,M.mode]),eu=(0,h.useCallback)(e=>{P.setWrapCodeLines(e)},[P]);return(0,a.jsxs)("div",{className:(0,m.$)("message-container",_.A.messageContainer,ee&&_.A.user,B&&_.A.ai),ref:H,...(0,c.G)(`message-${z?"error":n?"streaming":L.id}`),children:[ee&&ec&&(0,a.jsx)("div",{children:el?.map(e=>(0,a.jsx)(x.o,{src:e?.url||"",alt:"Uploaded image",mode:M.mode},e?.url||""))}),ea||Y?(0,a.jsx)(S.W,{isLoading:et&&e,isError:z&&L.error?.type!=="agentUnauthorized",mode:M.mode,isFirstMessage:t,isLoadingSkills:(L.skillExecutions??[]).length>0&&et&&""===L.content&&e,message:L.content||"",createdAt:L.createdAt}):B?(0,a.jsx)("div",{className:_.A.avatar,children:(0,a.jsx)(s.r,{src:F.avatarURL,size:24,"aria-label":`${F.name} avatar`,alt:`${F.name} avatar`,"data-testid":"chat-message-author-avatar"})}):null,ee&&(0,a.jsx)(C.t,{size:"small",className:"mb-2",references:es,message:L,onClickReference:r}),(0,a.jsxs)("div",{className:(0,m.$)(_.A.message,ee&&_.A.user),children:[O&&L.clientConfirmations?.length?(0,a.jsx)(u.A,{className:(0,m.$)("my-1",_.A.clientConfirmationContainer),sx:{justifyContent:ee?"flex-end":""},"data-testid":"chat-message-client-confirmations",children:(0,a.jsxs)("span",{className:_.A.confirmationStatusText,children:[(0,a.jsx)(d.CheckIcon,{})," ",F.name," ",L.clientConfirmations?.[0]?.state," the action"]})}):null,U&&en&&!L.content&&(0,a.jsx)(A.b,{className:(0,m.$)(_.A.skillExecutionText,"mb-2 mt-1 ml-2"),children:`${(0,I.WA)(Z)}...`}),(0,a.jsx)("div",{className:(0,m.$)(_.A.messageContent,!!O&&_.A.hasClientConfirmations),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,m.$)("js-snippet-clipboard-copy-unpositioned",_.A.messageContentWrapper),children:["assistant"===L.role&&L.content&&(er?.length?(0,a.jsx)(C.s,{className:"mb-2",references:er}):null),"assistant"===L.role&&(ei.length?(0,a.jsx)(b.Q,{mcpToolResults:ei}):null),!O&&(ee?(0,a.jsx)(R.R,{}):L.content&&(0,a.jsx)(i.To,{markdown:L.content,onLinkClick:ed,chatMode:"assistive",wrapCodeLines:M.wrapCodeLines,onWrapCodeLinesChange:eu,...G})),z?(0,a.jsx)(w.K,{manager:P}):null,V&&L.agentErrors?.length?(0,a.jsx)(w.h,{errors:L.agentErrors}):null,q?(0,a.jsx)(T.h,{messageHasContent:!!L.content||!!L.skillExecutions?.length}):null,(U||(0,g.yh)(F))&&(0,g.Ye)(L.confirmations).map((t,n)=>"indexrepo"===t.confirmation.name?null:(0,a.jsx)(j.m,{confirmation:t,handleConfirmation:D,isLatestMessage:e},n))]}),!Q&&J&&(0,a.jsx)(k.$,{handleRetryMessage:$,disabled:eo}),Q&&(0,a.jsxs)(u.A,{className:(0,m.$)("message-actions",_.A.messageActionsContainer),"data-testid":"message-action-bar",sx:{position:e?void 0:"absolute",bottom:e?void 0:"-2.25rem",borderRadius:e?void 0:2,boxShadow:e?void 0:"var(--shadow-floating-small)",opacity:e?void 0:0,pointerEvents:e?void 0:"none","&::before":{content:e?void 0:'""',position:"absolute"}},children:[K&&(0,a.jsx)(N.G,{iconSize:"small"}),U&&!!L.content&&!n&&(0,a.jsx)(o.T,{textToCopy:L.content??"",ariaLabel:"Copy to clipboard",size:"small",className:"d-flex flex-items-center",onCopy:()=>{(0,l.BI)("copilot_chat.activate",{target:"CHAT_MESSAGE_COPY",mode:M.mode})}}),J&&(0,a.jsx)(k.$,{handleRetryMessage:$,disabled:eo})]})]})})]})]})},L=e=>{let t,n,i,o,s=(0,r.c)(8);return s[0]!==e?({message:t,...n}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),s[3]!==n?(i=(0,a.jsx)(E,{...n}),s[3]=n,s[4]=i):i=s[4],s[5]!==t||s[6]!==i?(o=(0,a.jsx)(v.$,{message:t,children:i}),s[5]=t,s[6]=i,s[7]=o):o=s[7],o};try{E.displayName||(E.displayName="InnerChatMessage")}catch{}try{L.displayName||(L.displayName="ChatMessage")}catch{}},46665:(e,t,n)=>{n.d(t,{$:()=>s,V:()=>l});var a=n(74848),r=n(21728),i=n(96540);let o=(0,i.createContext)(void 0),s=e=>{let t,n,i,s=(0,r.c)(5),{message:l,children:c}=e;return s[0]!==l?(n={message:l},s[0]=l,s[1]=n):n=s[1],t=n,s[2]!==c||s[3]!==t?(i=(0,a.jsx)(o.Provider,{value:t,children:c}),s[2]=c,s[3]=t,s[4]=i):i=s[4],i},l=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{o.displayName||(o.displayName="ChatMessageContext")}catch{}try{s.displayName||(s.displayName="ChatMessageProvider")}catch{}},59524:(e,t,n)=>{n.d(t,{Q:()=>c});var a=n(74848),r=n(21728),i=n(38621),o=n(72010),s=n(70728);let l={Details:"ChatMessageMcpToolResultsList-module__Details--ri1It",ToolInputOutputHeading:"ChatMessageMcpToolResultsList-module__ToolInputOutputHeading--tgNpb",ToolInputOutputContents:"ChatMessageMcpToolResultsList-module__ToolInputOutputContents--DB0rS"};function c(e){let t,n,i=(0,r.c)(4),{mcpToolResults:o}=e;return o&&0!==o.length?(i[0]!==o?(t=o.map(d),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,a.jsx)("div",{className:"mb-2",children:t}),i[2]=t,i[3]=n):n=i[3],n):null}function d(e){return(0,a.jsx)(u,{result:e},e.toolName)}function u(e){let t,n,c,d,u,m,h,p,g,f,y,x,_,v=(0,r.c)(29),{result:b}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(t={},v[0]=t):t=v[0];let{getDetailsProps:C,open:j}=(0,o.A)(t),S=b.toolName;return v[1]!==C?(n=C(),v[1]=C,v[2]=n):n=v[2],v[3]!==j?(c=!j&&(0,a.jsx)(i.ChevronRightIcon,{size:16,className:"mr-1 inline-block"}),v[3]=j,v[4]=c):c=v[4],v[5]!==j?(d=j&&(0,a.jsx)(i.ChevronDownIcon,{size:16,className:"mr-1 inline-block"}),v[5]=j,v[6]=d):d=v[6],v[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(i.ToolsIcon,{size:16,className:"mr-1 inline-block"}),v[7]=u):u=v[7],v[8]!==b.serverName||v[9]!==b.toolName||v[10]!==c||v[11]!==d?(m=(0,a.jsxs)("summary",{children:[c,d,u,"Called ",b.toolName," from ",b.serverName]}),v[8]=b.serverName,v[9]=b.toolName,v[10]=c,v[11]=d,v[12]=m):m=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Input"}),v[13]=h):h=v[13],v[14]!==b.toolArguments?(p=JSON.stringify(b.toolArguments,null,2),v[14]=b.toolArguments,v[15]=p):p=v[15],v[16]!==p?(g=(0,a.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,a.jsx)("span",{className:l.ToolInputOutputContents,children:p})}),v[16]=p,v[17]=g):g=v[17],v[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Output"}),v[18]=f):f=v[18],v[19]!==b.toolResponse?(y=JSON.stringify(b.toolResponse,null,2),v[19]=b.toolResponse,v[20]=y):y=v[20],v[21]!==y?(x=(0,a.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,a.jsx)("span",{className:l.ToolInputOutputContents,children:y})}),v[21]=y,v[22]=x):x=v[22],v[23]!==b.toolName||v[24]!==g||v[25]!==x||v[26]!==n||v[27]!==m?(_=(0,a.jsxs)(s.A,{className:l.Details,...n,children:[m,h,g,f,x]},S),v[23]=b.toolName,v[24]=g,v[25]=x,v[26]=n,v[27]=m,v[28]=_):_=v[28],_}try{c.displayName||(c.displayName="ChatMessageMcpToolResultsList")}catch{}try{u.displayName||(u.displayName="McpToolResult")}catch{}},63262:(e,t,n)=>{n.d(t,{A:()=>d,i:()=>c});var a=n(74848),r=n(21728),i=n(71315),o=n(96540),s=n(2635),l=n(7104);let c=e=>{let t,n,c,d,u=(0,r.c)(10),{isLastGroup:m,children:h}=e,{scrollContainerHeight:p,scrollToBottom:g}=(0,l.b)(),{threadHasNewMessages:f,pendingFirstMessage:y}=(0,s.Pk)(),x=m&&(f||y);if(u[0]!==x||u[1]!==g?(t=()=>{x&&g("smooth")},n=[x,g],u[0]=x,u[1]=g,u[2]=t,u[3]=n):(t=u[2],n=u[3]),(0,o.useEffect)(t,n),x)if(i.cg?.CSS?.supports("container-type: size")){let e;u[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},u[4]=e):e=u[4],d=e}else{let e;u[5]!==p?(e={minHeight:p},u[5]=p,u[6]=e):e=u[6],d=e}return u[7]!==h||u[8]!==d?(c=(0,a.jsx)("div",{style:d,children:h}),u[7]=h,u[8]=d,u[9]=c):c=u[9],c};function d(e){return e.reduce((e,t)=>{let n=e.at(-1);return"assistant"===(n?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):n?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},88752:(e,t,n)=>{n.d(t,{t:()=>L,s:()=>A});var a,r=n(74848),i=n(38621),o=n(72010),s=n(70728),l=n(52446),c=n(81246),d=n(30729),u=n(34164),m=n(96540),h=n(25641),p=n(35247),g=n(2635),f=n(23967),y=n(1002),x=n(5945),_=n(33592);let v={ActionList_LinkItem:"ChatReference-module__ActionList_LinkItem--gopkk"};var b=n(35673),C=n(51609);function j({reference:e,onClick:t}){let n,a=(0,g.Pk)(),o=(0,_.b)(),s=(0,m.useRef)(null),[c,d]=(0,m.useState)(!1),p=a?.mode??"assistive",{currentReferences:f}=a??{currentReferences:[]},j=(0,m.useMemo)(()=>f.map(e=>(0,h.Vb)(e)),[f]),S=(0,m.useMemo)(()=>(0,h.Vb)(e),[e]),w=(0,m.useMemo)(()=>"repo-instructions"===e.type,[e]),N=(0,m.useMemo)(()=>"org-instructions"===e.type,[e]),I=!w&&!N&&"web-search-result"!==e.type,T=(0,m.useMemo)(()=>w||N||j.includes(S),[w,N,j,S]),k=(0,m.useCallback)(t=>{t.stopPropagation(),T||o.addReference(e,"refMenu")},[o,e,T]),R=(0,h.JP)(e),A=(0,h.Xs)(R),E=(0,C.a_)(e,(0,h.P)(a?.currentTopic));switch(e.type){case"file":case"snippet":{n=`${e.repoName}`;let t=e.path.lastIndexOf("/");-1!==t&&(n=`${n}/${e.path.substring(0,t)}`);break}case"web-search-result":n=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let L=(0,h.z$)(e);return(0,r.jsxs)(l.l.LinkItem,{onClick:n=>{t&&!n.defaultPrevented&&t(e,n)},href:R,rel:"noopener",className:(0,u.$)("reference-action",v.ActionList_LinkItem),target:"immersive"===p||"third-party"===e.type?"_blank":void 0,children:[E&&(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(E,{})}),(0,r.jsxs)(y.A,{title:L,maxWidth:"100%",className:"text-semibold",children:[L,n&&(0,r.jsx)("span",{className:"color-fg-muted ml-2",children:n})]}),I&&(0,r.jsx)(l.l.TrailingAction,{onClick:()=>d(!0),icon:i.KebabHorizontalIcon,label:"More reference options",ref:s}),I&&(0,r.jsx)(x.W,{anchorRef:s,open:c,onOpenChange:d,children:(0,r.jsx)(b.UJ,{portalContainerName:b.Dq,children:(0,r.jsxs)(l.l,{children:[A&&("immersive"===p||["third-party","folder","repository","docset"].includes(e.type)?(0,r.jsxs)(l.l.LinkItem,{href:R,rel:"noopener",target:"_blank",children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.LinkIcon,{})}),"Open"]}):(0,r.jsxs)(l.l.Item,{onSelect:()=>{o.selectReference(e)},children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.LinkIcon,{})}),"Preview"]})),(0,r.jsxs)(l.l.Item,{onSelect:k,disabled:T,children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{j.displayName||(j.displayName="OutputReference")}catch{}try{(a=Icon).displayName||(a.displayName="Icon")}catch{}let S={referencesContainer:"ChatReferences-module__referencesContainer--qLjdy",referencesListImmersiveContainer:"ChatReferences-module__referencesListImmersiveContainer--gM5wy",title:"ChatReferences-module__title--d18y3",assistiveTitle:"ChatReferences-module__assistiveTitle--Ojcrs",referencesDetails:"ChatReferences-module__referencesDetails--Ypv2c",referenceTokensOuterContainer:"ChatReferences-module__referenceTokensOuterContainer--OV840",referenceTokensContainer:"ChatReferences-module__referenceTokensContainer--nhf9A",chatMessageReferenceListFooter:"ChatReferences-module__chatMessageReferenceListFooter--WgJAa",chevronDownIcon:"ChatReferences-module__chevronDownIcon--Fv9mJ",chevronUpIcon:"ChatReferences-module__chevronUpIcon--OPX7R",ActionList:"ChatReferences-module__ActionList--ACk2F"};var w=n(21728),N=n(12004);let I={referenceToken:"FigmaChatReference-module__referenceToken--PONuv",name:"FigmaChatReference-module__name--XjBR8",content:"FigmaChatReference-module__content--Mpcb0",thumbnail:"FigmaChatReference-module__thumbnail--mm7QC",thumbnailHidden:"FigmaChatReference-module__thumbnailHidden--pv7wD",thumbnailOuter:"FigmaChatReference-module__thumbnailOuter--oMFvD",thumbnailLoading:"FigmaChatReference-module__thumbnailLoading--cQ2Uf",figmaIconOuter:"FigmaChatReference-module__figmaIconOuter--KtveL",figmaIcon:"FigmaChatReference-module__figmaIcon--kEY45"};var T=n(89237);let k=(0,m.forwardRef)(function(e,t){let n,a,i,o,s,l,c,d,p,g,f=(0,w.c)(23);f[0]!==e?({reference:n,...a}=e,f[0]=e,f[1]=n,f[2]=a):(n=f[1],a=f[2]);let[y,x]=(0,m.useState)(!0);return f[3]!==n?(i=(0,h.JP)(n),f[3]=n,f[4]=i):i=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,u.$)(I.referenceToken),f[5]=o):o=f[5],f[6]!==n.thumbnailUrl||f[7]!==n.title||f[8]!==y?(s=n.thumbnailUrl&&(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)("span",{className:I.thumbnailLoading,children:(0,r.jsx)(N.A,{size:"medium"})}),(0,r.jsx)("img",{className:(0,u.$)(I.thumbnail,{[I.thumbnailHidden]:y}),src:n.thumbnailUrl,alt:`preview thumbnail for ${n.title}`,onLoad:()=>x(!1)})]}),f[6]=n.thumbnailUrl,f[7]=n.title,f[8]=y,f[9]=s):s=f[9],f[10]!==s?(l=(0,r.jsx)("span",{className:I.thumbnailOuter,children:s}),f[10]=s,f[11]=l):l=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)("div",{className:I.figmaIconOuter,children:(0,r.jsx)(T._,{className:I.figmaIcon})}),f[12]=c):c=f[12],f[13]!==n?(d=(0,h.z$)(n),f[13]=n,f[14]=d):d=f[14],f[15]!==d?(p=(0,r.jsxs)("span",{className:I.content,children:[c,(0,r.jsx)("span",{className:I.name,children:d})]}),f[15]=d,f[16]=p):p=f[16],f[17]!==t||f[18]!==a||f[19]!==i||f[20]!==l||f[21]!==p?(g=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("a",{href:i,className:o,ref:t,target:"_blank",rel:"noreferrer",...a,children:[l,p]})}),f[17]=t,f[18]=a,f[19]=i,f[20]=l,f[21]=p,f[22]=g):g=f[22],g});try{k.displayName||(k.displayName="FigmaChatReference")}catch{}var R=n(95896);function A({references:e,onToggle:t,onClick:n,isImmersive:a,className:p}){let f=(0,g.Pk)(),y=(0,m.useMemo)(()=>(0,h.rT)(e),[e]),{getDetailsProps:x}=(0,o.A)({}),_=(0,m.useMemo)(()=>(0,h.P)(f?.currentTopic)&&y.every(E),[f?.currentTopic,y]),v=(0,m.useMemo)(()=>y.some(e=>"web-search-result"===e.type),[y]);if(0===y.length)return null;let b=_&&f?.currentTopic?.name?`Search results from ${f.currentTopic.name}`:`${y.length} ${1===y.length?"reference":"references"}`;return(0,r.jsxs)(s.A,{...x(),onToggle:t,className:(0,u.$)(p,S.referencesDetails),children:[(0,r.jsxs)("summary",{className:(0,u.$)(S.referencesContainer),children:[(0,r.jsx)("span",{className:(0,u.$)(S.title,a?"":S.assistiveTitle),children:b}),(0,r.jsx)(d.A,{icon:i.ChevronDownIcon,className:(0,u.$)("references-chevron-down",S.chevronDownIcon)}),(0,r.jsx)(d.A,{icon:i.ChevronUpIcon,className:(0,u.$)("references-chevron-up",S.chevronUpIcon)})]}),(0,r.jsxs)(l.l,{className:(0,u.$)(a&&S.referencesListImmersiveContainer,S.ActionList),children:[y.map(e=>(0,r.jsx)(j,{reference:e,onClick:n},(0,h.Vb)(e))),v&&(0,r.jsxs)("div",{className:S.chatMessageReferenceListFooter,children:["Copilot used the"," ",(0,r.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,r.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})]})}function E(e){return"snippet"===e.type&&!!e.languageName&&f.Yr.has(e.languageName)}function L({references:e,message:t,className:n,size:a,onClickReference:i,getReferenceVersion:o}){let{bigReferences:s,smallReferences:l}=(0,m.useMemo)(()=>(function(e){let t=(0,h.rT)(e),n=[],a=[];for(let e of t)M.has(e.type)?n.push(e):a.push(e);return{bigReferences:n,smallReferences:a}})(e),[e]),c=e=>"figma"===e.type&&p.W.immersiveFigmaIntegration?(0,r.jsx)(k,{reference:e,onClick:t=>i?.(e,t)},(0,h.Vb)(e)):(0,r.jsx)(C.BR,{message:t,reference:e,size:a,onClick:(t,n)=>i?.(e,n),getReferenceVersion:o},(0,h.Vb)(e));return(0,r.jsxs)(R.M,{"aria-label":"Attachments",className:(0,u.$)(S.referenceTokensOuterContainer,n),children:[s.map(c),(0,r.jsx)("div",{className:S.referenceTokensContainer,children:l.map(c)})]})}let M=new Set(["figma","image"]);try{A.displayName||(A.displayName="ChatMessageReferencesList")}catch{}try{L.displayName||(L.displayName="ChatMessageReferenceTokens")}catch{}try{M.displayName||(M.displayName="BIG_REFERENCE_TYPES")}catch{}},7104:(e,t,n)=>{n.d(t,{$:()=>d,b:()=>u});var a=n(74848),r=n(21728),i=n(81425),o=n(34164),s=n(96540);let l={container:"ChatScrollContainer-module__container--z_iNX"},c=(0,s.createContext)(null);function d(e){let t,n,d,u,m,h,p,g,f,y,x,_,v,b,C,j=(0,r.c)(30);j[0]!==e?({children:n,disabled:d,containerRef:t,...u}=e,j[0]=e,j[1]=t,j[2]=n,j[3]=d,j[4]=u):(t=j[1],n=j[2],d=j[3],u=j[4]);let S=(0,i.L)(t),w=(0,s.useRef)(null),[N,I]=(0,s.useState)(!1);j[5]!==S.current?(m=()=>{let e=new IntersectionObserver(e=>{let[t]=e;return I(!t?.isIntersecting)},{root:S.current,threshold:0,rootMargin:"50px"});return e.observe(w.current),()=>e.disconnect()},j[5]=S.current,j[6]=m):m=j[6],j[7]!==S?(h=[S],j[7]=S,j[8]=h):h=j[8],(0,s.useEffect)(m,h);let[T,k]=(0,s.useState)();j[9]!==S.current?(p=()=>{let e=()=>{if(!S.current)return;let e=getComputedStyle(S.current);k(`calc(${S.current.clientHeight}px - ${e.paddingTop} - ${e.paddingBottom})`)},t=new ResizeObserver(e);return e(),t.observe(S.current),()=>t.disconnect()},j[9]=S.current,j[10]=p):p=j[10],j[11]!==S?(g=[S],j[11]=S,j[12]=g):g=j[12],(0,s.useEffect)(p,g),j[13]!==d?(f=e=>{d||w.current?.scrollIntoView({behavior:e,block:"end"})},j[13]=d,j[14]=f):f=j[14];let R=f;return j[15]!==N||j[16]!==T||j[17]!==R?(x={isScrolledUp:N,scrollToBottom:R,scrollContainerHeight:T},j[15]=N,j[16]=T,j[17]=R,j[18]=x):x=j[18],y=x,j[19]!==u.className?(_=(0,o.$)(l.container,u.className),j[19]=u.className,j[20]=_):_=j[20],j[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsx)("div",{ref:w,style:{height:"1px",marginTop:"-1px"}}),j[21]=v):v=j[21],j[22]!==n||j[23]!==S||j[24]!==u||j[25]!==_?(b=(0,a.jsxs)("div",{ref:S,...u,className:_,children:[n,v]}),j[22]=n,j[23]=S,j[24]=u,j[25]=_,j[26]=b):b=j[26],j[27]!==y||j[28]!==b?(C=(0,a.jsx)(c.Provider,{value:y,children:b}),j[27]=y,j[28]=b,j[29]=C):C=j[29],C}let u=()=>{let e=(0,s.useContext)(c);if(!e)throw Error("useChatScroll may only be called in a descendant of ChatScrollContainer");return e};try{c.displayName||(c.displayName="ChatScrollContext")}catch{}try{d.displayName||(d.displayName="ChatScrollContainer")}catch{}},32744:(e,t,n)=>{n.d(t,{m:()=>u});var a=n(74848),r=n(21728),i=n(63557),o=n(55847),s=n(34164),l=n(96540),c=n(2635);let d={ConfirmationContainer:"Confirmation-module__ConfirmationContainer--LWT81",confirmationTitle:"Confirmation-module__confirmationTitle--e5Xlk",confirmationMessage:"Confirmation-module__confirmationMessage--APY8y",actionButtonsContainer:"Confirmation-module__actionButtonsContainer--MdVl0"};function u(e){let t,n,u,h,p,g,f,y=(0,r.c)(22),{confirmation:x,handleConfirmation:_,isLatestMessage:v}=e,b=(0,c.Pk)();if(y[0]!==x.confirmation||y[1]!==b.allClientConfirmations){let e=JSON.stringify(Object.values(x.confirmation).sort());t=b.allClientConfirmations?.includes(e),y[0]=x.confirmation,y[1]=b.allClientConfirmations,y[2]=t}else t=y[2];let C=t,{isWaitingOnCopilot:j,currentUserLogin:S}=b,[w,N]=(0,l.useState)(C&&!v);y[3]!==x.confirmation||y[4]!==x.onSubmit||y[5]!==x.title||y[6]!==S||y[7]!==_?(n=e=>{N(!0),_({state:e,userLogin:S,confirmation:x.confirmation},x.title,x.onSubmit)},y[3]=x.confirmation,y[4]=x.onSubmit,y[5]=x.title,y[6]=S,y[7]=_,y[8]=n):n=y[8];let I=n;return y[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.$)("border rounded-2",d.ConfirmationContainer),y[9]=u):u=y[9],y[10]!==x.title?(h=(0,a.jsx)(i.A,{as:"h3",className:d.confirmationTitle,children:x.title}),y[10]=x.title,y[11]=h):h=y[11],y[12]!==x.message?(p=x.message.split(`
`).map(m),y[12]=x.message,y[13]=p):p=y[13],y[14]!==w||y[15]!==I||y[16]!==j?(g=!w&&(0,a.jsxs)("div",{className:d.actionButtonsContainer,children:[(0,a.jsx)(o.Q,{disabled:j,variant:"primary",onClick:()=>I("accepted"),children:"Allow"}),(0,a.jsx)(o.Q,{disabled:j,onClick:()=>I("dismissed"),children:"Dismiss"})]}),y[14]=w,y[15]=I,y[16]=j,y[17]=g):g=y[17],y[18]!==h||y[19]!==p||y[20]!==g?(f=(0,a.jsxs)("div",{className:u,children:[h,p,g]}),y[18]=h,y[19]=p,y[20]=g,y[21]=f):f=y[21],f}function m(e){return(0,a.jsx)("p",{className:d.confirmationMessage,children:e},e)}try{u.displayName||(u.displayName="Confirmation")}catch{}},82178:(e,t,n)=>{n.d(t,{W:()=>h});var a=n(74848),r=n(21728),i=n(74807),o=n(34164),s=n(96540);let l={copilotBadge:"CopilotBadgeV2-module__copilotBadge--w1X6Q",loading:"CopilotBadgeV2-module__loading--qeW04",animation:"CopilotBadgeV2-module__animation--ttRRT",assistive:"CopilotBadgeV2-module__assistive--YGoYv",clickableAnimationWrapper:"CopilotBadgeV2-module__clickableAnimationWrapper--i45z5"},c=[i.L.Tickle,i.L.Celebrate,i.L.JumpWiggle],d=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],u=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function m(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function h(e){let t,n,h,g,f,y,x,_,v,b,C=(0,r.c)(37),{isFirstMessage:j,isLoading:S,isLoadingSkills:w,isError:N,className:I,mode:T,message:k,createdAt:R}=e,A=void 0!==j&&j;C[0]!==R||C[1]!==A?(t=()=>({animationType:A&&(!R||m(R))?i.L.Celebrate:i.L.Static,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),C[0]=R,C[1]=A,C[2]=t):t=C[2];let[E,L]=(0,s.useState)(t);C[3]!==R||C[4]!==N||C[5]!==S||C[6]!==w||C[7]!==k?(n=()=>{m(R)&&L(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:n,isNegativeSentiment:a,isError:r,isLoading:o}){switch(e.animationType){case i.L.Static:if((n||a)&&!r&&!e.hasLoadedMessage)return{animationType:n?i.L.Affirmative:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:i.L.Thinking,loopAnimation:!0};if(!o&&!e.hasLoadedMessage&&!r)return{animationType:i.L.Confirm,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(r&&!e.hasLoadedMessage)return{animationType:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case i.L.Thinking:if(!t)return{...e,animationType:r?i.L.Negative:i.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:w||!1,isError:N||!1,isLoading:S||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(k),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return u.some(e=>t.includes(e.toLowerCase()))}return!1}(k)}))},C[3]=R,C[4]=N,C[5]=S,C[6]=w,C[7]=k,C[8]=n):n=C[8],C[9]!==E.animationType||C[10]!==E.hasLoadedMessage||C[11]!==R||C[12]!==N||C[13]!==A||C[14]!==S||C[15]!==w||C[16]!==k?(h=[w,N,S,E.animationType,E.hasLoadedMessage,A,k,R],C[9]=E.animationType,C[10]=E.hasLoadedMessage,C[11]=R,C[12]=N,C[13]=A,C[14]=S,C[15]=w,C[16]=k,C[17]=h):h=C[17],(0,s.useEffect)(n,h),C[18]!==E||C[19]!==S?(g=()=>{S||L({...E,animationType:c[Math.floor(Math.random()*c.length)],onFinish:i.L.Static,loopAnimation:!1})},C[18]=E,C[19]=S,C[20]=g):g=C[20];let M=g,P=S&&l.loading;C[21]!==I||C[22]!==P?(f=(0,o.$)(l.copilotBadge,P,I),C[21]=I,C[22]=P,C[23]=f):f=C[23];let F=E.animationType;C[24]===Symbol.for("react.memo_cache_sentinel")?(y=()=>L(p),C[24]=y):y=C[24];let D=E.loopAnimation,$="assistive"===T&&l.assistive;return C[25]!==$?(x=(0,o.$)(l.animation,$),C[25]=$,C[26]=x):x=C[26],C[27]!==E.animationType||C[28]!==E.loopAnimation||C[29]!==x?(_=(0,a.jsx)(i.N,{animationType:F,onAnimationEnd:y,loopAnimation:D,className:x}),C[27]=E.animationType,C[28]=E.loopAnimation,C[29]=x,C[30]=_):_=C[30],C[31]!==M||C[32]!==_?(v=(0,a.jsx)("div",{onClick:M,className:l.clickableAnimationWrapper,children:_}),C[31]=M,C[32]=_,C[33]=v):v=C[33],C[34]!==v||C[35]!==f?(b=(0,a.jsx)("div",{className:f,"aria-label":"Copilot badge",role:"img",children:v}),C[34]=v,C[35]=f,C[36]=b):b=C[36],b}function p(e){return{...e,animationType:e.onFinish}}try{h.displayName||(h.displayName="CopilotBadge")}catch{}},94517:(e,t,n)=>{n.d(t,{h:()=>j,K:()=>b});var a=n(74848),r=n(21728),i=n(4817),o=n(38621),s=n(69410),l=n(81246),c=n(62227);function d({error:e,className:t}){let n=e.identifier||"",r=n.split("url=")[1]||"",i=n.match(/\/([^/]+)\/sso/),d=i&&i[1]||"";return d&&r?(0,a.jsx)("div",{className:t,"data-testid":"sso-banner",children:(0,a.jsx)("div",{className:c.A.Box,children:(0,a.jsx)("section",{"aria-label":"Single sign-on information",children:(0,a.jsx)(s.A,{sx:{borderRadius:2,borderWidth:1},className:c.A.Flash,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ShieldLockIcon,{}),(0,a.jsx)(l.A,{inline:!0,href:function({authorizeUrl:e}){let t=new URL(e,window.location.origin);return t.searchParams.set("return_to",window.location.toString()),t.toString()}({authorizeUrl:r}),children:"Single sign-on"})," ","to see results in the ",(0,a.jsx)("b",{children:d})," organization."]})})})})}):null}try{d.displayName||(d.displayName="SSOBannerFromError")}catch{}var u=n(29731),m=n(87330),h=n(55847),p=n(87131),g=n(34164),f=n(96540),y=n(25641),x=n(17285),_=n(77939),v=n(46665);function b(e){let t=(0,r.c)(8),{manager:n}=e,{message:i}=(0,v.V)(),{error:o}=i;if(!o)return null;switch(o.type){case"agentUnauthorized":{let e;return t[0]!==o||t[1]!==n?(e=(0,a.jsx)(C,{error:o,manager:n}),t[0]=o,t[1]=n,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==o.details?(e=(0,a.jsx)(j,{errors:[o.details]}),t[3]=o.details,t[4]=e):e=t[4],e}default:{let e,n;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.G)("error-message-banner"),t[5]=e):e=t[5];let r=o.message||"Something went wrong";return t[6]!==r?(n=(0,a.jsx)(p.l,{...e,title:"Error",hideTitle:!0,description:r,variant:"warning"}),t[6]=r,t[7]=n):n=t[7],n}}}function C(e){let t,n,i,s,l,c,d,p,x,v,b,C=(0,r.c)(25),{error:j,manager:S}=e,{details:w}=j,[N,I]=(0,f.useState)(!1);C[0]!==w.name||C[1]!==S?(t=()=>{I(!0),S.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"user",content:`Dismissed the connection with ${w.name}.`,mediaContent:[],parentMessageID:S.FindLastMessageID()})}),S.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"assistant",content:`I was unable to connect you to ${w.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:S.FindLastMessageID()})})},C[0]=w.name,C[1]=S,C[2]=t):t=C[2];let T=t;C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,u.G)("agent-unauthorized-error"),C[3]=n):n=C[3],C[4]!==N||C[5]!==T?(i=!N&&(0,a.jsx)(m.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:o.XIcon,onClick:T,variant:"invisible",unsafeDisableTooltip:!0}),C[4]=N,C[5]=T,C[6]=i):i=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(o.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),l=(0,a.jsx)(o.LinkIcon,{className:"fgColor-muted"}),c=(0,g.$)("avatar",_.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),C[7]=s,C[8]=l,C[9]=c):(s=C[7],l=C[8],c=C[9]);let k=`icon for ${w.name}`;return C[10]!==w.avatar_url||C[11]!==k?(d=(0,a.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[s,l,(0,a.jsx)("img",{className:c,src:w.avatar_url,alt:k})]}),C[10]=w.avatar_url,C[11]=k,C[12]=d):d=C[12],C[13]!==w.name?(x=(0,a.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",w.name]}),p=(0,a.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",w.name," extension, you\u2019ll need to connect your GitHub account to your ",w.name," account."]}),C[13]=w.name,C[14]=p,C[15]=x):(p=C[14],x=C[15]),C[16]!==w.authorize_url||C[17]!==N?(v=!N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:w.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,a.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",w.authorize_url]})]}),C[16]=w.authorize_url,C[17]=N,C[18]=v):v=C[18],C[19]!==p||C[20]!==v||C[21]!==i||C[22]!==d||C[23]!==x?(b=(0,a.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...n,children:[i,d,x,p,v]}),C[19]=p,C[20]=v,C[21]=i,C[22]=d,C[23]=x,C[24]=b):b=C[24],b}function j(e){let t,n,i=(0,r.c)(4),{errors:o}=e;return i[0]!==o?(t=o.map(S),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,a.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),i[2]=t,i[3]=n):n=i[3],n}function S(e,t){var n,r,s,l,c;return n=e,r=t,"sso"===n.code?(0,a.jsx)(d,{error:n,className:"mt-3"},r):(s=n,l=r,(0,a.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,a.jsxs)("div",{className:"text-bold",children:[(0,a.jsx)(o.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(c=s).type?`${c.code} ${c.identifier}`:`${(0,x.Z)(c.type)} error`]}),(0,a.jsx)(i.To,{markdown:s.message})]},l))}try{b.displayName||(b.displayName="ErrorMessage")}catch{}try{C.displayName||(C.displayName="AgentUnauthorizedError")}catch{}try{j.displayName||(j.displayName="AgentErrors")}catch{}},34363:(e,t,n)=>{n.d(t,{G:()=>_});var a=n(74848),r=n(21728),i=n(38621),o=n(87330),s=n(96540),l=n(2635),c=n(33592),d=n(46665);let u={submittedFeedbackButton:"Feedback-module__submittedFeedbackButton--BrkHM"};var m=n(77274),h=n(35247),p=n(79064),g=n(54508);let f={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--go17F",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--sluhP"},y=[{name:"Bad",value:"NEGATIVE",icon:(0,a.jsx)(i.ThumbsdownIcon,{className:f.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,a.jsx)(i.ThumbsupIcon,{className:f.thumbsUp}),color:"good"}],x=(0,s.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:n,onSubmitted:r,onClose:i},o){let l=(0,c.b)(),d=(0,s.useRef)(null),u=(0,s.useRef)(null),f=(0,s.useRef)(void 0);(0,s.useImperativeHandle)(o,()=>({openDialog:e=>{f.current=e,h.W.copilotChatInterviewSurvey?d.current?.openDialog():u.current?.openDialog(e)}}));let x=async(n,a)=>{let i=[];if(null==n&&i.push("Please select a rating."),a.length>500&&i.push("Please keep your feedback within 500 characters or less."),i.length>0)return i;try{(await l.service.sendFeedback({feedback:n,feedbackChoice:[],messageId:e,threadId:t,textResponse:a})).ok?r?.(n):i.push("An error occurred while submitting your feedback.")}catch{i.push("An error occurred while submitting your feedback.")}return i};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.E,{ref:d,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?u.current?.openDialog(f.current):i?.()}}),(0,a.jsx)(m.NE,{title:"Give additional feedback",ref:u,options:y,onSubmit:x,onClose:i,requestID:p.Jt.getRequestID(e),returnFocusRef:n})]})});function _(e){let t,n,m,h,p,g=(0,r.c)(20),{iconSize:f}=e,{message:y}=(0,d.V)(),_=y.id,v=y.threadID,b=(0,c.b)(),C=(0,s.useRef)(null),j=(0,s.useRef)(null);g[0]!==b||g[1]!==y?(t=e=>{b.handleFeedback(y,e)},g[0]=b,g[1]=y,g[2]=t):t=g[2];let S=t,{optedInToUserFeedback:w}=(0,l.Pk)();g[3]!==b.service||g[4]!==_||g[5]!==S||g[6]!==w||g[7]!==v?(n=e=>{b.service.sendFeedback({feedback:e,messageId:_,threadId:v}),S(e),w?C.current?.openDialog(e):j.current?.focus()},g[3]=b.service,g[4]=_,g[5]=S,g[6]=w,g[7]=v,g[8]=n):n=g[8];let N=n;return g[9]!==f||g[10]!==y.feedback||g[11]!==N?(m=null!=y.feedback?(0,a.jsx)(o.K,{ref:j,"aria-label":`${y.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===y.feedback?i.ThumbsupIcon:i.ThumbsdownIcon,variant:"invisible",size:f,"aria-disabled":!0,className:u.submittedFeedbackButton}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.K,{icon:i.ThumbsupIcon,"aria-label":"Good response",onClick:()=>N("POSITIVE"),variant:"invisible",size:f}),(0,a.jsx)(o.K,{icon:i.ThumbsdownIcon,size:f,"aria-label":"Bad response",onClick:()=>N("NEGATIVE"),variant:"invisible"})]}),g[9]=f,g[10]=y.feedback,g[11]=N,g[12]=m):m=g[12],g[13]!==_||g[14]!==S||g[15]!==v?(h=(0,a.jsx)(x,{ref:C,messageId:_,threadId:v,onSubmitted:S,returnFocusRef:j}),g[13]=_,g[14]=S,g[15]=v,g[16]=h):h=g[16],g[17]!==m||g[18]!==h?(p=(0,a.jsxs)(a.Fragment,{children:[m,h]}),g[17]=m,g[18]=h,g[19]=p):p=g[19],p}x.displayName="MessageFeedbackDialog";try{_.displayName||(_.displayName="Feedback")}catch{}},81829:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(74848),r=n(21728),i=n(96540);function o(e){e.preventDefault(),e.stopPropagation()}function s(e){return e instanceof DragEvent}var l=n(71315),c=n(12004);let d=e=>{let t,n,i,o,s,l,c,d,u,m,h,p,g,f,y,x,_=(0,r.c)(17);return _[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("path",{fill:"var(--bgColor-default)",fillRule:"evenodd",d:"M56.66 10.322v.002l16.824 7.846L92.44 70.254a8.75 8.75 0 0 1-5.23 11.217l-37.009 13.47a8.75 8.75 0 0 1-11.217-5.23L18.531 33.512a8.75 8.75 0 0 1 5.23-11.217z",clipRule:"evenodd"}),n=(0,a.jsx)("path",{fill:"var(--bgColor-open-muted)",fillRule:"evenodd",d:"M56.66 10.322v.002l16.824 7.846L92.44 70.254a8.75 8.75 0 0 1-5.23 11.217l-37.009 13.47a8.75 8.75 0 0 1-11.217-5.23L18.531 33.512a8.75 8.75 0 0 1 5.23-11.217z",clipRule:"evenodd"}),i=(0,a.jsx)("path",{fill:"var(--bgColor-open-emphasis)",fillRule:"evenodd",d:"m55.29 10.822.802-.293a1.46 1.46 0 0 1 1.116.049l15.73 7.335c.35.163.62.459.753.822l.294.804 18.458 50.715a8.75 8.75 0 0 1-5.23 11.217l-37.008 13.47a8.75 8.75 0 0 1-11.218-5.23L18.533 33.512a8.75 8.75 0 0 1 5.231-11.217zm.997 2.74L24.762 25.038a5.835 5.835 0 0 0-3.487 7.478l20.454 56.198a5.835 5.835 0 0 0 7.478 3.487l37.008-13.47a5.835 5.835 0 0 0 3.487-7.478L71.243 20.537l-5.482 1.996a5.82 5.82 0 0 1-4.461-.195 5.82 5.82 0 0 1-3.017-3.293z",clipRule:"evenodd",opacity:"0.12"}),_[0]=t,_[1]=n,_[2]=i):(t=_[0],n=_[1],i=_[2]),_[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("g",{clipPath:"url(#clip0_12526_110155)",children:(0,a.jsx)("path",{fill:"var(--bgColor-open-emphasis)",fillRule:"evenodd",d:"M64.035 44.691c-.703 2.448-1.974 5.334-3.06 7.703-.93 2.029-1.94 3.575-2.932 4.66a5.46 5.46 0 0 1 .165 4.949c-.376.806-1.116 1.478-1.841 2.006-.754.549-1.631 1.04-2.446 1.445a31 31 0 0 1-3.066 1.318l-.053.02-.015.004-.004.002h-.002a1.095 1.095 0 0 1-1.388-.647v-.002l-.002-.004-.006-.015-.02-.053-.07-.196a30.973 30.973 0 0 1-.89-2.999c-.214-.885-.402-1.872-.466-2.803-.062-.895-.022-1.894.354-2.7a5.46 5.46 0 0 1 3.883-3.052c.178-1.474.697-3.268 1.635-5.314 1.092-2.383 2.494-5.198 3.94-7.294.718-1.039 1.498-1.978 2.313-2.587.804-.603 1.896-1.056 3.022-.53 1.134.53 1.46 1.673 1.497 2.667.037 1.011-.2 2.208-.548 3.422m-9.653 9.647a5.5 5.5 0 0 1 2.228 1.035c.515-.598 1.067-1.388 1.623-2.394l-3.1-1.445c-.397 1.08-.635 2.02-.751 2.804m7.55-10.25c-.61 2.121-1.702 4.662-2.733 6.928l-3.212-1.498c1.049-2.259 2.309-4.736 3.565-6.556.672-.973 1.292-1.682 1.823-2.08.541-.404.74-.318.783-.297h.003c.026.012.21.096.235.764.024.663-.136 1.594-.464 2.739m-8.986 19.408c-.682.34-1.342.627-1.862.84a29 29 0 0 1-.553-1.966c-.198-.823-.357-1.68-.41-2.441-.054-.796.02-1.336.155-1.625a3.282 3.282 0 1 1 5.949 2.774c-.135.29-.5.693-1.146 1.162-.617.45-1.375.878-2.133 1.256",clipRule:"evenodd"})}),s=(0,a.jsx)("path",{fill:"var(--bgColor-default)",fillRule:"evenodd",d:"M198.941 19.499 166.042 7.525a8.75 8.75 0 0 0-11.217 5.23L134.37 68.953a8.75 8.75 0 0 0 5.231 11.217l37.008 13.47a8.75 8.75 0 0 0 11.217-5.231l18.959-52.089z",clipRule:"evenodd"}),l=(0,a.jsx)("path",{fill:"var(--bgColor-sponsors-muted)",fillRule:"evenodd",d:"M198.941 19.499 166.042 7.525a8.75 8.75 0 0 0-11.217 5.23L134.37 68.953a8.75 8.75 0 0 0 5.231 11.217l37.008 13.47a8.75 8.75 0 0 0 11.217-5.231l18.959-52.089z",clipRule:"evenodd"}),c=(0,a.jsx)("path",{fill:"var(--bgColor-sponsors-emphasis)",fillRule:"evenodd",d:"m197.568 19.003.803.292c.363.132.659.404.823.754l7.335 15.73c.163.35.181.751.049 1.114l-.293.805-18.458 50.715a8.75 8.75 0 0 1-11.217 5.23l-37.008-13.47a8.75 8.75 0 0 1-5.231-11.217l20.454-56.197a8.75 8.75 0 0 1 11.217-5.23zm-.998 2.741L165.045 10.27a5.836 5.836 0 0 0-7.479 3.487l-20.454 56.197a5.834 5.834 0 0 0 3.487 7.478l37.008 13.47a5.836 5.836 0 0 0 7.479-3.487L203.544 36.7l-5.483-1.995a5.82 5.82 0 0 1-3.292-3.017 5.82 5.82 0 0 1-.195-4.461z",clipRule:"evenodd",opacity:"0.12"}),_[3]=o,_[4]=s,_[5]=l,_[6]=c):(o=_[3],s=_[4],l=_[5],c=_[6]),_[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)("g",{clipPath:"url(#clip1_12526_110155)",children:(0,a.jsx)("path",{fill:"var(--bgColor-sponsors-emphasis)",fillRule:"evenodd",d:"M179.168 44.01a2.553 2.553 0 0 1 3.393 1.235l.946 2.03a2.55 2.55 0 0 1-1.235 3.392l-16.096 7.506a2.55 2.55 0 0 1-1.259.232l-4.919-.348a1.094 1.094 0 0 1-.808-1.734l2.894-3.992c.255-.351.595-.632.988-.815zm1.41 2.16a.365.365 0 0 0-.485-.177l-2.36 1.1 1.254 2.692 2.361-1.101a.365.365 0 0 0 .176-.485zm-3.574 4.54-1.254-2.692-11.753 5.48a.36.36 0 0 0-.141.117l-1.739 2.399 2.955.209a.36.36 0 0 0 .18-.033z",clipRule:"evenodd"})}),m=(0,a.jsx)("path",{fill:"var(--bgColor-default)",fillRule:"evenodd",d:"M128.059 0H93.052A8.75 8.75 0 0 0 84.3 8.752v59.804a8.75 8.75 0 0 0 8.752 8.751h39.383a8.75 8.75 0 0 0 8.751-8.751v-55.43z",clipRule:"evenodd"}),h=(0,a.jsx)("path",{fill:"var(--bgColor-accent-muted)",fillRule:"evenodd",d:"M128.059 0H93.052A8.75 8.75 0 0 0 84.3 8.752v59.804a8.75 8.75 0 0 0 8.752 8.751h39.383a8.75 8.75 0 0 0 8.751-8.751v-55.43z",clipRule:"evenodd"}),d=(0,a.jsx)("path",{fill:"var(--bgColor-accent-emphasis)",fillRule:"evenodd",d:"M126.6 0h.855c.386 0 .757.154 1.031.427L140.758 12.7c.274.273.427.644.428 1.03v54.826a8.75 8.75 0 0 1-8.751 8.751H93.052a8.75 8.75 0 0 1-8.752-8.751V8.752A8.75 8.75 0 0 1 93.052 0zm0 2.917H93.052a5.835 5.835 0 0 0-5.835 5.835v59.804a5.835 5.835 0 0 0 5.835 5.834h39.383a5.834 5.834 0 0 0 5.834-5.834v-53.97h-5.834a5.82 5.82 0 0 1-4.126-1.709 5.82 5.82 0 0 1-1.709-4.125z",clipRule:"evenodd",opacity:"0.12"}),_[7]=d,_[8]=u,_[9]=m,_[10]=h):(d=_[7],u=_[8],m=_[9],h=_[10]),_[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("g",{clipPath:"url(#clip2_12526_110155)",children:(0,a.jsx)("path",{fill:"var(--bgColor-accent-emphasis)",fillRule:"evenodd",d:"M104.354 31.356a.364.364 0 0 0-.364.365v15.315c0 .202.163.365.364.365h1.373l.042-.045 8.864-8.864c.962-.962 2.509-1 3.518-.088l4.801 4.344V31.72a.365.365 0 0 0-.365-.365zM122.587 47.4h-13.768l7.361-7.362a.365.365 0 0 1 .503-.013l6.269 5.672v1.338a.365.365 0 0 1-.365.365m2.553-.365V31.721a2.553 2.553 0 0 0-2.553-2.553h-18.233a2.553 2.553 0 0 0-2.552 2.553v15.315a2.553 2.553 0 0 0 2.552 2.553h18.233a2.553 2.553 0 0 0 2.553-2.553m-15.316-10.575a.729.729 0 1 1-1.458 0 .729.729 0 0 1 1.458 0m2.188 0a2.917 2.917 0 1 1-5.834 0 2.917 2.917 0 0 1 5.834 0",clipRule:"evenodd"})}),_[11]=p):p=_[11],_[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("clipPath",{id:"clip0_12526_110155",children:(0,a.jsx)("path",{fill:"var(--bgColor-default)",d:"m41.466 45.344 21.93-7.982 7.982 21.93-21.93 7.982z"})}),_[12]=g):g=_[12],_[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)("clipPath",{id:"clip1_12526_110155",children:(0,a.jsx)("path",{fill:"var(--bgColor-default)",d:"m164.786 36.563 21.93 7.982-7.982 21.93-21.93-7.982z"})}),_[13]=f):f=_[13],_[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsxs)("defs",{children:[g,f,(0,a.jsx)("clipPath",{id:"clip2_12526_110155",children:(0,a.jsx)("path",{fill:"var(--bgColor-default)",d:"M101.802 27.71h23.338V51.05h-23.338z"})})]}),_[14]=y):y=_[14],_[15]!==e?(x=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"226",height:"103",fill:"none",viewBox:"0 0 226 103",...e,children:[t,n,i,o,s,l,c,u,m,h,d,p,y]}),_[15]=e,_[16]=x):x=_[16],x};try{d.displayName||(d.displayName="DragAndDropSVG")}catch{}let u={overlay:"FullScreenDragOverlay-module__overlay--Q9gow",centeredContent:"FullScreenDragOverlay-module__centeredContent--iAFMy",text:"FullScreenDragOverlay-module__text--oftCM"};function m(e){let t,n,m,h=(0,r.c)(9),{onFilesDrop:p,isUploading:g}=e,f=void 0!==g&&g;h[0]!==f||h[1]!==p?(t=e=>{f||p(e)},h[0]=f,h[1]=p,h[2]=t):t=h[2];let y=t;h[3]!==y?(n={onFilesDrop:y,targetElement:l.XC},h[3]=y,h[4]=n):n=h[4];let{isDragging:x}=function(e){let t,n,a,l=(0,r.c)(6),{onFilesDrop:c,targetElement:d}=e,[u,m]=(0,i.useState)(!1),h=(0,i.useRef)(0);return l[0]!==c||l[1]!==d?(t=()=>{if(!d)return;let e=e=>{s(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer?.types.includes("Files")&&(h.current=h.current+1,1===h.current&&m(!0)))},t=e=>{e.preventDefault(),e.stopPropagation(),h.current=h.current-1,h.current<=0&&(h.current=0,m(!1))},n=e=>{if(!s(e))return;e.preventDefault(),e.stopPropagation(),h.current=0,m(!1);let t=e.dataTransfer?.files;t&&0!==t.length&&c(t)};return d.addEventListener("dragover",o),d.addEventListener("dragenter",e),d.addEventListener("dragleave",t),d.addEventListener("drop",n),()=>{d.removeEventListener("dragover",o),d.removeEventListener("dragenter",e),d.removeEventListener("dragleave",t),d.removeEventListener("drop",n)}},n=[c,d],l[0]=c,l[1]=d,l[2]=t,l[3]=n):(t=l[2],n=l[3]),(0,i.useEffect)(t,n),l[4]!==u?(a={isDragging:u},l[4]=u,l[5]=a):a=l[5],a}(n),_=null;if(f){let e;h[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{size:"large"}),(0,a.jsx)("p",{className:u.text,children:"Uploading files..."})]}),h[5]=e):e=h[5],_=e}else if(x){let e;h[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{}),(0,a.jsx)("p",{className:u.text,children:"Drop files to upload"})]}),h[6]=e):e=h[6],_=e}return _?(h[7]!==_?(m=(0,a.jsx)("div",{className:u.overlay,children:(0,a.jsx)("div",{className:u.centeredContent,children:_})}),h[7]=_,h[8]=m):m=h[8],m):null}try{m.displayName||(m.displayName="FullScreenDragOverlay")}catch{}},11633:(e,t,n)=>{n.d(t,{WA:()=>ex});var a,r,i,o,s,l,c,d,u,m,h,p,g,f=n(74848),y=n(21728),x=n(41738),_=n(38621),v=n(1002),b=n(63557);n(51213),n(35247);var C=n(79064),j=n(81246),S=n(12004),w=n(55847),N=n(52446),I=n(30729),T=n(34164),k=n(96540),R=n(25641),A=n(2635);let E={functionCallButton:"FunctionCallButton-module__functionCallButton--_WmIK"},L={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--_vK99",functionLoading:"FunctionLoadingUtils-module__functionLoading--APVUB",spinner:"FunctionLoadingUtils-module__spinner--LI0rU",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--AiuYU",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--fRReb",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--pFYb2",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--Nvw6l",errorContainer:"FunctionLoadingUtils-module__errorContainer--uwToA",errorHeading:"FunctionLoadingUtils-module__errorHeading--AXPQe",errorMessage:"FunctionLoadingUtils-module__errorMessage--GB_0R",toolDescriptionText:"FunctionLoadingUtils-module__toolDescriptionText--wLOuU",toolNameHighlight:"FunctionLoadingUtils-module__toolNameHighlight--Jpfyk",functionTitleContainer:"FunctionLoadingUtils-module__functionTitleContainer--jes_G"};function M(e){return(e.references?.[0]?.results??[]).map(P)}function P(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:_.GlobeIcon}}function F(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?x._:_.GlobeIcon}))}function D(e){return(e.references??[]).map($)}function $(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:_.FileIcon,reference:e,title:(0,R.Xo)(e),url:e.url}:void 0}let O=(e,t)=>t?`${e} on ref ${t}`:e;function B(e){return(e.references??[]).map(U)}function U(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:z,title:"Alert"}:void 0}function z(){return(0,f.jsx)(_.ShieldIcon,{})}function V(e){return(e.references??[]).map(q)}function q(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:_.CommentDiscussionIcon}:void 0}function W(e){let t,n,a=(0,y.c)(3),{children:r}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)("span",{className:L.spinner,children:(0,f.jsx)(S.A,{size:"small"})}),a[0]=t):t=a[0],a[1]!==r?(n=(0,f.jsxs)("div",{className:L.functionLoading,children:[t,(0,f.jsx)("span",{children:r})]}),a[1]=r,a[2]=n):n=a[2],n}function H(e){return(e.references??[]).filter(K).map(G)}function G(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:_.PlayIcon,title:"Job"}}function K(e){return"job"===e.type}function Q(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function Z(e){let t,n,a=(0,y.c)(27),{additionalFooterContent:r,chatManager:i,errorButtonText:o,errorTitle:s,functionCall:l,inProgressMessage:c,noResultsMessage:d,resultsMapper:u,successButtonText:m,toolLink:h,toolName:p,useSelectReference:g}=e,[x,b]=(0,k.useState)(!1),C=(0,k.useId)();if(a[0]!==r||a[1]!==i||a[2]!==C||a[3]!==o||a[4]!==s||a[5]!==x||a[6]!==l||a[7]!==c||a[8]!==d||a[9]!==u||a[10]!==m||a[11]!==h||a[12]!==p||a[13]!==g){n=Symbol.for("react.early_return_sentinel");e:{let e,y,j,S,k=u(l),{status:R,errorMessage:A}=l;if(l.references?.length===1){let e=l.references[0];if(e)switch(e.type){case"text":R="error",A=e.text;break;case"unsupported":R="unsupported",A=e.text}}if("started"===R){let e;a[16]!==c?(e=(0,f.jsx)(W,{children:c}),a[16]=c,a[17]=e):e=a[17],n=e;break e}a[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,T.$)(L.functionReferenceButton,E.functionCallButton),a[18]=e):e=a[18];let M=x?_.ChevronUpIcon:_.ChevronDownIcon;a[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>b(J),a[19]=y):y=a[19];let P="error"===R?o:"unsupported"===R?d:m;a[20]!==P?(j=(0,f.jsx)("span",{className:L.functionReferenceButtonContents,children:P}),a[20]=P,a[21]=j):j=a[21],a[22]!==C||a[23]!==x||a[24]!==M||a[25]!==j?(S=(0,f.jsx)(w.Q,{"aria-expanded":x,"aria-controls":C,className:e,leadingVisual:M,onClick:y,variant:"invisible",children:j}),a[22]=C,a[23]=x,a[24]=M,a[25]=j,a[26]=S):S=a[26],t=(0,f.jsxs)(f.Fragment,{children:[S,x&&(0,f.jsxs)("div",{id:C,className:L.functionReferenceListContainer,children:[(0,f.jsx)(N.l,{children:"error"===R?(0,f.jsxs)(N.l.Item,{children:[s,(0,f.jsx)(N.l.Description,{variant:"block",children:A})]}):"unsupported"===R?(0,f.jsxs)(N.l.Item,{children:[A,(0,f.jsx)(N.l.Description,{truncate:!0,children:""})]}):0===k.length?(0,f.jsxs)(N.l.Item,{children:[d,(0,f.jsx)(N.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):k.map((e,t)=>e&&(0,f.jsxs)(N.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{g&&e.reference&&(i.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,f.jsx)(N.l.LeadingVisual,{children:(0,f.jsx)(I.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,f.jsx)(v.A,{className:L.functionReferenceTitle,title:e.title,children:e.title}),(0,f.jsx)(N.l.Description,{variant:"block",children:e.description})]},t))}),(0,f.jsxs)("span",{className:L.functionReferenceListFooter,children:["Copilot used the"," ",(0,f.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:p})," ","tool",r&&(0,f.jsxs)(f.Fragment,{children:[". ",r]})]})]})]})}a[0]=r,a[1]=i,a[2]=C,a[3]=o,a[4]=s,a[5]=x,a[6]=l,a[7]=c,a[8]=d,a[9]=u,a[10]=m,a[11]=h,a[12]=p,a[13]=g,a[14]=t,a[15]=n}else t=a[14],n=a[15];return n!==Symbol.for("react.early_return_sentinel")?n:t}function J(e){return!e}function Y(e){return"text"!==e.type}function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let et="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function en(e){return(e.references?.[0]?.results??[]).map(ea)}function ea(e){return{title:e.title,url:e.url,description:e.url}}function er(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,R.Z8)(e),leadingIcon:_.CodeIcon,reference:e,title:(0,R.z$)(e),url:e.url}:void 0)}try{(a=function(e){let t,n,a=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:o}=e,s=o.query;a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(j.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),a[0]=t):t=a[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return a[1]!==r||a[2]!==i||a[3]!==l||a[4]!==c||a[5]!==d||a[6]!==u?(n=(0,f.jsx)(Z,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:M,successButtonText:u,useSelectReference:!1}),a[1]=r,a[2]=i,a[3]=l,a[4]=c,a[5]=d,a[6]=u,a[7]=n):n=a[7],n}).displayName||(a.displayName="BingFunctionButton")}catch{}try{(r=function(e){let t,n,a=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:o}=e,s=o.query;a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(j.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),a[0]=t):t=a[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return a[1]!==r||a[2]!==i||a[3]!==l||a[4]!==c||a[5]!==d||a[6]!==u?(n=(0,f.jsx)(Z,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:F,successButtonText:u,useSelectReference:!1}),a[1]=r,a[2]=i,a[3]=l,a[4]=c,a[5]=d,a[6]=u,a[7]=n):n=a[7],n}).displayName||(r.displayName="BingGroundingFunctionButton")}catch{}try{(i=function(e){var t;let n,a=(0,y.c)(9),{chatManager:r,functionCall:i,skillArgs:o,useSelectReference:s}=e,l=o.query,c="scopingQuery"in o?o.scopingQuery:o.repoOwner&&o.repoName?`repo:${o.repoOwner}/${o.repoName}`:void 0;c&&(c=(t=c).startsWith("repo:")?t.substring(5):t);let d="semantic-code-search"===o.kind?"semantic":"lexical",u=`An error occurred when searching for \u{201C}${l}\u{201D}`,m=`${d.charAt(0).toUpperCase()+d.slice(1)} search`,h=`Searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,p=`No results were found when ${d} searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,g=`Using ${d} search results for \u{201C}${l}\u{201D}${c&&` in ${c}`}`;return a[0]!==r||a[1]!==i||a[2]!==u||a[3]!==m||a[4]!==h||a[5]!==p||a[6]!==g||a[7]!==s?(n=(0,f.jsx)(Z,{chatManager:r,errorButtonText:u,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:m,functionCall:i,inProgressMessage:h,noResultsMessage:p,resultsMapper:er,successButtonText:g,useSelectReference:s}),a[0]=r,a[1]=i,a[2]=u,a[3]=m,a[4]=h,a[5]=p,a[6]=g,a[7]=s,a[8]=n):n=a[8],n}).displayName||(i.displayName="CodeSearchButton")}catch{}try{(o=function(e){let t,n=(0,y.c)(8),{chatManager:a,functionCall:r,skillArgs:i,useSelectReference:o}=e,s=i.query,l=i.kbID,{knowledgeBases:c}=(0,A.Pk)(),d=c.find(e=>e.id===l),u=d?.name??"the knowledge base",m=`An error occurred when searching for \u{201C}${s}\u{201D} in ${u}`,h=`Searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,p=`No results were found when searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,g=`Using search results from the ${u} knowledge base for \u{201C}${s}\u{201D}`;return n[0]!==a||n[1]!==r||n[2]!==m||n[3]!==h||n[4]!==p||n[5]!==g||n[6]!==o?(t=(0,f.jsx)(Z,{chatManager:a,errorButtonText:m,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:r,inProgressMessage:h,noResultsMessage:p,resultsMapper:er,successButtonText:g,useSelectReference:o}),n[0]=a,n[1]=r,n[2]=m,n[3]=h,n[4]=p,n[5]=g,n[6]=o,n[7]=t):t=n[7],t}).displayName||(o.displayName="KnowledgeBaseSearchButton")}catch{}try{(s=function(e){let t,n,a,r,i,o=(0,y.c)(20),{chatManager:s,functionCall:l,skillArgs:c,useSelectReference:d}=e,{path:u,repo:m,ref:h}=c,p=`An error occurred when finding \u{201C}${u}\u{201D} in ${m}`;o[0]!==h||o[1]!==p?(t=O(p,h),o[0]=h,o[1]=p,o[2]=t):t=o[2];let g=`File results for \u{201C}${u}\u{201D} in ${m}`;o[3]!==h||o[4]!==g?(n=O(g,h),o[3]=h,o[4]=g,o[5]=n):n=o[5];let x=`No files matching \u{201C}${u}\u{201D} in ${m} were found`;o[6]!==h||o[7]!==x?(a=O(x,h),o[6]=h,o[7]=x,o[8]=a):a=o[8];let _=`Using results for \u{201C}${u}\u{201D} in ${m}`;return o[9]!==h||o[10]!==_?(r=O(_,h),o[9]=h,o[10]=_,o[11]=r):r=o[11],o[12]!==s||o[13]!==l||o[14]!==t||o[15]!==n||o[16]!==a||o[17]!==r||o[18]!==d?(i=(0,f.jsx)(Z,{chatManager:s,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:l,inProgressMessage:n,noResultsMessage:a,resultsMapper:D,successButtonText:r,useSelectReference:d}),o[12]=s,o[13]=l,o[14]=t,o[15]=n,o[16]=a,o[17]=r,o[18]=d,o[19]=i):i=o[19],i}).displayName||(s.displayName="GetFileButton")}catch{}try{(l=function(e){let t,n,a,r,i,o,s=(0,y.c)(23),{chatManager:l,functionCall:c,skillArgs:d,useSelectReference:u}=e,{path:m,repo:h,ref:p}=d,g=`An error occurred when finding file changes for \u{201C}${m}\u{201D} in ${h}`;s[0]!==p||s[1]!==g?(t=O(g,p),s[0]=p,s[1]=g,s[2]=t):t=s[2];let x=`File changes results for \u{201C}${m} in ${h}`;s[3]!==p||s[4]!==x?(n=O(x,p),s[3]=p,s[4]=x,s[5]=n):n=s[5];let v=`No files changes were found for \u{201C}${m}\u{201D} in ${h}`;s[6]!==p||s[7]!==v?(a=O(v,p),s[6]=p,s[7]=v,s[8]=a):a=s[8],s[9]!==m?(r=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${m}`,leadingIcon:_.FileIcon,reference:e,title:(0,R.Xo)(e),url:e.url}:void 0),s[9]=m,s[10]=r):r=s[10];let b=`Using results for \u{201C}${m}\u{201D} in ${h}`;return s[11]!==p||s[12]!==b?(i=O(b,p),s[11]=p,s[12]=b,s[13]=i):i=s[13],s[14]!==l||s[15]!==c||s[16]!==t||s[17]!==n||s[18]!==a||s[19]!==r||s[20]!==i||s[21]!==u?(o=(0,f.jsx)(Z,{chatManager:l,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:c,inProgressMessage:n,noResultsMessage:a,resultsMapper:r,successButtonText:i,useSelectReference:u}),s[14]=l,s[15]=c,s[16]=t,s[17]=n,s[18]=a,s[19]=r,s[20]=i,s[21]=u,s[22]=o):o=s[22],o}).displayName||(l.displayName="GetFileChangesButton")}catch{}try{(c=function(e){let t,n=(0,y.c)(5),{chatManager:a,functionCall:r,skillArgs:i,useSelectReference:o}=e,s=`An error occurred when fetching alert information for ${i.url}`;return n[0]!==a||n[1]!==r||n[2]!==s||n[3]!==o?(t=(0,f.jsx)(Z,{chatManager:a,errorButtonText:s,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:r,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:B,successButtonText:"Using alert information",useSelectReference:o}),n[0]=a,n[1]=r,n[2]=s,n[3]=o,n[4]=t):t=n[4],t}).displayName||(c.displayName="GetAlertButton")}catch{}try{(d=function(e){let t,n=(0,y.c)(7),{chatManager:a,functionCall:r,skillArgs:i,useSelectReference:o}=e,s=`Fetching discussion ${i.discussionNumber}`,l=`Unable to fetch discussion ${i.discussionNumber}`,c=`Using discussion #${i.discussionNumber}`;return n[0]!==a||n[1]!==r||n[2]!==s||n[3]!==l||n[4]!==c||n[5]!==o?(t=(0,f.jsx)(Z,{chatManager:a,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:r,inProgressMessage:s,noResultsMessage:l,resultsMapper:V,successButtonText:c,useSelectReference:o}),n[0]=a,n[1]=r,n[2]=s,n[3]=l,n[4]=c,n[5]=o,n[6]=t):t=n[6],t}).displayName||(d.displayName="GetDiscussionButton")}catch{}try{W.displayName||(W.displayName="FunctionLoading")}catch{}try{(u=function(e){let t=(0,y.c)(1),{functionCall:n}=e,{status:a}=n;if("started"===a){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(W,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}).displayName||(u.displayName="PlanButton")}catch{}try{(m=function(e){let t,n=(0,y.c)(8),{chatManager:a,functionCall:r,skillArgs:i,useSelectReference:o}=e,s=Q(i),l=`An error occurred when fetching logs for ${s} in ${i.repo}`,c=`Fetching logs for ${s} in ${i.repo}`,d=`Unable to fetch logs for ${s} in ${i.repo}`,u=`Using logs for ${s} in ${i.repo}`;return n[0]!==a||n[1]!==r||n[2]!==l||n[3]!==c||n[4]!==d||n[5]!==u||n[6]!==o?(t=(0,f.jsx)(Z,{chatManager:a,errorButtonText:l,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:r,inProgressMessage:c,noResultsMessage:d,resultsMapper:H,successButtonText:u,useSelectReference:o}),n[0]=a,n[1]=r,n[2]=l,n[3]=c,n[4]=d,n[5]=u,n[6]=o,n[7]=t):t=n[7],t}).displayName||(m.displayName="GetJobLogsButton")}catch{}try{Z.displayName||(Z.displayName="ExpandableFunctionButton")}catch{}try{(h=function(e){let t,n,a,r=(0,y.c)(15),{chatManager:i,functionCall:o,skillArgs:s,useSelectReference:l}=e,c="GitHub API",d=o.references?.[0];if(d){let e=d.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(c=`${t.split("-").map(X).join(" ")} API`)}else"api-response"===d.type&&(c=`${d.resourceType} API`)}r[0]!==s.endpoint||r[1]!==s.endpointDescription?(t=s.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${s.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${s.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${s.endpointDescription}`,successButtonText:`Using the GitHub API to ${s.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${s.endpoint}`,inProgressMessage:`Fetching endpoint ${s.endpoint}`,noResultsMessage:`Unable to fetch from ${s.endpoint}`,successButtonText:`Using endpoint ${s.endpoint}`},r[0]=s.endpoint,r[1]=s.endpointDescription,r[2]=t):t=r[2];let u=t;return r[3]!==s?(n=e=>e.references?.filter(Y).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:_.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:_.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:_.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:_.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:_.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:_.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:_.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:_.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:_.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:_.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:_.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:_.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:_.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:_.InfoIcon,title:"API results"}}})(e,s))??[],r[3]=s,r[4]=n):n=r[4],r[5]!==i||r[6]!==o||r[7]!==u.errorButtonText||r[8]!==u.inProgressMessage||r[9]!==u.noResultsMessage||r[10]!==u.successButtonText||r[11]!==n||r[12]!==c||r[13]!==l?(a=(0,f.jsx)(Z,{chatManager:i,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:c,functionCall:o,errorButtonText:u.errorButtonText,inProgressMessage:u.inProgressMessage,noResultsMessage:u.noResultsMessage,successButtonText:u.successButtonText,useSelectReference:l,resultsMapper:n}),r[5]=i,r[6]=o,r[7]=u.errorButtonText,r[8]=u.inProgressMessage,r[9]=u.noResultsMessage,r[10]=u.successButtonText,r[11]=n,r[12]=c,r[13]=l,r[14]=a):a=r[14],a}).displayName||(h.displayName="GetGitHubDataButton")}catch{}try{(p=function(e){let t,n=(0,y.c)(7),{chatManager:a,functionCall:r,skillArgs:i}=e,o=`An error occurred when retrieving \u{201C}${i.name}\u{201D}`,s=`Getting Figma file \u{201C}${i.name}\u{201D}`,l=`Unable to retrieve \u{201C}${i.name}\u{201D}`,c=`Using result from \u{201C}${i.name}\u{201D}`;return n[0]!==a||n[1]!==r||n[2]!==o||n[3]!==s||n[4]!==l||n[5]!==c?(t=(0,f.jsx)(Z,{chatManager:a,errorButtonText:o,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:r,inProgressMessage:s,noResultsMessage:l,resultsMapper:ee,successButtonText:c,useSelectReference:!1}),n[0]=a,n[1]=r,n[2]=o,n[3]=s,n[4]=l,n[5]=c,n[6]=t):t=n[6],t}).displayName||(p.displayName="FigmaButton")}catch{}try{(g=function(e){let t,n,a=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:o}=e,s=o.rawUserQuery;a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(j.A,{href:et,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),a[0]=t):t=a[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching support documents for \u{201C}${s}\u{201D}`,d=`No support documents for \u{201C}${s}\u{201D} were found`,u=`Using support search results for \u{201C}${s}\u{201D}`;return a[1]!==r||a[2]!==i||a[3]!==l||a[4]!==c||a[5]!==d||a[6]!==u?(n=(0,f.jsx)(Z,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching support documents",toolLink:et,toolName:"Support Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:en,successButtonText:u,useSelectReference:!1}),a[1]=r,a[2]=i,a[3]=l,a[4]=c,a[5]=d,a[6]=u,a[7]=n):n=a[7],n}).displayName||(g.displayName="SupportSearchButton")}catch{}let ei=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.SearchIcon,{}),t[0]=e):e=t[0],e},eo=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.FileIcon,{}),t[0]=e):e=t[0],e},es=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.TagIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.PlayIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.BookIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(_.TasklistIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(em,{}),t[0]=e):e=t[0],e},eh="planning response";function ep(e){let t,n,a,r,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.completedText||i[5]!==n?(a=(0,f.jsx)(v.A,{title:s.completedText,sx:n,children:s.completedText}),i[4]=s.completedText,i[5]=n,i[6]=a):a=i[6],i[7]!==t||i[8]!==a?(r=(0,f.jsxs)(f.Fragment,{children:[t,a]}),i[7]=t,i[8]=a,i[9]=r):r=i[9],r}function eg(e){let t,n,a,r,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.loadingText||i[5]!==n?(a=(0,f.jsx)(v.A,{title:s.loadingText,sx:n,children:s.loadingText}),i[4]=s.loadingText,i[5]=n,i[6]=a):a=i[6],i[7]!==t||i[8]!==a?(r=(0,f.jsxs)(f.Fragment,{children:[t,a]}),i[7]=t,i[8]=a,i[9]=r):r=i[9],r}function ef(e){let t,n,a,r,i=(0,y.c)(10),{functionCall:o,functionMetadata:s}=e;return i[0]!==s.activeSkillText?(t=(0,f.jsxs)(b.A,{as:"h3",className:L.errorHeading,children:["An error occurred while ",s.activeSkillText]}),i[0]=s.activeSkillText,i[1]=t):t=i[1],i[2]!==o.errorMessage?(n=(0,f.jsx)("p",{className:L.errorMessage,children:o.errorMessage}),i[2]=o.errorMessage,i[3]=n):n=i[3],i[4]!==s.name?(a=(0,f.jsxs)("p",{className:L.toolDescriptionText,children:["Copilot used the ",(0,f.jsx)("span",{className:L.toolNameHighlight,children:s.name})," tool"]}),i[4]=s.name,i[5]=a):a=i[5],i[6]!==t||i[7]!==n||i[8]!==a?(r=(0,f.jsxs)("div",{className:L.errorContainer,children:[t,n,a]}),i[6]=t,i[7]=n,i[8]=a,i[9]=r):r=i[9],r}function ey(e){let t,n,a=(0,y.c)(6),{functionCall:r,functionMetadata:i,panelWidth:o}=e,s=o?o-130:C.Jt.DEFAULT_PANEL_WIDTH;a[0]!==r||a[1]!==i||a[2]!==s?(t=r?.status==="error"?(0,f.jsx)(ef,{functionCall:r,functionMetadata:i}):r?.status==="completed"?(0,f.jsx)(ep,{maxWidth:s,functionMetadata:i}):(0,f.jsx)(eg,{maxWidth:s,functionMetadata:i}),a[0]=r,a[1]=i,a[2]=s,a[3]=t):t=a[3];let l=t;return a[4]!==l?(n=(0,f.jsx)("div",{className:L.functionTitleContainer,children:l}),a[4]=l,a[5]=n):n=a[5],n}function ex(e){if(!e)return eh;let t=function(e){if(e){var t={...JSON.parse(e?.arguments||"{}"),kind:e.slug};switch(t.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${t.query}"`,completedText:`Bing results for "${t.query}"`,icon:x._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${t.query}" in "${t.scopingQuery}"`,completedText:`Search results for "${t.query}" in "${t.scopingQuery}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${t.query}" in "${t.repoOwner}/${t.repoName}"`,completedText:`Search results for "${t.query}" in "${t.repoOwner}/${t.repoName}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${t.query}" in the knowledge base`,completedText:`Knowledge base search results for "${t.query}"`,icon:ec,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,f.jsx)(_.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${t.endpoint}`,completedText:`Results of ${t.endpoint}`,icon:es,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let e=Q(t),n=e.charAt(0).toUpperCase()+e.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${e} in ${t.repo}`,completedText:`${n} in ${t.repo}`,icon:el,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${t.discussionNumber}`,completedText:`Details about discussion #${t.discussionNumber}`,icon:ed,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:eo,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${t.path} in ${t.repo}`,icon:eo,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:eu,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:ec,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:ec,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:ec,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"draft-issue":return{id:"draft-issue",loadingText:t.repository?`Drafting issue in ${t.repository}`:"Drafting issue ",completedText:t.repository?`Drafted issue in ${t.repository}`:"Drafted issue",icon:em,name:"Draft Issue",activeSkillText:t.repository?`drafting issue in ${t.repository}`:"drafting issue"};case"repository-metadata":return{id:"repository-metadata",loadingText:`Fetching metadata from ${t.repository}`,completedText:`Using metadata from ${t.repository}`,icon:em,name:"Repository Metadata",activeSkillText:`fetching metadata from ${t.repository}`}}}}(e);return e.statusMessage??t?.activeSkillText??eh}try{ei.displayName||(ei.displayName="CodeSearchIcon")}catch{}try{eo.displayName||(eo.displayName="GetFileIcon")}catch{}try{es.displayName||(es.displayName="ReleaseIcon")}catch{}try{el.displayName||(el.displayName="JobIcon")}catch{}try{ec.displayName||(ec.displayName="KnowledgeBaseIcon")}catch{}try{ed.displayName||(ed.displayName="DiscussionIcon")}catch{}try{eu.displayName||(eu.displayName="PlanIcon")}catch{}try{em.displayName||(em.displayName="IssueDraftIcon")}catch{}try{ep.displayName||(ep.displayName="FunctionCompleted")}catch{}try{eg.displayName||(eg.displayName="FunctionLoading")}catch{}try{ef.displayName||(ef.displayName="FunctionError")}catch{}try{ey.displayName||(ey.displayName="FunctionTitle")}catch{}},31958:(e,t,n)=>{n.d(t,{h:()=>l});var a=n(74848),r=n(21728),i=n(87131),o=n(34164);let s={interruptedBanner:"InterruptedBanner-module__interruptedBanner--o4zN7",hasContent:"InterruptedBanner-module__hasContent--eZVJ0"};function l(e){let t,n,l=(0,r.c)(4),{messageHasContent:c}=e,d=c&&s.hasContent;return l[0]!==d?(t=(0,o.$)(s.interruptedBanner,d),l[0]=d,l[1]=t):t=l[1],l[2]!==t?(n=(0,a.jsx)(i.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=n):n=l[3],n}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},54508:(e,t,n)=>{n.d(t,{E:()=>u});var a=n(74848),r=n(21728),i=n(10871),o=n(55847),s=n(96665),l=n(96540);let c={dialog:"InterviewSurveyDialog-module__dialog--VJeZO",body:"InterviewSurveyDialog-module__body--GX6c_",primaryText:"InterviewSurveyDialog-module__primaryText--H2SlC InterviewSurveyDialog-module__text--WPIpz",secondaryText:"InterviewSurveyDialog-module__secondaryText--SQrin InterviewSurveyDialog-module__text--WPIpz",surveyLink:"InterviewSurveyDialog-module__surveyLink--XKIEl",noThanksButton:"InterviewSurveyDialog-module__noThanksButton--yLSzs"};function d(e,t){let n,d,u,m,h=(0,r.c)(10),{title:p,onClose:g}=e,f=void 0===p?"Give feedback":p,[y,x]=(0,l.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({openDialog:()=>x(!0)}),h[0]=n):n=h[0],(0,l.useImperativeHandle)(t,n),h[1]!==g?(d=e=>{x(!1),g?.(e)},h[1]=g,h[2]=d):d=h[2];let _=d;h[3]!==_?(u=()=>(0,a.jsxs)("div",{className:c.body,children:[(0,a.jsx)("img",{alt:"Mona and Copilot flying a Hubot-themed spaceship",src:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship.png",srcSet:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship@2x.png 2x"}),(0,a.jsx)("span",{className:c.primaryText,children:"Would you like to participate in our research?"}),(0,a.jsx)("span",{className:c.secondaryText,children:"You will be compensated for your time"}),(0,a.jsx)(i.z,{variant:"primary",className:c.surveyLink,href:"/github-copilot/chat/feedback/interview-survey",target:"_blank",children:"Book a session"}),(0,a.jsx)(o.Q,{variant:"link",className:c.noThanksButton,onClick:()=>_("no-thanks"),children:"No, thanks"})]}),h[3]=_,h[4]=u):u=h[4];let v=u;return h[5]!==_||h[6]!==y||h[7]!==v||h[8]!==f?(m=y&&(0,a.jsx)(s.l,{className:c.dialog,onClose:()=>_("close"),title:f,renderBody:v}),h[5]=_,h[6]=y,h[7]=v,h[8]=f,h[9]=m):m=h[9],m}let u=(0,l.forwardRef)(d);try{d.displayName||(d.displayName="InterviewSurveyDialogInner")}catch{}try{u.displayName||(u.displayName="InterviewSurveyDialog")}catch{}},93412:(e,t,n)=>{n.d(t,{h:()=>s});var a=n(74848),r=n(21728),i=n(81246);let o={container:"LegalDisclaimer-module__container--lNe5E"},s=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("span",{className:o.container,children:[(0,a.jsx)(i.A,{href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-chat-in-githubcom",inline:!0,muted:!0,children:"Copilot"})," ","uses AI. Check for mistakes."]}),t[0]=e):e=t[0],e};try{s.displayName||(s.displayName="LegalDisclaimer")}catch{}},35673:(e,t,n)=>{n.d(t,{UJ:()=>y,E5:()=>c,Dq:()=>d,Gj:()=>u,f1:()=>m,cB:()=>h,zc:()=>p,Cb:()=>g,hl:()=>f});var a=n(74848),r=n(21728),i=n(16255),o=n(5945),s=n(96540);let l={chatPortalContainer:"PortalContainerUtils-module__chatPortalContainer--Otmle",menuPortalContainer:"PortalContainerUtils-module__menuPortalContainer--D7AeL"},c="copilotChatMenuPortalRoot",d="copilotChatMessagesMenuPortalRoot",u="copilotChatPortalRoot",m="copilotChatTopicPickerPortalRoot",h=()=>{let e,t,n,o=(0,r.c)(3),c=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(c.current,u)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{ref:c,className:l.chatPortalContainer}),o[2]=n):n=o[2],n},p=()=>{let e,t,n,o=(0,r.c)(3),d=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(d.current,c)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{ref:d,className:l.menuPortalContainer}),o[2]=n):n=o[2],n},g=()=>{let e,t,n,o=(0,r.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,d)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},f=()=>{let e,t,n,o=(0,r.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,m)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},y=e=>{let t,n,i,l,d,u,m=(0,r.c)(10);m[0]!==e?({children:t,portalContainerName:i,...n}=e,m[0]=e,m[1]=t,m[2]=n,m[3]=i):(t=m[1],n=m[2],i=m[3]);let[h,p]=(0,s.useState)(x);if(m[4]===Symbol.for("react.memo_cache_sentinel")?(l=()=>p(!0),d=[],m[4]=l,m[5]=d):(l=m[4],d=m[5]),(0,s.useEffect)(l,d),!h)return null;let g=i||c;return m[6]!==t||m[7]!==n||m[8]!==g?(u=(0,a.jsx)(o.W.Overlay,{...n,portalContainerName:g,children:t}),m[6]=t,m[7]=n,m[8]=g,m[9]=u):u=m[9],u};try{h.displayName||(h.displayName="ChatPortalContainer")}catch{}try{p.displayName||(p.displayName="MenuPortalContainer")}catch{}try{g.displayName||(g.displayName="MessagesPortalContainer")}catch{}try{f.displayName||(f.displayName="TopicPickerPortalContainer")}catch{}try{y.displayName||(y.displayName="ActionMenuOverlay")}catch{}function x(){return"undefined"!=typeof document}},51609:(e,t,n)=>{n.d(t,{BR:()=>b,lh:()=>w,a_:()=>C});var a,r=n(74848),i=n(21728),o=n(41738),s=n(49851),l=n(38621),c=n(12004),d=n(87330),u=n(19342),m=n(34164),h=n(96540),p=n(25641),g=n(2635),f=n(33592),y=n(23967),x=n(89237);let _={referenceToken:"ReferenceToken-module__referenceToken--WsIyo",small:"ReferenceToken-module__small--JKhUS",loadingName:"ReferenceToken-module__loadingName--tXmXP",name:"ReferenceToken-module__name--nPIg4",trailingVisual:"ReferenceToken-module__trailingVisual--X22Ay",removeButton:"ReferenceToken-module__removeButton--BwDIm",icon:"ReferenceToken-module__icon--YHCrp",openIcon:"ReferenceToken-module__openIcon--SCaYN",closedIcon:"ReferenceToken-module__closedIcon--McXYG",pullRequestClosedIcon:"ReferenceToken-module__pullRequestClosedIcon--qLOQA",pullRequestMergedIcon:"ReferenceToken-module__pullRequestMergedIcon--yvGds",figmaIconOuter:"ReferenceToken-module__figmaIconOuter--sVqOV",figmaIcon:"ReferenceToken-module__figmaIcon--lsVAI",nodeIconOuter:"ReferenceToken-module__nodeIconOuter--ooSEn"};var v=n(26100);let b=(0,h.forwardRef)(function(e,t){let n,a,o,s,c,d,y,x,b,j,S,I=(0,i.c)(41),{reference:T,message:k,onClick:R,onRemove:A,size:E,getReferenceVersion:L}=e;I[0]!==A?(n=e=>{A&&("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),A())},I[0]=A,I[1]=n):n=I[1];let M=n,P=(0,f.b)(),F=(0,g.pn)(N),D=(0,g.A3)("selectedThreadID");I[2]!==F||I[3]!==P||I[4]!==k||I[5]!==R||I[6]!==T||I[7]!==D?(a=e=>{if(!R||(R(T,e),!e.defaultPrevented)){if(!F){if(("issue"===T.type||"pull-request"===T.type||"discussion"===T.type)&&(window.open(T.url,"_blank"),self.focus()),["file","thread-scoped-file"].includes(T.type)){let e=D?`/copilot/c/${D}`:"/copilot";e+=`?reference_id=${(0,p.Vb)(T)}`,k&&(e+=`&message_index=${k.messageIndex}`),window.open(e,"_blank");return}["repository","folder","docset","third-party","image","issue","pull-request","loop-node"].includes(T.type)||(e.preventDefault(),P.selectReference(T))}}},I[2]=F,I[3]=P,I[4]=k,I[5]=R,I[6]=T,I[7]=D,I[8]=a):a=I[8];let $=a,O=(0,g.A3)("currentTopic");I[9]!==T||I[10]!==O?(o=C(T,(0,p.P)(O)),I[9]=T,I[10]=O,I[11]=o):o=I[11];let B=o,U=(0,h.useId)();I[12]!==L||I[13]!==T?(s=L?.(T),I[12]=L,I[13]=T,I[14]=s):s=I[14];let z=s;I[15]!==T?(c=(0,p.JP)(T),I[15]=T,I[16]=c):c=I[16];let V="small"===E&&_.small;I[17]!==V?(d=(0,m.$)(_.referenceToken,V),I[17]=V,I[18]=d):d=I[18];let q=A&&U;return I[19]!==B||I[20]!==T.type?(y=B&&(0,r.jsx)(B,{size:"small",className:(0,m.$)(_.icon,B===l.IssueOpenedIcon&&_.openIcon,B===l.GitPullRequestIcon&&_.openIcon,B===l.IssueClosedIcon&&_.closedIcon,B===l.GitPullRequestClosedIcon&&_.pullRequestClosedIcon,B===l.GitMergeIcon&&_.pullRequestMergedIcon),"data-testid":"loading"===T.type?"reference-token-loading":void 0}),I[19]=B,I[20]=T.type,I[21]=y):y=I[21],I[22]!==T?(x="loading"===T.type?(0,r.jsx)("span",{className:_.loadingName,children:(0,r.jsx)(u.r,{"aria-hidden":"true"})}):(0,r.jsx)("span",{className:_.name,children:(0,p.z$)(T)}),I[22]=T,I[23]=x):x=I[23],I[24]!==z?(b=void 0!==z&&(0,r.jsx)("span",{className:_.trailingVisual,children:(0,r.jsx)(v.g,{version:z})}),I[24]=z,I[25]=b):b=I[25],I[26]!==U||I[27]!==A||I[28]!==E?(j=A&&(0,r.jsx)(w,{size:E,onRemove:A,descriptionId:U}),I[26]=U,I[27]=A,I[28]=E,I[29]=j):j=I[29],I[30]!==$||I[31]!==M||I[32]!==t||I[33]!==y||I[34]!==x||I[35]!==b||I[36]!==j||I[37]!==c||I[38]!==d||I[39]!==q?(S=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("a",{href:c,className:d,onKeyDown:M,onClick:$,ref:t,"aria-describedby":q,children:[y,x,b,j]})}),I[30]=$,I[31]=M,I[32]=t,I[33]=y,I[34]=x,I[35]=b,I[36]=j,I[37]=c,I[38]=d,I[39]=q,I[40]=S):S=I[40],S});function C(e,t){switch(e.type){case"figma":return j;case"file":return l.FileIcon;case"folder":return l.FileDirectoryFillIcon;case"file-diff":return l.FileDiffIcon;case"snippet":return t&&"languageName"in e&&e.languageName&&y.Yr.has(e.languageName)?l.BookIcon:l.CodeIcon;case"repository":return l.RepoIcon;case"symbol":return l.CodeSquareIcon;case"docset":return l.BookIcon;case"commit":return l.GitCommitIcon;case"pull-request":if("pull-request"===e.type){if(e.draft&&"open"===e.state)return l.GitPullRequestDraftIcon;switch(e.state){case"open":default:return l.GitPullRequestIcon;case"closed":return l.GitPullRequestClosedIcon;case"merged":return l.GitMergeIcon}}return;case"repo-instructions":case"org-instructions":return l.NoteIcon;case"issue":if("issue"===e.type)switch(e.state){case"open":default:return l.IssueOpenedIcon;case"closed":return l.IssueClosedIcon;case"not_planned":return l.SkipIcon}return;case"draft-issue":return l.IssueDraftIcon;case"discussion":return l.CommentDiscussionIcon;case"web-search-result":if("web-search-result"===e.type)if("bing_search"===e.reference_type)return o._;else return l.GlobeIcon;return;case"thread-scoped-file":return"language"in e&&y.Yr.has(e.language)?l.MarkdownIcon:l.CodeIcon;case"loop-node":return S;case"loading":return c.A;default:return}}function j(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:_.figmaIconOuter,children:(0,r.jsx)(x._,{className:_.figmaIcon})}),t[0]=e):e=t[0],e}function S(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:_.nodeIconOuter,children:(0,r.jsx)(s.GS,{size:16})}),t[0]=e):e=t[0],e}let w=e=>{let t,n,a,o,s=(0,i.c)(12),{size:c,onRemove:u,descriptionId:m,onMouseOver:h,onMouseLeave:p}=e;return s[0]!==u?(t=e=>{e.stopPropagation(),e.preventDefault(),u()},s[0]=u,s[1]=t):t=s[1],s[2]!==p||s[3]!==h||s[4]!==c||s[5]!==t?(n=(0,r.jsx)(d.K,{tabIndex:-1,"aria-hidden":!0,size:c,icon:l.XIcon,"aria-label":"Remove",onClick:t,tooltipDirection:"n",variant:"invisible",className:_.removeButton,onMouseOver:h,onMouseLeave:p}),s[2]=p,s[3]=h,s[4]=c,s[5]=t,s[6]=n):n=s[6],s[7]!==m?(a=(0,r.jsx)("span",{hidden:!0,id:m,children:"press backspace or delete to remove"}),s[7]=m,s[8]=a):a=s[8],s[9]!==n||s[10]!==a?(o=(0,r.jsxs)(r.Fragment,{children:[n,a]}),s[9]=n,s[10]=a,s[11]=o):o=s[11],o};try{b.displayName||(b.displayName="ReferenceToken")}catch{}try{(a=Icon).displayName||(a.displayName="Icon")}catch{}try{j.displayName||(j.displayName="StylizedFigmaIcon")}catch{}try{S.displayName||(S.displayName="StylizedNodeIcon")}catch{}try{w.displayName||(w.displayName="RemoveReferenceTokenButton")}catch{}function N(e){return"immersive"===e.mode}},87086:(e,t,n)=>{n.d(t,{FZ:()=>w,X1:()=>T});var a,r=n(74848),i=n(21728),o=n(69599),s=n(53419),l=n(33544),c=n(29731),d=n(52446),u=n(79274),m=n(34164),h=n(96540),p=n(40961),g=n(26408),f=n(26875),y=n(25641),x=n(79064),_=n(2635),v=n(33592),b=n(70845),C=n(35673);let j={ActionList:"RepoSelectPanel-module__ActionList--ud9yE",emptyStateMessage:"RepoSelectPanel-module__emptyStateMessage--qQwDm"};var S=n(27844);function w(e){let t,n,a,o,s=(0,i.c)(12),{currentReferences:l}=(0,_.Pk)(),c=(0,v.b)();s[0]!==l?(n=new Set((t=l.filter(I)).map(N)),s[0]=l,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let d=n,[u,m]=(0,h.useState)();s[3]!==c||s[4]!==e||s[5]!==t?(a=async n=>{m(void 0);let a=t.find(e=>e.id===n);if(a)return void c.removeReference(a);let r=await c.service.fetchRepo(n);if(!r.ok){m("Error: failed to attach repository. Please try again."),e.onOpenChange(!0);return}let i=(0,y.qS)(r.payload);c.addReference(i,"repoMenu")},s[3]=c,s[4]=e,s[5]=t,s[6]=a):a=s[6];let p=a;return s[7]!==u||s[8]!==e||s[9]!==d||s[10]!==p?(o=(0,r.jsx)(T,{...e,selectionVariant:"multiple",selectedRepoIds:d,onSelectRepo:p,description:"Choose repositories to chat about.",error:u}),s[7]=u,s[8]=e,s[9]=d,s[10]=p,s[11]=o):o=s[11],o}function N(e){return e.id}function I(e){return"repository"===e.type}function T(e){let t,n,a,y,x,v,w,N,I,T,A,E,L,M,P,F,D,$,O,B,U=(0,i.c)(54),{open:z,onOpenChange:V,submitReturnFocusRef:q,cancelReturnFocusRef:W,selectedRepoIds:H,featuredRepoIds:G,onSelectRepo:K,selectionVariant:Q,description:Z,error:J,ownerDisplayLogin:Y,includeForks:X}=e,ee=void 0===G?H:G,{ssoOrganizations:et}=(0,_.Pk)(),[en,ea]=(0,h.useState)("");U[0]!==z?(t=()=>{z||ea("")},n=[z],U[0]=z,U[1]=t,U[2]=n):(t=U[1],n=U[2]),(0,h.useEffect)(t,n);let{repositories:er,loading:ei}=(0,g.U)(en,z,void 0,Y,void 0!==X&&X);e:{if(ei){a="Loading repositories";break e}if(0===er.length){a="No repositories found";break e}if(1===er.length){a="1 repository found";break e}a=`${er.length} repositories found`}let eo=a;U[3]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{ea(e.currentTarget.value)},U[3]=y):y=U[3];let es=y;t:{let e;if(!et){let e;U[4]===Symbol.for("react.memo_cache_sentinel")?(e=[],U[4]=e):e=U[4],x=e;break t}U[5]!==et?(e=et.map(R),U[5]=et,U[6]=e):e=U[6],x=e}let el=x;U[7]!==ee?(v=e=>ee.has(e.databaseId)?"featuredRepos":"nonFeaturedRepos",U[7]=ee,U[8]=v):v=U[8];let{featuredRepos:ec,nonFeaturedRepos:ed}=(0,f.O)(er,v),[eu,em]=(0,h.useState)(!1);U[9]!==K?(w=async e=>{em(!0),await K(e),em(!1)},U[9]=K,U[10]=w):w=U[10];let eh=w;U[11]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.G)("repo-select-panel"),U[11]=N):N=U[11];let ep=u.X;U[12]!==W.current||U[13]!==V?(I=()=>{(0,p.flushSync)(()=>V(!1)),W.current?.focus(),(0,s.BI)("dotcom_chat.activate",{target:"REPOSITORY_DIALOG_CLOSE",mode:"immersive"})},U[12]=W.current,U[13]=V,U[14]=I):I=U[14],U[15]!==V||U[16]!==q.current?(T=()=>{(0,p.flushSync)(()=>V(!1)),q.current?.focus()},U[15]=V,U[16]=q.current,U[17]=T):T=U[17];let eg="multiple"===Q?"Select repositories":"Select a repository",ef=el.length>0&&"border-bottom-0";U[18]!==ef?(A=(0,m.$)(ef),U[18]=ef,U[19]=A):A=U[19];let ey=!0===ei||eu;U[20]!==ey?(E=(0,r.jsx)(u.X.SearchInput,{loading:ey,onChange:es,placeholder:"Search repositories","aria-label":"Search repositories"}),U[20]=ey,U[21]=E):E=U[21],U[22]!==A||U[23]!==E?(L=(0,r.jsx)(u.X.Header,{className:A,children:E}),U[22]=A,U[23]=E,U[24]=L):L=U[24],U[25]!==Y||U[26]!==el?(M=(void 0===Y||""===Y)&&!(0,o.G7)("global_sso_banner")&&(0,r.jsx)(l.x,{portalContainerName:C.f1,protectedOrgs:el,redirectURI:k,useFullWidthStyle:!0}),U[25]=Y,U[26]=el,U[27]=M):M=U[27],U[28]===Symbol.for("react.memo_cache_sentinel")?(P=(0,r.jsx)(C.hl,{}),U[28]=P):P=U[28],U[29]!==J?(F=J&&(0,r.jsx)(u.X.Message,{variant:"error",size:"inline",children:J}),U[29]=J,U[30]=F):F=U[30];let ex=d.l;U[31]!==eo?(D=(0,r.jsx)("div",{className:"sr-only",children:eo}),U[31]=eo,U[32]=D):D=U[32];let e_="initial"===ei?(0,r.jsx)(u.X.Loading,{children:"Fetching repositories\u2026"}):0!==er.length||ei?(0,r.jsxs)(r.Fragment,{children:[ec?.map(e=>(0,r.jsx)(S.W,{repo:e,onSelect:eh,selected:H.has(e.databaseId)},e.databaseId)),ec&&ed&&(0,r.jsx)(d.l.Divider,{}),ed?.map(e=>(0,r.jsx)(S.W,{repo:e,onSelect:eh,selected:H.has(e.databaseId)},e.databaseId))]}):(0,r.jsx)("div",{className:j.emptyStateMessage,children:(0,r.jsx)(b.O,{delay:750,children:(0,r.jsx)(u.X.Message,{variant:"empty",title:"No repositories found",children:"Try a different search term"})})});return U[33]!==ex||U[34]!==j.ActionList||U[35]!==D||U[36]!==e_?($=(0,r.jsxs)(ex,{className:j.ActionList,children:[D,e_]}),U[33]=ex,U[34]=j.ActionList,U[35]=D,U[36]=e_,U[37]=$):$=U[37],U[38]!==ep||U[39]!==Z||U[40]!==z||U[41]!==Q||U[42]!==I||U[43]!==T||U[44]!==eg||U[45]!==L||U[46]!==M||U[47]!==P||U[48]!==F||U[49]!==$?(O=(0,r.jsxs)(ep,{width:"large",maxHeight:"xlarge",onCancel:I,onSubmit:T,open:z,variant:"modal",selectionVariant:Q,title:eg,description:Z,children:[L,M,P,F,$]}),U[38]=ep,U[39]=Z,U[40]=z,U[41]=Q,U[42]=I,U[43]=T,U[44]=eg,U[45]=L,U[46]=M,U[47]=P,U[48]=F,U[49]=$,U[50]=O):O=U[50],U[51]!==N||U[52]!==O?(B=(0,r.jsx)("div",{...N,children:O}),U[51]=N,U[52]=O,U[53]=B):B=U[53],B}function k(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}function R(e){return e.login}try{(a=function(e){let t,n,a,o=(0,i.c)(9),{selectedThreadID:s,currentTopic:l}=(0,_.Pk)(),c=(0,v.b)();o[0]!==c||o[1]!==s?(t=async e=>{x.Jt.setSelectedTopic(s??"",e.toString()),c.clearCurrentReferences(["image","issue"]),await c.fetchCurrentRepo(e)},o[0]=c,o[1]=s,o[2]=t):t=o[2];let d=t;return o[3]!==l?(n=new Set(l?[l.id]:[]),o[3]=l,o[4]=n):n=o[4],o[5]!==d||o[6]!==e||o[7]!==n?(a=(0,r.jsx)(T,{...e,selectionVariant:"instant",selectedRepoIds:n,onSelectRepo:d,description:"Choose a repository to chat about."}),o[5]=d,o[6]=e,o[7]=n,o[8]=a):a=o[8],a}).displayName||(a.displayName="RepoTopicSelectPanel")}catch{}try{w.displayName||(w.displayName="RepoReferencesSelectPanel")}catch{}try{T.displayName||(T.displayName="RepoSelectPanel")}catch{}},27844:(e,t,n)=>{n.d(t,{W:()=>s});var a=n(74848),r=n(21728),i=n(77430),o=n(52446);function s(e){let t,n,s,l,c=(0,r.c)(14),{onSelect:d,repo:u,selected:m,trailingVisualComponent:h}=e,{databaseId:p,isInOrganization:g,nwo:f,ownerAvatarUrl:y}=u;return c[0]!==p||c[1]!==d?(t=()=>d(p),c[0]=p,c[1]=d,c[2]=t):t=c[2],c[3]!==g||c[4]!==y?(n=(0,a.jsx)(o.l.LeadingVisual,{children:(0,a.jsx)(i.r,{src:y,square:g,size:16})}),c[3]=g,c[4]=y,c[5]=n):n=c[5],c[6]!==h?(s=h&&(0,a.jsx)(o.l.TrailingVisual,{children:h}),c[6]=h,c[7]=s):s=c[7],c[8]!==f||c[9]!==m||c[10]!==t||c[11]!==n||c[12]!==s?(l=(0,a.jsxs)(o.l.Item,{onSelect:t,selected:m,children:[n,f,s]},f),c[8]=f,c[9]=m,c[10]=t,c[11]=n,c[12]=s,c[13]=l):l=c[13],l}try{s.displayName||(s.displayName="RepositoryListItem")}catch{}},42983:(e,t,n)=>{n.d(t,{$:()=>c});var a=n(74848),r=n(21728),i=n(38621),o=n(87330),s=n(79184),l=n(47745);function c(e){let t,n,c=(0,r.c)(11),{handleRetryMessage:d,disabled:u,showModelPicker:m,model:h,navigateToNewThread:p}=e,g=void 0!==u&&u,f=void 0!==m&&m;c[0]!==d||c[1]!==h?(t=()=>{d(h)},c[0]=d,c[1]=h,c[2]=t):t=c[2];let y=t,{isLicensedLimited:x}=(0,s.xR)();if(f&&(!p||!h))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return c[3]!==g||c[4]!==y||c[5]!==d||c[6]!==x||c[7]!==h||c[8]!==p||c[9]!==f?(n=f?(0,a.jsx)(l.Yb,{onNewThreadSelected:p,limited:x,type:"message-retry",selectedModel:h,onModelSelected:d,disabled:g}):(0,a.jsx)(o.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:y,icon:i.SyncIcon,disabled:g}),c[3]=g,c[4]=y,c[5]=d,c[6]=x,c[7]=h,c[8]=p,c[9]=f,c[10]=n):n=c[10],n}try{c.displayName||(c.displayName="RetryButton")}catch{}},95896:(e,t,n)=>{n.d(t,{M:()=>l});var a=n(74848),r=n(21728),i=n(69676),o=n(82678),s=n(96540);function l(e){let t,n,l,c,d=(0,r.c)(8);d[0]!==e?({className:t,...n}=e,d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]);let u=(0,s.useRef)(null);return d[3]===Symbol.for("react.memo_cache_sentinel")?(l={containerRef:u,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:i.z0.ArrowHorizontal|i.z0.HomeAndEnd},d[3]=l):l=d[3],(0,o.G)(l),d[4]!==t||d[5]!==e.children||d[6]!==n?(c=(0,a.jsx)("div",{ref:u,className:t,role:"toolbar",...n,children:e.children}),d[4]=t,d[5]=e.children,d[6]=n,d[7]=c):c=d[7],c}try{l.displayName||(l.displayName="Toolbar")}catch{}},82151:(e,t,n)=>{n.d(t,{R:()=>h});var a=n(74848),r=n(21728),i=n(81246),o=n(34164),s=n(7277),l=n(99054),c=n(97949),d=n(16378),u=n(46665),m=n(6224);function h(e){let t,n,i,h,g,f,y,x=(0,r.c)(24),{className:_,accessibleHeader:v}=e,{message:b}=(0,u.V)(),C=b.content??"";x[0]!==C?(t=(0,d._)(C),x[0]=C,x[1]=t):t=x[1];let{availableAgents:j}=(0,l.JE)(t);x[2]!==j?(n=void 0===j?[]:j,x[2]=j,x[3]=n):n=x[3];let S=n;if(x[4]!==v||x[5]!==S||x[6]!==_||x[7]!==b.references||x[8]!==C){let e;x[12]!==b.references?(e=b.references??[],x[12]=b.references,x[13]=e):e=x[13];let t=(0,s.l)().use(c.U,{references:e,agents:S}).parse(C);x[14]!==v?(g=v&&(0,a.jsx)("h3",{className:"sr-only",children:v}),x[14]=v,x[15]=g):g=x[15],x[16]!==_?(i=(0,o.$)(m.A.container,_),x[16]=_,x[17]=i):i=x[17],h=t.children.map(p),x[4]=v,x[5]=S,x[6]=_,x[7]=b.references,x[8]=C,x[9]=i,x[10]=h,x[11]=g}else i=x[9],h=x[10],g=x[11];return x[18]!==i||x[19]!==h?(f=(0,a.jsx)("div",{className:i,children:h}),x[18]=i,x[19]=h,x[20]=f):f=x[20],x[21]!==g||x[22]!==f?(y=(0,a.jsxs)(a.Fragment,{children:[g,f]}),x[21]=g,x[22]=f,x[23]=y):y=x[23],y}function p(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,a.jsx)(g,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,a.jsx)("span",{className:m.A.mention,children:e.value},t):e.value}}function g(e){let t,n=(0,r.c)(4),{agent:o,children:s}=e,l=`/integrations/${o.slug}/hovercard`;return n[0]!==o.integrationUrl||n[1]!==s||n[2]!==l?(t=(0,a.jsx)(i.A,{href:o.integrationUrl,"data-hovercard-url":l,className:m.A.mention,children:s}),n[0]=o.integrationUrl,n[1]=s,n[2]=l,n[3]=t):t=n[3],t}try{h.displayName||(h.displayName="UserMessage")}catch{}try{g.displayName||(g.displayName="AgentLink")}catch{}},26100:(e,t,n)=>{n.d(t,{g:()=>s});var a=n(74848),r=n(21728),i=n(10396);let o={version:"VersionName-module__version--FC1cb"};function s(e){let t,n=(0,r.c)(3),{"data-testid":s,version:l}=e;return n[0]!==s||n[1]!==l?(t=(0,a.jsxs)(i.A,{className:o.version,as:"span","data-testid":s,children:["v",l]}),n[0]=s,n[1]=l,n[2]=t):t=n[2],t}try{s.displayName||(s.displayName="VersionName")}catch{}},89237:(e,t,n)=>{n.d(t,{_:()=>i});var a=n(74848),r=n(21728);function i(e){let t,n,i,o,s,l=(0,r.c)(8);return l[0]!==e?({className:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)("g",{clipPath:"url(#clip0_216_3161)",children:[(0,a.jsx)("path",{d:"M7.99837 7.99967C7.99837 6.52683 9.1922 5.33301 10.665 5.33301C12.1379 5.33301 13.3317 6.52683 13.3317 7.99967C13.3317 9.47252 12.1379 10.6663 10.665 10.6663C9.1922 10.6663 7.99837 9.47252 7.99837 7.99967Z",fill:"#1ABCFE"}),(0,a.jsx)("path",{d:"M2.66504 13.3337C2.66504 11.8608 3.85886 10.667 5.33171 10.667H7.99837V13.3337C7.99837 14.8065 6.80455 16.0003 5.33171 16.0003C3.85886 16.0003 2.66504 14.8065 2.66504 13.3337Z",fill:"#0ACF83"}),(0,a.jsx)("path",{d:"M7.99837 0V5.33333H10.665C12.1379 5.33333 13.3317 4.13951 13.3317 2.66667C13.3317 1.19382 12.1379 0 10.665 0H7.99837Z",fill:"#FF7262"}),(0,a.jsx)("path",{d:"M2.665 2.66667C2.665 4.13951 3.85883 5.33333 5.33167 5.33333H7.99833V0H5.33167C3.85883 0 2.665 1.19382 2.665 2.66667Z",fill:"#F24E1E"}),(0,a.jsx)("path",{d:"M2.66504 7.99967C2.66504 9.47252 3.85886 10.6663 5.33171 10.6663H7.99837V5.33301H5.33171C3.85886 5.33301 2.66504 6.52683 2.66504 7.99967Z",fill:"#A259FF"})]}),l[3]=i):i=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_216_3161",children:(0,a.jsx)("rect",{width:"10.6667",height:"16",fill:"white",transform:"translate(2.665)"})})}),l[4]=o):o=l[4],l[5]!==t||l[6]!==n?(s=(0,a.jsxs)("svg",{"aria-label":"Figma logo",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...n,children:[i,o]}),l[5]=t,l[6]=n,l[7]=s):s=l[7],s}try{i.displayName||(i.displayName="FigmaIcon")}catch{}},70845:(e,t,n)=>{n.d(t,{O:()=>o});var a=n(74848),r=n(21728),i=n(96540);let o=e=>{let t,n,o,s=(0,r.c)(6),{children:l,delay:c,assertive:d}=e,u=void 0===c?500:c,[m,h]=(0,i.useState)(!1);if(s[0]!==u?(t=()=>{h(!1);let e=setTimeout(()=>h(!0),u);return()=>clearTimeout(e)},n=[u,h],s[0]=u,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,i.useEffect)(t,n),!m)return null;let p=void 0!==d&&d?"assertive":"polite";return s[3]!==l||s[4]!==p?(o=(0,a.jsx)("div",{role:"alert","aria-live":p,"aria-atomic":"true",children:l}),s[3]=l,s[4]=p,s[5]=o):o=s[5],o};try{o.displayName||(o.displayName="DelayedComponent")}catch{}},37178:(e,t,n)=>{n.d(t,{O:()=>N});var a=n(74848),r=n(21728),i=n(38621),o=n(75177),s=n(87330),l=n(63557),c=n(55847),d=n(52446),u=n(12004),m=n(30729),h=n(96540);function p(e){let t,n,i,s,l=(0,r.c)(5),{children:c}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={overflow:"auto",maxHeight:"calc(100dvh - 64px - 52px)"},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(n={overflow:"hidden",backgroundColor:"canvas.default"},l[1]=n):n=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i={display:"flex",flexDirection:"column"},l[2]=i):i=l[2],l[3]!==c?(s=(0,a.jsx)(o.A,{sx:t,children:(0,a.jsx)(o.A,{sx:n,children:(0,a.jsx)(o.A,{sx:i,children:c})})}),l[3]=c,l[4]=s):s=l[4],s}function g(e){let t,n,c,d,u,m=(0,r.c)(9),{children:h,onDismiss:p}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"16px",fontSize:1},m[0]=t):t=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,"@media screen and (max-width: 768px)":{maxWidth:"80%"}},m[1]=n):n=m[1],m[2]!==h?(c=(0,a.jsx)(o.A,{sx:n,children:h}),m[2]=h,m[3]=c):c=m[3],m[4]!==p?(d=p&&(0,a.jsx)(s.K,{unsafeDisableTooltip:!0,"aria-label":"Dismiss",icon:i.XIcon,onClick:p,variant:"invisible",sx:{flexShrink:0}}),m[4]=p,m[5]=d):d=m[5],m[6]!==c||m[7]!==d?(u=(0,a.jsxs)(l.A,{as:"h3",sx:t,children:[c,d]}),m[6]=c,m[7]=d,m[8]=u):u=m[8],u}function f(e){let t,n,i=(0,r.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderTop:"1px solid var(--borderColor-default, var(--color-border-default))",backgroundColor:"canvas.subtle",px:3,py:2},i[0]=t):t=i[0],i[1]!==s?(n=(0,a.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function y(e){let t,n,o,s,l,d,u=(0,r.c)(11),{children:p,title:g,initiallyOpen:f}=e,[y,_]=(0,h.useState)(f??!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>_(x),u[0]=t):t=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",'[data-component="buttonContent"]':{justifyContent:"start"}},u[1]=n):n=u[1];let v=y?i.ChevronDownIcon:i.ChevronRightIcon;u[2]===Symbol.for("react.memo_cache_sentinel")?(o={mr:2},u[2]=o):o=u[2],u[3]!==v?(s=(0,a.jsx)(m.A,{icon:v,sx:o}),u[3]=v,u[4]=s):s=u[4],u[5]!==s||u[6]!==g?(l=(0,a.jsxs)(c.Q,{onClick:t,sx:n,children:[s,g]}),u[5]=s,u[6]=g,u[7]=l):l=u[7];let b=y&&p;return u[8]!==l||u[9]!==b?(d=(0,a.jsxs)(a.Fragment,{children:[l,b]}),u[8]=l,u[9]=b,u[10]=d):d=u[10],d}function x(e){return!e}function _(e){let t,n,i=(0,r.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={padding:3},i[0]=t):t=i[0],i[1]!==s?(n=(0,a.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function v(e){let t,n,s,l,d,u,h,p=(0,r.c)(14),{direction:g,onExpand:f}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t={justifyContent:"start"},p[0]=t):t=p[0],p[1]!==g?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",px:3,py:2,width:"100%",fontSize:0,fontWeight:"normal",color:"fg.muted",'[data-component="buttonContent"]':t,..."above"===g?{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}:{borderTop:"1px solid var(--borderColor-default, var(--color-border-default))"}},p[1]=g,p[2]=n):n=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center"},p[3]=s):s=p[3];let y="below"===g?i.FoldDownIcon:i.FoldUpIcon;return p[4]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2},p[4]=l):l=p[4],p[5]!==y?(d=(0,a.jsx)(m.A,{icon:y,sx:l}),p[5]=y,p[6]=d):d=p[6],p[7]!==g||p[8]!==d?(u=(0,a.jsxs)(o.A,{sx:s,children:[d,"Show content ",g]}),p[7]=g,p[8]=d,p[9]=u):u=p[9],p[10]!==f||p[11]!==n||p[12]!==u?(h=(0,a.jsx)(c.Q,{onClick:f,sx:n,children:u}),p[10]=f,p[11]=n,p[12]=u,p[13]=h):h=p[13],h}function b(e){let t,n,i=(0,r.c)(3),{children:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(d.l.GroupHeading,{as:"h3",children:"Reference details"}),i[0]=t):t=i[0],i[1]!==o?(n=(0,a.jsx)(d.l,{children:(0,a.jsxs)(d.l.Group,{children:[t,o]})}),i[1]=o,i[2]=n):n=i[2],n}function C(e){let t,n,i=(0,r.c)(6),{children:o,href:s,icon:l}=e;return i[0]!==l?(t=(0,a.jsx)(d.l.LeadingVisual,{children:(0,a.jsx)(m.A,{icon:l})}),i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==s||i[4]!==t?(n=(0,a.jsxs)(d.l.LinkItem,{href:s,children:[t,o]}),i[2]=o,i[3]=s,i[4]=t,i[5]=n):n=i[5],n}function j(){let e,t,n=(0,r.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",flexDirection:"column",alignItems:"center",m:"auto",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)(o.A,{sx:e,children:[(0,a.jsx)(u.A,{sx:{mb:2}}),(0,a.jsx)("div",{children:"Loading..."})]}),n[1]=t):t=n[1],t}function S(){let e,t,n=(0,r.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(o.A,{sx:e,children:(0,a.jsx)(o.A,{sx:{color:"danger.fg",fontWeight:"bold"},children:"Failed to load reference details"})}),n[1]=t):t=n[1],t}function w(e){let t,n=(0,r.c)(4),{children:i,detailsError:o,detailsLoading:s}=e;return n[0]!==i||n[1]!==o||n[2]!==s?(t=o?(0,a.jsx)(S,{}):s?(0,a.jsx)(j,{}):(0,a.jsx)(a.Fragment,{children:i}),n[0]=i,n[1]=o,n[2]=s,n[3]=t):t=n[3],t}let N={Frame:p,Header:g,Body:w,Content:_,CollapsibleSubsection:y,ContentExpander:v,Details:b,DetailLink:C,SectionDivider:f};try{p.displayName||(p.displayName="Frame")}catch{}try{g.displayName||(g.displayName="Header")}catch{}try{f.displayName||(f.displayName="SectionDivider")}catch{}try{y.displayName||(y.displayName="CollapsibleSubsection")}catch{}try{_.displayName||(_.displayName="Content")}catch{}try{v.displayName||(v.displayName="ContentExpander")}catch{}try{b.displayName||(b.displayName="Details")}catch{}try{C.displayName||(C.displayName="DetailLink")}catch{}try{j.displayName||(j.displayName="Loading")}catch{}try{S.displayName||(S.displayName="Error")}catch{}try{w.displayName||(w.displayName="Body")}catch{}},41738:(e,t,n)=>{n.d(t,{_:()=>m,I:()=>d});var a=n(74848),r=n(21728),i=n(75177),o=n(84511),s=n(81246),l=n(37178);let c={"bing-icon":"WebSearchReferencePreview-module__bing-icon--lhPED"};function d(e){let t,n,c,d,h,p,g,f,y,x,_,v=(0,r.c)(19),{reference:b,onDismiss:C}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(t={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:2},n=(0,a.jsx)(m,{}),v[0]=t,v[1]=n):(t=v[0],n=v[1]),v[2]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:0,fontWeight:400,color:"fg.muted"},v[2]=c):c=v[2],v[3]===Symbol.for("react.memo_cache_sentinel")?(d={fontSize:1,fontWeight:600,color:"fg.default"},v[3]=d):d=v[3];let j=1===b.results.length?" result ":" results ";return v[4]!==b.results.length||v[5]!==j?(h=(0,a.jsxs)(i.A,{sx:t,children:[n,(0,a.jsxs)(o.A,{sx:c,children:[(0,a.jsxs)(o.A,{sx:d,children:[b.results.length," ",j]}),"from Bing search."]})]}),v[4]=b.results.length,v[5]=j,v[6]=h):h=v[6],v[7]!==C||v[8]!==h?(p=(0,a.jsx)(l.O.Header,{onDismiss:C,children:h}),v[7]=C,v[8]=h,v[9]=p):p=v[9],v[10]===Symbol.for("react.memo_cache_sentinel")?(g={display:"flex",flexDirection:"column",px:3,gap:3,pb:3},v[10]=g):g=v[10],v[11]!==b.results?(f=b.results.map(u),v[11]=b.results,v[12]=f):f=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.jsx)(o.A,{sx:{fontSize:0,fontWeight:400},children:(0,a.jsx)(s.A,{href:"https://privacy.microsoft.com/en-us/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})}),v[13]=y):y=v[13],v[14]!==f?(x=(0,a.jsx)(l.O.Body,{detailsError:!1,detailsLoading:!1,children:(0,a.jsxs)(i.A,{sx:g,children:[f,y]})}),v[14]=f,v[15]=x):x=v[15],v[16]!==x||v[17]!==p?(_=(0,a.jsxs)(l.O.Frame,{children:[p,x]}),v[16]=x,v[17]=p,v[18]=_):_=v[18],_}function u(e,t){return(0,a.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:1,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px",padding:3},children:[(0,a.jsx)(s.A,{sx:{fontWeight:600,fontSize:2},href:e.url,rel:"nofollow",children:e.title}),(0,a.jsx)("div",{children:e.excerpt}),(0,a.jsx)(i.A,{sx:{fontSize:0,color:"fg.muted"},children:e.url})]},t)}let m=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:c["bing-icon"]}),t[0]=e):e=t[0],e};try{d.displayName||(d.displayName="WebSearchReferencePreview")}catch{}try{m.displayName||(m.displayName="BingIcon")}catch{}},37238:(e,t,n)=>{n.d(t,{D:()=>_});var a=n(74848),r=n(23657),i=n(84646),o=n(79634),s=n(96459),l=n(96665),c=n(46309),d=n(65029),u=n(24815),m=n(75298),h=n(96540),p=n(51563),g=n(6236);let f={createSpaceDialog:"CreateSpaceDialog-module__createSpaceDialog--YECfV",textAreaWrapper:"CreateSpaceDialog-module__textAreaWrapper--Y5Mtu"};var y=n(44956),x=n(53419);function _({closeDialog:e}){let t=(0,s.Z)(),n=(0,h.useRef)(null),{name:_,setName:b,defaultName:C}=(0,i.AV)(),[j,S]=(0,h.useState)(""),[w,N]=(0,h.useState)(null),[I,T]=(0,h.useState)({}),{upsertCopilotSpace:k,isPending:R}=(0,p.$)(),{copilotSpacesConfig:{maxDescriptionLength:A}}=(0,o.X)(),E=(0,h.useCallback)(e=>{let t={...I};for(let n of e)t[n]&&delete t[n];T(t)},[I]),L=(0,h.useCallback)(e=>N(e),[]);(0,h.useEffect)(()=>{n.current&&_===C&&n.current.select()},[_,C]),(0,h.useEffect)(()=>{(0,x.BI)("copilot_spaces.create_space_v3_dialog_opened",{})},[]);let M=async()=>{if(!R)try{let e=await k({name:_,description:j,ownerId:w?.id,ownerType:w?.type});T({});let n=(0,r.Cb)(e);return t(n)}catch(e){T(e??{})}},P=()=>{e()};return(0,a.jsx)(l.l,{position:{narrow:"fullscreen"},title:"New Space",onClose:e,width:"large","aria-label":"New Space",className:f.createSpaceDialog,renderFooter:()=>(0,a.jsx)(y.m,{onCancel:P,onSave:M,isLoading:R,disabled:!w}),children:(0,a.jsx)("form",{onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),await M()},children:(0,a.jsxs)(c.B,{children:[(0,a.jsxs)(d.A,{children:[(0,a.jsx)(d.A.Label,{required:!0,children:"Name"}),(0,a.jsx)(u.A,{ref:n,autoFocus:!0,block:!0,"data-testid":"copilot-space-name-input",name:"copilot-space-name",value:_,onChange:e=>{b(e.target.value),E(["name","slug"])}}),I.name?(0,a.jsx)(d.A.Validation,{variant:"error",children:(0,a.jsxs)("span",{children:["Name ",I.name]})}):I.slug?(0,a.jsx)(d.A.Validation,{variant:"error",children:(0,a.jsx)("span",{children:r.j0})}):null]}),(0,a.jsx)(g.E,{onSelect:L,required:!0,showCaption:!1}),(0,a.jsxs)(d.A,{children:[(0,a.jsx)(d.A.Label,{required:!1,children:"Description"}),(0,a.jsx)(m.Ay,{block:!0,name:"description",value:j,rows:3,resize:"vertical",className:f.textAreaWrapper,onChange:e=>{S(e.target.value),E(["description"])}}),I.description?(0,a.jsx)(d.A.Validation,{variant:"error",children:(0,a.jsxs)("span",{children:["Description ",I.description]})}):(0,a.jsx)(v,{text:j,promptCharLimit:A})]})]})})})}function v({text:e,promptCharLimit:t}){let n=e.length>t,r=(0,a.jsxs)(a.Fragment,{children:[e.length.toLocaleString()," / ",t.toLocaleString()," characters"]});return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(d.A.Validation,{variant:"error",children:r}):(0,a.jsx)(d.A.Caption,{children:r})})}try{_.displayName||(_.displayName="CreateSpaceDialog")}catch{}try{v.displayName||(v.displayName="CharacterCount")}catch{}},19566:(e,t,n)=>{n.d(t,{Q:()=>eS});var a=n(74848),r=n(87330),i=n(96665),o=n(46309),s=n(65029),l=n(55847),c=n(69410),d=n(38621),u=n(96540),m=n(97564),h=n(54030),p=n(6665),g=n(19189),f=n(25556),y=n(34535),x=n(96459),_=n(20426),v=n(87826),b=n(75177),C=n(12004),j=n(30729),S=n(96379),w=n(65556);function N(e,t,n){let a=[];for(let r of t)if(r.startsWith(e)){let t=r.slice(e.length+1),i=t.indexOf("/"),o=i>0?t.slice(0,i):t,s=`${e}/${o}`;if(n&&n.some(e=>e.path===s))continue;let l={items:[],data:{contentType:s===r?"file":"directory",name:o,path:s,isClientOnly:!0}};a.push(l)}return a}let I={checkbox:"FileTreePicker-module__checkbox--uY6AK",itemContainer:"FileTreePicker-module__itemContainer--ShYuv",Box:"FileTreePicker-module__Box--RKQKr",Box_1:"FileTreePicker-module__Box_1--usRNW",Octicon:"FileTreePicker-module__Octicon--rINlU",Box_2:"FileTreePicker-module__Box_2--yFodr"};var T=n(53419);function k(e,t){let n=new Set(e);switch(t.type){case"SELECT_FILE":n.add(t.path),(0,T.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"SELECT_FILE",newFileCount:n.size});break;case"DESELECT_FILE":n.delete(t.path),(0,T.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"DESELECT_FILE",newFileCount:n.size});break;case"SELECT_DIRECTORY":for(let e of t.paths)n.add(e);(0,T.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"SELECT_DIRECTORY",newFileCount:n.size,directoryCount:t.paths.length});break;case"DESELECT_DIRECTORY":for(let e of t.paths)n.delete(e);(0,T.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"DESELECT_DIRECTORY",newFileCount:n.size,directoryCount:t.paths.length})}return n}function R({isActive:e,file:t,onItemSelected:n,getItemUrl:r,selectedItemRef:i,navigate:o,onRenderRow:s,getFileTrailingVisual:l,getFileIcon:c,navigateOnClick:m,isSelected:h}){let{sendRepoClickEvent:g}=(0,p.T)(),x=u.useRef(null),b=(0,y.Z)({focusRowRef:x,mouseRowRef:x}),C="submodule"===t.data.contentType,j=l?.(t.data);(0,u.useEffect)(()=>{e&&x.current&&requestAnimationFrame(()=>{x.current?.scrollIntoView({block:"center"})})},[e]);let S=u.useCallback(e=>{C?(e.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):e.metaKey||e.ctrlKey||1===e.button?(window.open(r(t.data),"_blank"),e.preventDefault()):(n?.(t.data,t),g("FILES_TREE.ITEM",{item_path:t.data.path}),m&&o(r(t.data)),e.stopPropagation())},[t,r,C,o,m,n,g]);return s?.(),(0,a.jsxs)(_.G.Item,{ref:x,onSelect:S,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,a.jsx)(_.G.LeadingVisual,{children:c?c(t.data):C?(0,a.jsx)(d.FileSubmoduleIcon,{}):(0,a.jsx)(d.FileIcon,{})}),(0,a.jsxs)("div",{className:I.itemContainer,children:[(0,a.jsx)(v.A,{className:I.checkbox,checked:h||!1,readOnly:!0,"aria-label":`Select ${t.data.name}`}),(0,a.jsx)("span",{ref:i,style:{color:C?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:(0,a.jsx)("span",{"data-testid":`${t.data.path}-file-item`,children:t.data.name})})]}),b&&(0,a.jsx)(f.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:x,"aria-label":t.data.name,open:!0,direction:"ne"}),!!j?.screenReaderText&&(0,a.jsx)("span",{className:"sr-only",children:j.screenReaderText}),!!j?.trailingVisual&&(0,a.jsx)(_.G.TrailingVisual,{children:j.trailingVisual})]})}let A=u.memo(R),E=u.memo(v.A);function L({clientOnlyFilePaths:e,directory:t,isActive:n,isAncestorOfActive:r,leadingPath:i,onItemSelected:o,getItemUrl:s,getFetchUrl:l,selectedItemRef:c,navigate:d,onRenderRow:m,getFileTrailingVisual:h,getFileIcon:g,navigateOnClick:x,selectedChildren:v,expandedPath:b}){let[C,j]=(0,u.useState)(r),{sendRepoClickEvent:T}=(0,p.T)(),k=u.useRef(null),R=u.useRef(null),A=(0,y.Z)({focusRowRef:R,mouseRowRef:k}),L=u.useMemo(()=>v?.filter(e=>e.startsWith(`${t.data.path}/`)),[v,t.data.path]),M=u.useMemo(()=>(function(e,t){if(!t||0===t.length)return"none";if(t.includes(e.data.path))return"all";let n=e.data.totalCount||0,a=t.filter(t=>t.startsWith(`${e.data.path}/`)).length;return 0===a?"none":a===n?"all":"partial"})(t,v),[t,v]),[P,D,O,B,U,z,V]=function(e,t,n){let[a,r]=u.useState(e.items),[i,o]=u.useState(e.data.totalCount||0),[s,l]=u.useState(!1),[c,d]=u.useState(!1),{safeSetTimeout:m}=(0,w.A)();u.useEffect(()=>{r(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&o(e.data.totalCount)},[e.data.totalCount]);let h=u.useCallback(()=>{d(!1)},[]),p=u.useCallback((e,t)=>{let n=e||[...a];r(n.slice(0,100)),m(()=>{r(n),void 0!==t&&o(t)},1)},[a,m]);return[u.useCallback(async a=>{let i=new Map;if(e.data.isClientOnly){if(a){let n=N(e.data.path,a);for(let e of n)i.set(e.data.path,e);t({type:"add",folders:i,processingTime:0}),n.length>100?p(n,n.length):(r(n),o(n.length))}}else{let s=n(e.data);d(!1),l(!0);let c=Date.now(),u=await (0,S.lS)(`${s}?noancestors=1`);try{if(u.ok){let n=await u.json(),s=n.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===n.payload.tree.items.length};return(i.set(e.path,t),e.hasSimplifiedPath)?function e(t,n,a){t.data.name=t.data.name.slice(t.data.name.lastIndexOf("/")+1,t.data.name.length);let r=n.name.slice(0,n.name.lastIndexOf("/")),i=r.indexOf("/")>-1,o={path:n.path.slice(0,n.path.lastIndexOf("/")),contentType:n.contentType,name:r,hasSimplifiedPath:i},s={items:[t],data:o};return(a.set(o.path,s),i)?e(s,{...o},a):s}(t,e,i):t});if(a){let t=e.data.path,r=N(t,a,n.payload.tree.items);for(let e of(s.push(...r),r))i.set(e.data.path,e)}t({type:"add",folders:i,processingTime:Date.now()-c}),e.items=s,e.data.totalCount=n.payload.tree.totalCount,s.length>100?p(s,n.payload.tree.totalCount):(r(s),o(n.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}l(!1)},[n,e,t,p]),p,a,s,c,h,i]}(t,()=>{},l),q=i?`${i}/`:"",W=V-O.length;(0,u.useEffect)(()=>{n&&k.current&&requestAnimationFrame(()=>{k.current?.scrollIntoView({block:"center"})})},[n]);let H=u.useCallback(e=>{!e||C||B||U||!(t.items.length>100)||D(),e!==C&&j(e)},[C,B,U,t.items.length,D]),G=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&x?(window.open(s(t.data),"_blank"),e.preventDefault()):(o?.(t.data,t),T("FILES_TREE.ITEM",{item_path:t.data.path}),x&&d(s(t.data)),e.stopPropagation())},[t,s,d,x,o,T]);u.useEffect(()=>{r&&!C&&H?.(!0)},[r]),u.useEffect(()=>{0===t.items.length&&C?H?.(!1):!C&&t.autoExpand&&H?.(!0)},[t.items.length]);let K=u.useCallback(e=>{c&&n&&c(e),k.current=e},[c,n]);if(1===t.items.length){let r=t.items[0];if(r&&"directory"===r.data.contentType)return(0,a.jsx)(F,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:q+t.data.name,inheritsActive:n,onItemSelected:o,selectedItemRef:c,getItemUrl:s,directoryNavigateOnClick:x,navigateOnClick:x,getFileTrailingVisual:h,getFileIcon:g,selectedChildren:L,expandedPath:b})}return m?.(),(0,a.jsxs)(_.G.Item,{ref:R,expanded:C,onExpandedChange:H,current:n,onSelect:G,id:`${t.data.path}-item`,containIntrinsicSize:n?void 0:"auto 2rem",children:[(0,a.jsx)(_.G.LeadingVisual,{children:(0,a.jsx)(_.G.DirectoryIcon,{})}),(0,a.jsxs)("div",{className:I.itemContainer,children:[(0,a.jsx)(E,{className:I.checkbox,checked:"all"===M,indeterminate:"partial"===M,readOnly:!0,"aria-label":`Select ${t.data.name}`,"data-indeterminate":"partial"===M?"true":void 0}),(0,a.jsxs)("span",{ref:K,children:[q&&(0,a.jsx)("span",{children:q}),(0,a.jsx)("span",{"data-testid":`${t.data.path}-directory-item`,children:t.data.name})]})]}),A&&(0,a.jsx)(f.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:R,"aria-label":`${q}${t.data.name}`,open:!0,direction:"ne"}),(0,a.jsx)(_.G.SubTree,{state:B?"loading":U?"error":"done",children:U?(0,a.jsx)(_.G.ErrorDialog,{onRetry:P,onDismiss:z,children:"There was an error loading the folder contents."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F,{clientOnlyFilePaths:e,directoryItems:O,onItemSelected:o,selectedItemRef:c,getItemUrl:s,directoryNavigateOnClick:x,navigateOnClick:x,getFileTrailingVisual:h,getFileIcon:g,selectedChildren:L,expandedPath:b}),W>0&&(0,a.jsx)($,{message:`${W} entries not shown`})]})})]})}let M=u.memo(L,(e,t)=>e.isActive===t.isActive&&e.isAncestorOfActive===t.isAncestorOfActive&&e.directory===t.directory&&(e.selectedChildren===t.selectedChildren||0===e.selectedChildren.length&&0===t.selectedChildren.length)&&e.expandedPath===t.expandedPath);function P({clientOnlyFilePaths:e,directoryItems:t,leadingPath:n,inheritsActive:r,onItemSelected:i,selectedItemRef:o,onRenderRow:s,getItemUrl:l,getFileTrailingVisual:c,getFileIcon:d,directoryNavigateOnClick:m,navigateOnClick:h,selectedChildren:p,expandedPath:f}){let y=(0,g.Z)(),_=(0,x.Z)(),v=u.useRef(_),b=u.useRef(i);u.useEffect(()=>{b.current=i,v.current=_},[i,_]);let C=u.useCallback((e,t)=>{b.current?.(e,t)},[]),j=u.useMemo(()=>t.map(t=>{let i=f===t.data.path,u=p?.includes(t.data.path),g=i||f.startsWith(`${t.data.path}/`),x=p?.filter(e=>e===t.data.path||e.startsWith(`${t.data.path}/`));return"directory"===t.data.contentType?(0,a.jsx)(M,{clientOnlyFilePaths:e,isActive:r||i,isAncestorOfActive:g,onItemSelected:C,leadingPath:n,directory:t,getItemUrl:l,getFetchUrl:y.getItemUrl,selectedItemRef:g?o:void 0,navigate:_,onRenderRow:s,navigateOnClick:m,getFileTrailingVisual:c,getFileIcon:d,itemCount:t.items.length,isSelected:u,selectedChildren:x,expandedPath:f},t.data.name):(0,a.jsx)(A,{onItemSelected:C,file:t,isActive:i,getItemUrl:l,selectedItemRef:i?o:void 0,navigate:_,navigateOnClick:h,onRenderRow:s,getFileTrailingVisual:c,getFileIcon:d,isSelected:u},t.data.name)}),[t,f,p,e,r,C,n,l,y.getItemUrl,o,_,s,m,c,d,h]);return(0,a.jsx)(a.Fragment,{children:j})}let F=u.memo(P);function D(e){let{clientOnlyFilePaths:t,rootItems:n,fetchError:r,loading:i,onRenderRow:o,getItemUrl:s,getFileTrailingVisual:l,getFileIcon:c,expandedPath:d,onSelectionChange:m}=e,[h,p]=(0,u.useReducer)(k,new Set),g=e.selectedItems||h,f=(0,u.useCallback)(e=>{let t=new Set;if(t.add(e.data.path),"directory"===e.data.contentType)for(let n of e.items)for(let e of f(n))t.add(e);return Array.from(t)},[]),y=(0,u.useCallback)((e,t)=>{let n=t?{type:"DESELECT_FILE",path:e}:{type:"SELECT_FILE",path:e};m?m(k(g,n)):p(n)},[m,g]),x=(0,u.useCallback)((e,t)=>{let n=f(e),a=t?{type:"DESELECT_DIRECTORY",paths:n}:{type:"SELECT_DIRECTORY",paths:n};m?m(k(g,a)):p(a)},[f,m,g]),v=(0,u.useCallback)((e,t)=>{if("directory"===e.contentType){let e=f(t).every(e=>g.has(e));x(t,e)}else y(e.path,g.has(e.path))},[f,x,y,g]),j=(0,u.useCallback)(e=>{1===e.button&&e.preventDefault()},[]);return(0,a.jsx)(b.A,{onMouseDown:j,sx:{...e.sx},"data-testid":"repos-file-tree-container",className:I.Box,children:i?(0,a.jsxs)("div",{className:I.Box_1,children:[(0,a.jsx)(C.A,{"aria-label":"Loading file tree"}),(0,a.jsx)("span",{className:"fgColor-muted",children:"Fetching files..."})]}):(0,a.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,a.jsxs)(_.G,{"aria-label":"Files",children:[r&&(0,a.jsx)($,{message:"Some files could not be loaded."}),(0,a.jsx)(F,{clientOnlyFilePaths:t,directoryItems:n,onItemSelected:v,selectedChildren:g?Array.from(g):[],selectedItemRef:e.selectedItemRef,onRenderRow:o,directoryNavigateOnClick:e.directoryNavigateOnClick,navigateOnClick:e.navigateOnClick,getItemUrl:s,getFileTrailingVisual:l,getFileIcon:c,expandedPath:d})]})})})}function $({message:e}){return(0,a.jsxs)(_.G.Item,{id:"error-tree-row",children:[(0,a.jsx)(_.G.LeadingVisual,{children:(0,a.jsx)(j.A,{icon:d.AlertFillIcon,className:I.Octicon})}),(0,a.jsx)("div",{className:I.Box_2,children:e||"Couldn't load."})]})}try{R.displayName||(R.displayName="WrappedFileTreeRow")}catch{}try{A.displayName||(A.displayName="FileTreeRow")}catch{}try{E.displayName||(E.displayName="MemoizedCheckbox")}catch{}try{L.displayName||(L.displayName="WrappedDirectoryTreeRow")}catch{}try{M.displayName||(M.displayName="DirectoryTreeRow")}catch{}try{P.displayName||(P.displayName="WrappedDirectoryContents")}catch{}try{F.displayName||(F.displayName="DirectoryContents")}catch{}try{D.displayName||(D.displayName="FileTreePicker")}catch{}try{$.displayName||($.displayName="ErrorTreeRow")}catch{}var O=n(87086),B=n(78314),U=n(31078),z=n(53552),V=n(64375),q=n(29731),W=n(7808),H=n(64642),G=n(65787),K=n(25407),Q=n(66108),Z=n(94195),J=n(69676),Y=n(82678),X=n(52446),ee=n(9745),et=n(91385),en=n(70170),ea=n(37272),er=n(71315),ei=n(24815),eo=n(34164);let es={TextInput:"FilesSearchBox-module__TextInput--o9VJM",Box:"FilesSearchBox-module__Box--_nCUu"},el=u.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:n,ariaHasPopup:r,className:i,onBlur:o,onFocus:s,onKeyDown:l,onPreload:c,onSearch:m,query:h,searchPlaceholder:g,loading:f,sx:y},x)=>{let{sendRepoClickEvent:_}=(0,p.T)(),[v,b]=u.useState(h),C=u.useRef((0,en.s)(e=>m(e),250));u.useEffect(()=>{b(h)},[h]);let j=h?(0,a.jsx)(ei.A.Action,{onClick:()=>{_("FILE_TREE.CANCEL_SEARCH"),m("")},icon:d.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,a.jsx)(ei.A,{autoFocus:ec(),className:(0,eo.$)(i,es.TextInput),ref:x,value:v,onKeyDown:l,onChange:e=>{b(e.target.value),c(),C.current(e.target.value)},sx:y,"aria-label":g||"Go to file","aria-activedescendant":e,role:r?"combobox":void 0,"aria-controls":t,"aria-expanded":n,"aria-haspopup":r?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:g||"Go to file",loading:""!==h&&f,leadingVisual:d.SearchIcon,trailingAction:j,trailingVisual:j?void 0:()=>(0,a.jsx)(ea.E,{children:(0,a.jsx)("div",{className:es.Box,children:(0,a.jsx)("kbd",{children:"t"})})}),onFocus:e=>{c(),e.target.select(),s?.(e)},onBlur:o,onClick:()=>_("FILE_TREE.SEARCH_BOX")})});function ec(){return"1"===new URLSearchParams(er.fV.search).get("search")}el.displayName="FilesSearchBox";let ed={Box:"FileResultsList-module__Box--cUmDY",ActionList:"FileResultsList-module__ActionList--kDNEZ",FilesSearchBox:"FileResultsList-module__FilesSearchBox--KW9Zl",HighlightMatch:"FileResultsList-module__HighlightMatch--Jy_cG",Octicon:"FileResultsList-module__Octicon--PvMf4"},eu={excludeDirectories:!1,excludeSeeAllResults:!1};function em({actionListSx:e,additionalResults:t,className:n,commitOid:r,config:i=eu,findFileWorkerPath:o,getItemUrl:s,onRenderRow:l,onItemSelected:d,searchBoxRef:m,sx:f}){let{excludeDirectories:y,excludeSeeAllResults:_}=i,{query:v,setQuery:C}=(0,U.JS)(),j=(0,B.t)(),S=u.useRef(null),w=m??S,[N,I]=u.useState(v.length>0),[T,k]=u.useState(!!v),{list:R,directories:A,loading:E,error:L}=(0,h.o)(r,N,!!y),{path:M}=(0,z.eu)(),{getUrl:P}=(0,g.Z)(),{queryText:F,queryLine:D}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(v),{matches:$,clearMatches:O}=function(e,t,n,a){let[r,i]=u.useState(),o=u.useRef(""),s=u.useRef(),{sendStats:l}=(0,p.T)(),c=u.useRef(!1),d=u.useCallback(()=>{let e=new W.z(n,H.j);e.onmessage=({data:e})=>{c.current=!1,i(e.list),o.current=e.query,e.startTime&&l("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[l,n]);return u.useEffect(()=>{if(a)return d(),function(){s.current?.terminate()}},[d,a]),u.useEffect(()=>{if(e.length&&t){c.current&&(s.current?.terminate(),d());let n=o.current&&t.startsWith(o.current);c.current=!0,s.current?.postMessage({baseList:n&&r||e,query:t,startTime:performance.now()})}},[e,t,d]),{matches:r,clearMatches:()=>i(void 0)}}((0,u.useMemo)(()=>[...R,...t??[]].sort(),[t,R]),F,o,N),{sendRepoClickEvent:V}=(0,p.T)(),q=(0,x.Z)(),[Q,et]=u.useState(0),[en,ea]=u.useState(()=>ec()),er=u.useRef(null),ei=u.useRef(null),eo="file-results-list",{sendRepoKeyDownEvent:es}=(0,p.T)(),{screenSize:em}=(0,Z.lm)(),eh=i.enableOverlay??em>=Z.Gy.large,ep=u.useCallback(e=>{V("FILE_TREE.SEARCH_RESULT_CLICK"),d?.(e),k(!1)},[V,d]),eg=(e,t,n)=>s?s(e,t,n):P({path:e,action:t?"tree":"blob",hash:n}),{containerRef:ey}=(0,Y.G)({bindKeys:J.z0.ArrowVertical|J.z0.HomeAndEnd,focusInStrategy:"previous"},[E,L]);u.useEffect(()=>{v||k(!1)},[v]),u.useEffect(()=>{document.activeElement!==w.current&&eh&&k(!1)},[M,w,eh]);let ex=$?.slice(0,20)||[],e_=$&&$.length>ex.length,ev=!i.disableNavigation,eb=ei.current?.getBoundingClientRect().width,eC=(0,a.jsx)(b.A,{sx:{maxHeight:eh?"180px":"100% !important",width:eh?eb:"100%"},className:ed.Box,children:L?(0,a.jsx)(c.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,a.jsxs)(X.l,{ref:ey,sx:{p:eh?2:3,pr:3*!!eh,pt:eh?3:"2px !important",...e},role:"listbox",className:ed.ActionList,children:[!E&&ex.map((e,t)=>{let n=A.includes(e),r=eg(e,n,D?`L${D}`:"");return(0,a.jsx)(ef,{active:!1,index:t,focused:en&&Q===t,match:e,onRender:l,query:F,onClick:ep,isDirectory:n,to:r,useOverlay:eh,listRef:ey,noAnchor:i.disableNavigation},e)}),0===ex.length&&(0,a.jsx)("div",{role:"status",className:"text-center fgColor-muted",children:"No matches found"})]})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:n,ref:ei,sx:f,children:(0,a.jsx)(el,{ariaActiveDescendant:(!eh&&v||eh&&T)&&en&&Q>-1?e_&&Q===ex.length?"see-all-results-link":`file-result-${Q}`:void 0,ariaExpanded:eh?T:void 0,ariaHasPopup:eh,ariaControls:eh?eo:void 0,ref:w,loading:E,query:v,onKeyDown:e=>{let{key:t,shiftKey:n,metaKey:a,altKey:r,ctrlKey:i}=e;if(!n&&!a&&!r){if("Escape"===t)v?(es("FILE_TREE.CANCEL_SEARCH"),C(""),O()):document.activeElement&&document.activeElement.blur();else if(!v)return;else if("Enter"===t){if(!_&&e_&&Q===ex.length)ev&&q((0,K.Y8Y)({owner:j.ownerLogin,repo:j.name,searchTerm:`path:${F}`})),d?.();else if(ex[Q]){let e=ex[Q];ev&&q(eg(ex[Q],!1,D?`L${D}`:"")),k(!1),d?.(e)}}else if("ArrowDown"===t||i&&"n"===t){if(!_&&e_&&Q>=ex.length-1){if(et(ex.length),er.current&&ey.current){let e=(0,G.U)(ey.current);(0,J.Rt)(er.current,e,{behavior:"instant"})}}else et(Math.min(Q+1,ex.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){et(Math.max(Q-1,0)),e.preventDefault();return}}},onPreload:()=>I(!0),onSearch:e=>{C(e),e?k(!0):(O(),k(!1)),et(0)},onBlur:e=>{ey.current?.contains(e.relatedTarget)||(k(!1),ea(!1))},onFocus:()=>{v&&k(!0),ea(!0)},searchPlaceholder:i.searchPlaceholder,className:ed.FilesSearchBox})}),eh&&ex.length>0&&(0,a.jsx)(ee.T,{anchorRef:ei,open:eh&&T,renderAnchor:null,onClose:()=>{k(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},align:"end",overlayProps:{id:eo,role:"dialog"},children:eC}),!eh&&v&&eC]})}let eh=({active:e,focused:t,index:n,match:r,query:i,to:o,isDirectory:s,onClick:l,onRender:c,useOverlay:d,listRef:m,noAnchor:h})=>{let p=(0,et.Xq)(i,r);c?.();let g=u.useRef(null);u.useEffect(()=>{if(t&&g.current&&m?.current){let e=(0,G.U)(m.current);(0,J.Rt)(g.current,e,{behavior:"instant"})}},[t,m]);let f={};t&&(f={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"});let y={id:`file-result-${n}`,active:e,onSelect:(0,u.useCallback)(()=>{l?.(r)},[r,l]),sx:{fontWeight:"normal",":hover":{textDecoration:"none"},mx:"2px",width:"calc(100% - 4px)",...f},role:"option","data-focus-visible-added":t||void 0,tabIndex:d?-1:0},x=(0,a.jsx)("div",{className:"d-flex",children:(0,a.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,a.jsx)(ey,{text:r,positionsList:p,LeadingIcon:s?ep:eg,className:ed.HighlightMatch})})});return h?(0,a.jsx)(X.l.Item,{...y,children:x},r):(0,a.jsx)(X.l.LinkItem,{...y,ref:g,as:Q.N,to:o,children:x},r)},ep=()=>(0,a.jsx)(j.A,{"aria-label":"Directory",icon:d.FileDirectoryFillIcon,size:"small",className:ed.Octicon}),eg=()=>(0,a.jsx)(j.A,{"aria-label":"File",icon:d.FileIcon,className:"fgColor-muted mr-2",size:"small"}),ef=u.memo(eh);function ey({className:e,text:t,positionsList:n,sx:r,LeadingIcon:i}){let o=[],s=0;for(let e of n){if(Number(e)!==e||e<s||e>t.length)continue;let n=t.slice(s,e);n&&o.push(ex(n)),s=e+1,o.push((0,a.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:t[e]},e))}return o.push(ex(t.slice(s))),(0,a.jsx)(b.A,{className:e,sx:r,children:(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(i,{}),o]})})}function ex(e){return e.replaceAll("/","/\u200B")}try{em.displayName||(em.displayName="FileResultsList")}catch{}try{eh.displayName||(eh.displayName="FileResultRow")}catch{}try{ep.displayName||(ep.displayName="DirectoryIcon")}catch{}try{eg.displayName||(eg.displayName="FileResultIcon")}catch{}try{ef.displayName||(ef.displayName="MemoizedFileResultRow")}catch{}try{ey.displayName||(ey.displayName="HighlightMatch")}catch{}let e_={dialogHeader:"MultiFilePicker-module__dialogHeader--CApsB",Box:"MultiFilePicker-module__Box--gINxM",Dialog:"MultiFilePicker-module__Dialog--ls9MF"};var ev=n(73017),eb=n(35247);function eC({currentRepo:e,setLocalFormData:t,fetchError:n,onFileCountChange:r,processingTime:i,expandedPath:o}){let[s,l]=(0,u.useState)(()=>new Set),[c,d]=(0,u.useState)(()=>new Set),{list:m,directories:p,loading:g}=(0,h.o)(e.commitOID,!0),[f,y]=(0,u.useState)([]);(0,u.useEffect)(()=>{y(function e(t,n){let a=t[n];return a?a.items.map(n=>({data:n,items:"directory"===n.contentType?e(t,n.path):[]})).sort((e,t)=>"directory"===e.data.contentType&&"directory"!==t.data.contentType?-1:"directory"!==e.data.contentType&&"directory"===t.data.contentType?1:e.data.name.localeCompare(t.data.name)):[]}(function(e){let{paths:t,directories:n}=e,a={},r=new Set(n);for(let e of(a[""]={items:[],totalCount:0},[...n].sort())){let t=e.substring(0,e.lastIndexOf("/"))||"",n={name:e.substring(e.lastIndexOf("/")+1),path:e,contentType:"directory"};a[t]||(a[t]={items:[],totalCount:0}),a[t].items.push(n),a[e]||(a[e]={items:[],totalCount:0})}for(let e of t.filter(e=>!r.has(e)).sort()){let t=e.substring(0,e.lastIndexOf("/"))||"",n={name:e.substring(e.lastIndexOf("/")+1),path:e,contentType:"file"};a[t]||(a[t]={items:[],totalCount:0}),a[t].items.push(n)}for(let e in a){let t=a[e];t&&t.items.sort((e,t)=>"directory"===e.contentType&&"directory"!==t.contentType?-1:"directory"!==e.contentType&&"directory"===t.contentType?1:e.name.localeCompare(t.name))}let i=e=>{let t=a[e];return t?t.items.reduce((e,t)=>"directory"===t.contentType?e+1+i(t.path):e+1,0):0};for(let e in a){let t=a[e];t&&(t.totalCount=i(e))}return a}({paths:m,directories:p}),"")),d(new Set(p))},[m,p,y,e.commitOID]),(0,u.useEffect)(()=>{let n=Array.from(s).filter(e=>!c.has(e));r?.(n.length),t(n.map(t=>({id:`${e.id}-${t}`,repositoryId:e.id,nwo:`${e.ownerLogin}/${e.name}`,filePath:t,type:"github_file"})))},[s,c,e,t,r]);let x=(0,u.useCallback)(t=>`/${e.name}/${e.ownerLogin}/tree/${e.refInfo.name}/${t.path}`,[e]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:e_.Box,children:(0,a.jsx)(D,{rootItems:f,expandedPath:o,selectedItemRef:()=>{},setRootItems:y,navigateOnClick:!1,directoryNavigateOnClick:!1,selectedItems:s,onSelectionChange:l,processingTime:i,loading:g||!1,fetchError:!!n,getItemUrl:x,sortDirectoryItems:e=>e.sort((e,t)=>e.data.name.localeCompare(t.data.name))})})})}function ej({onClose:e}){return(0,a.jsx)(r.K,{icon:d.XIcon,"aria-label":"Close",onClick:e,variant:"invisible"})}function eS({formData:e,onCancel:t,onSaveFiles:n,onSaveRepository:h,findFileWorkerPath:p,attachmentButtonRef:g,owner:f,resourceCounts:y,initialRepo:x,onRepoSelect:_,hideBackButton:v=!1}){let[b,C]=(0,u.useState)({}),[j,S]=(0,u.useState)(null),[w,N]=(0,u.useState)(x||null),[I,k]=(0,u.useState)(!0),[R,A]=(0,u.useState)(e),[E]=(0,u.useState)(0),[L,M]=(0,u.useState)(!1),[P,F]=(0,u.useState)(null),[D,$]=(0,u.useState)(""),[W,H]=(0,u.useState)(0),G=(0,u.useRef)(!1),K=eb.W.spacesRepoContext,Q=async e=>{let t;if(G.current=!0,b[e]){N(t=b[e]),_?.(t);return}try{t=await (0,m.V)(e),C(n=>({...n,[e]:t})),N(t),_?.(t),k(!1)}catch(e){S(e instanceof Error?e.message:"An unknown error occurred")}G.current=!1},Z=()=>{_?.(null),N(null),A([]),k(!0)},J=!1,Y=void 0!==y;J=Y?y.currentResourceCount+W>y.maxResourceCount:W>50;let X=async()=>{if(M(!0),K&&0===W&&w)try{(0,T.BI)("copilot-spaces.click",{target:"SAVED_REPOSITORY_FROM_FILE_PICKER"}),h({type:"repository",id:`${w.id}`,repositoryId:w.id,nwo:`${w.ownerLogin}/${w.name}`,ownerAvatarUrl:w.ownerAvatarUrl,ownerType:w.ownerType,markedForDestroy:!1});return}catch{F("Could not save repository. Please try again.")}finally{M(!1)}if(J)return void M(!1);try{(0,T.BI)("copilot-spaces.click",{target:"SAVED_FILES_FROM_FILE_PICKER"}),await n(R)}catch(t){let e="An unknown error occurred";if(t&&"object"==typeof t&&"base"in t&&"string"==typeof t.base)if(t.base.startsWith("unsupported_file_type")&&"files"in t){let n=t.files;if(1===n.length)e=`This file can't be submitted: ${n[0]}. Only supported file types are allowed.`;else{let[t,a]=[n.slice(0,3),n.slice(3)];e="One or more files can't be submitted: "+t.map(e=>(function(e,t=30){let n=e.length<=t?e:`...${e.slice(e.length-t,e.length)}`;return`<b>${n}</b>`})(e)).join(", "),a.length>0?e+=`, and ${a.length} more.`:e+=".",e+=" Only supported file types are allowed."}}else e=t.base;e.startsWith("The size of the space exceeds the current limit")&&(e="The size of the space exceeds the current limit"),F(e)}finally{M(!1)}};(0,u.useEffect)(()=>{F(null)},[R]);let ee=J&&(Y?`${y.currentResourceCount+W} / ${y.maxResourceCount} possible sources selected, add fewer files.`:"Up to 50 files can be added at a time.");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.X1,{selectionVariant:"instant",open:!w&&I,onOpenChange:e=>{G.current||(k(e),t())},selectedRepoIds:new Set,onSelectRepo:async e=>{e&&(A([]),(0,T.BI)("copilot-spaces.click",{target:"SELECTED_REPO_FROM_REPO_PICKER"}),await Q(e))},cancelReturnFocusRef:g,submitReturnFocusRef:g,error:j??void 0,ownerDisplayLogin:f,includeForks:!0}),w&&(0,a.jsx)(i.l,{onClose:t,title:`Add files from ${w.ownerLogin}/${w.name}`,width:"large",position:{narrow:"fullscreen"},renderHeader:({onClose:e})=>(0,a.jsxs)(i.l.Header,{children:[(0,a.jsx)("div",{className:e_.dialogHeader,children:(0,a.jsx)(i.l.Title,{children:(0,a.jsxs)(o.B,{align:"center",direction:"horizontal",gap:"none",children:[!v&&(0,a.jsx)(o.B.Item,{children:(0,a.jsx)(r.K,{icon:d.ArrowLeftIcon,"aria-label":"Back",onClick:Z,variant:"invisible"})}),(0,a.jsxs)(o.B.Item,{grow:!0,className:"mx-1",children:["Select folders and files in ",w.ownerLogin,"/",w.name]}),(0,a.jsx)(o.B.Item,{children:(0,a.jsx)(ej,{onClose:()=>e("close-button")})})]})})}),(0,a.jsx)(i.l.Subtitle,{className:"mt-0",children:(0,a.jsx)(B.d,{repository:w,children:(0,a.jsx)(U.Ck,{children:(0,a.jsx)(z.qV,{refInfo:{name:w.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:w.commitOID},path:"test",action:"tree",copilotAccessAllowed:!0,children:(0,a.jsx)(V.$,{allShortcutsEnabled:!1,children:(0,a.jsx)(em,{commitOid:w.commitOID,findFileWorkerPath:p,onItemSelected:e=>{e&&$(e)},config:{enableOverlay:!0,disableNavigation:!0,searchPlaceholder:"Search for files or folders",actionText:"Search for files or folders"}})})})})})})]}),renderFooter:()=>(0,a.jsxs)(i.l.Footer,{children:[(0,a.jsx)("div",{className:"d-flex flex-items-center",children:ee&&(0,a.jsx)(s.A.Validation,{variant:"error",children:ee})}),(0,a.jsxs)("div",{className:"d-flex flex-row flex-justify-end gap-2",children:[(0,a.jsx)(l.Q,{onClick:t,children:"Cancel"}),(0,a.jsxs)(l.Q,{...(0,q.G)("save-resource-button"),variant:"primary",onClick:X,count:L?void 0:W||void 0,loading:L,children:["Add ",(0,a.jsx)("span",{children:K&&0===W?"repository":""})]})]})]}),renderBody:()=>(0,a.jsxs)("div",{className:"d-flex flex-column",children:[j&&(0,a.jsx)("span",{children:j}),P&&(0,a.jsx)("div",{className:"position-sticky top-0 bgColor-default flash-banner",children:(0,a.jsx)(c.A,{full:!0,variant:"danger",children:(0,a.jsx)(ev.JR,{as:"span",html:P})})}),(0,a.jsx)(B.d,{repository:w,children:(0,a.jsx)(U.Ck,{children:(0,a.jsx)(z.qV,{refInfo:{name:w.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:w.commitOID},path:"test",action:"tree",copilotAccessAllowed:!0,children:(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(eC,{expandedPath:D,currentRepo:w,localFormData:R,setLocalFormData:A,onFileCountChange:H,fetchError:j,processingTime:E})})})})})]}),className:e_.Dialog})]})}try{eC.displayName||(eC.displayName="FilePickerForm")}catch{}try{ej.displayName||(ej.displayName="CloseButton")}catch{}try{eS.displayName||(eS.displayName="MultiFilePicker")}catch{}},44956:(e,t,n)=>{n.d(t,{m:()=>o});var a=n(74848),r=n(55847);let i={footerContainer:"SpaceDialogFooter-module__footerContainer--J2LGP"};function o({onSave:e,onCancel:t,isLoading:n=!1,loadingAnnouncement:o="",disabled:s=!1}){return(0,a.jsxs)("div",{className:i.footerContainer,children:[(0,a.jsx)(r.Q,{variant:"default",onClick:t,children:"Cancel"}),(0,a.jsx)(r.Q,{variant:"primary",loading:n,loadingAnnouncement:o,onClick:e,disabled:s||n,children:"Save"})]})}try{o.displayName||(o.displayName="SpaceDialogFooter")}catch{}},6236:(e,t,n)=>{n.d(t,{E:()=>u});var a=n(74848),r=n(77430),i=n(96379),o=n(5945),s=n(65029),l=n(52446),c=n(96540);let d={ownerDropdownOverlay:"SpacesOwnerDropdown-module__ownerDropdownOverlay--bEFXy",ownerListGroup:"SpacesOwnerDropdown-module__ownerListGroup--U2Z7L",errorListItem:"SpacesOwnerDropdown-module__errorListItem--eq64y"};function u({onSelect:e,showCaption:t=!0,required:n=!1}){let[u,m]=(0,c.useState)([]),[h,p]=(0,c.useState)(!1),[g,f]=(0,c.useState)(void 0),y=(0,c.useCallback)(t=>{f(t),e(t)},[e]),x=(0,c.useCallback)(()=>{m([]),p(!0)},[]);return(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,i.lS)("/github-copilot/chat/custom_copilots_owners"),t=await e.json(),n=t?.owners;if(!e.ok||!n)return void x();m(n),n[0]&&y(n[0])}catch{x()}})()},[x,y]),(0,a.jsxs)(s.A,{children:[(0,a.jsx)(s.A.Label,{required:n,children:"Owner"}),(0,a.jsxs)(o.W,{children:[(()=>{let e=g?.name||"Choose an owner",t=g?(0,a.jsx)(r.r,{src:g.avatarUrl},g.avatarUrl):void 0;return(0,a.jsx)(o.W.Button,{"data-testid":"owner-dropdown-anchor",alignContent:"start","aria-label":e,leadingVisual:t,children:e})})(),(0,a.jsx)(o.W.Overlay,{responsiveVariant:"fullscreen",width:"large",maxHeight:"large",className:d.ownerDropdownOverlay,children:(0,a.jsx)(l.l,{children:(0,a.jsx)(l.l.Group,{className:d.ownerListGroup,children:(0,a.jsxs)(l.l,{selectionVariant:"single",children:[u&&u.map(e=>{let{name:t,avatarUrl:n,displayName:i}=e;return(0,a.jsxs)(l.l.Item,{selected:t===g?.name,onSelect:()=>y(e),children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(r.r,{src:n})}),t,(0,a.jsx)(l.l.Description,{children:i})]},t)}),!u.length&&!h&&(0,a.jsx)(l.l.Item,{disabled:!0,children:"Fetching owners\u2026"},"fetching-owners"),h&&(0,a.jsx)(l.l.Item,{disabled:!0,className:d.errorListItem,children:"An error occurred while loading owners. Please reopen the dialog to try again."},"error-fetching-owners")]})})})})]}),t&&(0,a.jsx)(s.A.Caption,{children:"Where we will store your space. Once created the space is not transferable."})]})}try{u.displayName||(u.displayName="SpacesOwnerDropdown")}catch{}},78314:(e,t,n)=>{n.d(t,{d:()=>s,t:()=>l});var a=n(74848),r=n(21728),i=n(96540);let o=i.createContext({});function s(e){let t,n=(0,r.c)(3),{repository:i,children:s}=e;return n[0]!==s||n[1]!==i?(t=(0,a.jsxs)(o.Provider,{value:i,children:[" ",s," "]}),n[0]=s,n[1]=i,n[2]=t):t=n[2],t}function l(){return i.useContext(o)}try{o.displayName||(o.displayName="CurrentRepositoryContext")}catch{}try{s.displayName||(s.displayName="CurrentRepositoryProvider")}catch{}},35898:(e,t,n)=>{n.d(t,{Q:()=>s,i:()=>l});var a=n(74848),r=n(21728),i=n(96540);let o=i.createContext(void 0);function s(e){let t,n=(0,r.c)(3),{user:i,children:s}=e;return n[0]!==s||n[1]!==i?(t=(0,a.jsxs)(o.Provider,{value:i,children:[" ",s," "]}),n[0]=s,n[1]=i,n[2]=t):t=n[2],t}function l(){return i.useContext(o)}try{o.displayName||(o.displayName="CurrentUserContext")}catch{}try{s.displayName||(s.displayName="CurrentUserProvider")}catch{}},18022:(e,t,n)=>{n.d(t,{v:()=>d});var a,r=n(74848),i=n(18651),o=n(87330),s=n(94977),l=n(96540);let c={IconButtonWithTooltipContainer:"IconButtonWithTooltip-module__IconButtonWithTooltipContainer--lPsvO"},d=(0,l.forwardRef)(({label:e,hideTooltip:t,icon:n,shortcut:a,sx:d,tooltipDirection:u,...m},h)=>{let p=(0,l.useCallback)(()=>{let o={display:"flex"};return u?.includes("w")&&(o={...o,pl:2,ml:-2}),u?.includes("e")&&(o={...o,pr:2,mr:-2}),u?.includes("s")&&(o={...o,pb:2,mb:-2}),(u?.includes("n")||!u)&&(o={...o,pt:2,mt:-2}),t?(0,r.jsx)(n,{}):(0,r.jsx)(s.A,{"aria-label":`${e}${a?` ${a.split(" ").map(e=>`<${e.replaceAll("Mod",(0,i.U0)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`:""}`,className:"icon-button-with-tooltip__tooltip",direction:u,sx:o,children:(0,r.jsx)(n,{})})},[t,e,a,u,n]);return(0,r.jsx)(o.K,{unsafeDisableTooltip:!0,ref:h,icon:p,"aria-keyshortcuts":a?a.replaceAll("{CMD_CTRL}",(0,i.U0)()?"Command":"Control"):void 0,sx:d,...m,"aria-label":e,className:c.IconButtonWithTooltipContainer})});d.displayName="IconButtonWithTooltip";try{(a=TooltippedIcon).displayName||(a.displayName="TooltippedIcon")}catch{}},49851:(e,t,n)=>{n.d(t,{Dy:()=>l,GS:()=>i,KJ:()=>o,LP:()=>c,OZ:()=>d});var a=n(74848),r=n(21728);let i=e=>{let t,n,i,o,s,l=(0,r.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M.5 6v4.5A2.5 2.5 0 0 0 3 13h1.645a3.5 3.5 0 0 1-.11-1.5H3a1 1 0 0 1-1-1V6zM14 6v4.5a1 1 0 0 1-1 1h-1.535a3.5 3.5 0 0 1-.11 1.5H13a2.5 2.5 0 0 0 2.5-2.5V6zm-4 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"}),o=(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.5 10V5.5A2.5 2.5 0 0 0 13 3h-1.645a3.5 3.5 0 0 1 .11 1.5H13a1 1 0 0 1 1 1V10zM2 10V5.5a1 1 0 0 1 1-1h1.535a3.5 3.5 0 0 1 .11-1.5H3A2.5 2.5 0 0 0 .5 5.5V10zm4-6a2 2 0 1 1 4 0 2 2 0 0 1-4 0",clipRule:"evenodd"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,a.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},o=e=>{let t,n,i,o,s=(0,r.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.515.456a1.555 1.555 0 00-2.2 0L6.58 6.19a1.556 1.556 0 00-.396.673l-.825 2.89a.667.667 0 00.824.824l2.89-.826c.254-.072.485-.209.672-.396l5.735-5.734a1.556 1.556 0 000-2.2l-.965-.965zm-1.257.942a.222.222 0 01.314 0l.965.966a.222.222 0 010 .314L13.415 3.8l-1.28-1.28 1.123-1.122zm-2.065 2.066l1.279 1.279-3.67 3.67a.221.221 0 01-.096.056l-1.736.496.496-1.736c.01-.036.03-.07.057-.096l3.67-3.67zM1.639 4.778a2.25 2.25 0 012.25-2.25h3.154a.75.75 0 000-1.5H3.889a3.75 3.75 0 00-3.75 3.75v7.333a3.75 3.75 0 003.75 3.75h7.333a3.75 3.75 0 003.75-3.75V8.445a.75.75 0 00-1.5 0v3.666a2.25 2.25 0 01-2.25 2.25H3.889a2.25 2.25 0 01-2.25-2.25V4.778z",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,a.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},s=e=>{let t,n,i,o,s=(0,r.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 .5H3A2.5 2.5 0 0 0 .5 3v10A2.5 2.5 0 0 0 3 15.5h10a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 13 .5M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm6 6.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M12.25 5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 12.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,a.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},l=e=>{let t,n,i,o,s,l=(0,r.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,a.jsx)("path",{d:"M7.41299 14.25H1.75C1.19772 14.25 0.75 13.8023 0.75 13.25V2.75C0.75 2.19772 1.19772 1.75 1.75 1.75H5C5.31476 1.75 5.61115 1.89819 5.8 2.15L6.7 3.35C6.88885 3.60181 7.18524 3.75 7.5 3.75H14.25C14.8023 3.75 15.25 4.19772 15.25 4.75V8.48779",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),o=(0,a.jsx)("path",{d:"M12.265 9.15977C12.3446 8.94235 12.6521 8.94235 12.7317 9.15977L12.9693 9.80865C13.3464 10.8387 14.158 11.6503 15.1881 12.0274L15.8369 12.265C16.0544 12.3446 16.0544 12.6521 15.8369 12.7317L15.1881 12.9692C14.158 13.3463 13.3464 14.158 12.9693 15.188L12.7317 15.8369C12.6521 16.0543 12.3446 16.0543 12.265 15.8369L12.0275 15.188C11.6504 14.158 10.8387 13.3463 9.80871 12.9692L9.15983 12.7317C8.94241 12.6521 8.94241 12.3446 9.15983 12.265L9.80871 12.0274C10.8387 11.6503 11.6504 10.8387 12.0275 9.80865L12.265 9.15977Z",fill:"currentColor"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,a.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},c=e=>{let t,n,i,o,s,l=(0,r.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,a.jsx)("path",{d:"M16.0376 9.67565V5.82038C16.0376 5.69043 15.9257 5.58508 15.7876 5.58508H11.6914C11.4687 5.58508 11.3571 5.83853 11.5146 5.98676L15.6108 9.84196C15.7683 9.99019 16.0376 9.88525 16.0376 9.67565Z",fill:"currentColor"}),o=(0,a.jsx)("path",{d:"M1.89601 3.25629C4.26064 1.03075 8.04807 0.960969 10.5015 3.04765L10.7339 3.25629L10.7857 3.3096C11.0259 3.58685 11.0085 3.99602 10.7339 4.25445C10.4593 4.51252 10.0254 4.52825 9.73097 4.30225L9.67336 4.25445L9.4966 4.09544C7.63201 2.50983 4.75358 2.56313 2.95656 4.25445C1.10158 6.00031 1.10158 8.83023 2.95656 10.5761C4.81155 12.322 7.8184 12.3219 9.67336 10.5761L13.563 6.91622C13.8559 6.64063 14.3307 6.64058 14.6236 6.91622C14.9163 7.19186 14.9163 7.63873 14.6236 7.91438L10.7339 11.5752C8.29328 13.8718 4.33667 13.8718 1.89601 11.5752C-0.544758 9.27799 -0.544771 5.55349 1.89601 3.25629Z",fill:"currentColor"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,a.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},d={compose:o,dice:s,loops:c,node:i,spaces:l};try{i.displayName||(i.displayName="NodeIcon")}catch{}try{o.displayName||(o.displayName="ComposeIcon")}catch{}try{s.displayName||(s.displayName="DiceIcon")}catch{}try{l.displayName||(l.displayName="SpacesIcon")}catch{}try{c.displayName||(c.displayName="LoopsIcon")}catch{}},82595:(e,t,n)=>{n.d(t,{I:()=>d});var a=n(74848),r=n(21728),i=n(34164),o=n(49851),s=n(38621);let l={container:"Icon-module__container--stxcA",customColor:"Icon-module__customColor--dELU9",hasBackground:"Icon-module__hasBackground--xipmb",auburn:"Icon-module__auburn--YGPGc",blue:"Icon-module__blue--YHcrq",brown:"Icon-module__brown--HcCTh",coral:"Icon-module__coral--oTikb",cyan:"Icon-module__cyan--h419p",gray:"Icon-module__gray--VfK1C",green:"Icon-module__green--DZFaM",indigo:"Icon-module__indigo--VVAUE",lemon:"Icon-module__lemon--pOsfR",lime:"Icon-module__lime--qwkv8",olive:"Icon-module__olive--UDJGA",orange:"Icon-module__orange--Zpvu1",pine:"Icon-module__pine--w0tcb",pink:"Icon-module__pink--ai8ga",plum:"Icon-module__plum--IYN4u",purple:"Icon-module__purple--rFSpj",red:"Icon-module__red--OLgIH",teal:"Icon-module__teal--eysuL",yellow:"Icon-module__yellow--UE4Kb"},c=new Set(Object.keys(l).filter(e=>!["container","hasBackground","customColor"].includes(e)));function d(e){let t,n,d,u,m,h,p=(0,r.c)(19),{icon:g,hasBackground:f,color:y,size:x,className:_}=e,v=void 0!==f&&f,b=void 0===y?"gray":y,C=void 0===x?16:x;if("string"==typeof g)if(g in o.OZ)t=o.OZ[g];else{let e;p[0]!==g?(e=function(e){let t=`${e.replaceAll(/(?:^|-)(\w)/g,(e,t)=>t.toUpperCase())}Icon`;return t in s?s[t]:void 0}(g),p[0]=g,p[1]=e):e=p[1],t=e}else t=g;if(!t)return null;p[2]!==b?(n=c.has(b),p[2]=b,p[3]=n):n=p[3];let j=n,S=`${v?2*C:C}px`;p[4]!==b||p[5]!==j||p[6]!==S?(d={"--custom-size":S},j||(d["--custom-color"]=b),p[4]=b,p[5]=j,p[6]=S,p[7]=d):d=p[7];let w=j?l[b]:l.customColor,N=v&&l.hasBackground;return p[8]!==_||p[9]!==w||p[10]!==N?(u=(0,i.$)(l.container,w,N,_),p[8]=_,p[9]=w,p[10]=N,p[11]=u):u=p[11],p[12]!==t||p[13]!==C?(m=(0,a.jsx)(t,{size:C,fill:"currentColor"}),p[12]=t,p[13]=C,p[14]=m):m=p[14],p[15]!==d||p[16]!==u||p[17]!==m?(h=(0,a.jsx)("div",{style:d,className:u,children:m}),p[15]=d,p[16]=u,p[17]=m,p[18]=h):h=p[18],h}try{d.displayName||(d.displayName="Icon")}catch{}},94195:(e,t,n)=>{n.d(t,{Gy:()=>c,LB:()=>p,nn:()=>g,lm:()=>m});var a=n(74848),r=n(96540);let i=null,o=null,s=new Set;function l(e){return s.add(e),i||(i=new ResizeObserver(()=>{o||(o=requestAnimationFrame(()=>{for(let e of(o=null,s))e()}))})).observe(document.documentElement),()=>{s.delete(e),0===s.size&&i&&(i.disconnect(),i=null)}}let c={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},d=[c.xxxxlarge,c.xxxlarge,c.xxlarge,c.xlarge,c.large,c.medium,c.small],u=r.createContext({screenSize:c.small});function m(){return r.useContext(u)}function h(){return g(window.innerWidth)}function p({children:e,initialValue:t=c.small}){let n=(0,r.useSyncExternalStore)(l,h,(0,r.useCallback)(()=>t,[t])),i=(0,r.useMemo)(()=>({screenSize:n}),[n]);return(0,a.jsx)(u.Provider,{value:i,children:e})}function g(e){for(let t of d)if(e>=t)return t;return c.small}try{u.displayName||(u.displayName="ScreenContext")}catch{}try{p.displayName||(p.displayName="ScreenSizeProvider")}catch{}},33544:(e,t,n)=>{n.d(t,{x:()=>f});var a=n(74848),r=n(38621),i=n(75177),o=n(69410),s=n(81246),l=n(5945),c=n(52446),d=n(85788),u=n(96540),m=n(11083),h=n(62227),p=n(34164),g=n(69599);function f({className:e,portalContainerName:t,protectedOrgs:n,maxVisibleOrgNames:l=3,redirectURI:c,useFullWidthStyle:f,forceWrap:_,sx:v}){let b=(0,d.zy)(),C=(0,u.useRef)(!1);if((0,u.useEffect)(()=>{(0,g.G7)("record_sso_banner_metrics")&&!C.current&&n&&n.length>0&&((0,m.i)({incrementKey:(0,g.G7)("global_sso_banner")?"LEGACY_SSO_BANNER_DISPLAYED_WITH_GLOBAL_BANNER_ENABLED":"LEGACY_SSO_BANNER_DISPLAYED",requestUrl:window.location.href}),C.current=!0)},[n]),!n||0===n.length)return null;let j=Math.max(0,n.length-l),S=1===n.length||j>0?(0,a.jsx)("b",{children:n.slice(0,l).join(", ")}):(0,a.jsxs)("span",{children:[(0,a.jsx)("b",{children:n.slice(0,n.length-1).join(", ")}),n.length>2&&","," and ",(0,a.jsx)("b",{children:n[n.length-1]})]});return(0,a.jsx)(i.A,{sx:v,className:e,"data-testid":"sso-banner",children:(0,a.jsx)("div",{className:h.A.Box,children:(0,a.jsx)("section",{"aria-label":"Single sign-on information",children:(0,a.jsx)(o.A,{sx:{borderRadius:2*!f,borderWidth:f?"1px 0":1},className:h.A.Flash,children:1===n.length?(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ShieldLockIcon,{className:h.A.ShieldLockIcon}),(0,a.jsx)(s.A,{inline:!0,href:`/orgs/${n[0]}/sso?return_to=${x({location:b,redirectURI:c})}`,children:"Single sign-on"})," ","to see results in the ",(0,a.jsx)("b",{children:n[0]})," organization."]}):(0,a.jsxs)("div",{className:h.A.Box_1,children:[(0,a.jsx)(r.ShieldLockIcon,{className:h.A.Octicon}),(0,a.jsxs)("div",{className:(0,p.$)(h.A.Box_2,_&&h.A.ForceWrap),children:[(0,a.jsxs)("p",{className:h.A.ProtectedOrgs_FullList,children:["Single sign-on to see results in ",0===j&&"the ",l>0&&(0,a.jsxs)(a.Fragment,{children:[S," "]}),j>0&&(0,a.jsxs)(a.Fragment,{children:[l>0&&"and ",j," other"," "]}),n.length>1&&1!==j?"organizations":"organization","."]}),(0,a.jsx)("p",{className:h.A.ProtectedOrgs_Shortened,children:"Single sign-on to see results in your organizations"}),(0,a.jsx)("div",{style:{flexShrink:0},children:(0,a.jsx)(y,{portalContainerName:t,protectedOrgs:n,redirectURI:c})})]})]})})})})})}function y({portalContainerName:e,protectedOrgs:t,redirectURI:n}){let r=(0,d.zy)();return(0,a.jsxs)(l.W,{children:[(0,a.jsx)(l.W.Button,{size:"small",children:"Select an organization"}),(0,a.jsx)(l.W.Overlay,{portalContainerName:e,children:(0,a.jsx)(c.l,{children:t.map(e=>(0,a.jsx)(c.l.Item,{onSelect:()=>{window.location.href=`/orgs/${encodeURIComponent(e)}/sso?return_to=${x({location:r,redirectURI:n})}`},children:e},`org-${e}`))})})]})}function x({location:e,redirectURI:t}){return encodeURIComponent(t?t(e):e.pathname+e.search+e.hash)}try{f.displayName||(f.displayName="SingleSignOnBanner")}catch{}try{y.displayName||(y.displayName="SingleSignOnButton")}catch{}},77274:(e,t,n)=>{n.d(t,{NE:()=>f,Mm:()=>x,YS:()=>y,mN:()=>b,XF:()=>_,Cf:()=>v});var a=n(74848),r=n(96540),i=n(65029),o=n(75298),s=n(81246),l=n(3614),c=n(55847),d=n(96665),u=n(38621);let m={bodyContainer:"UserFeedback-module__bodyContainer--G2bmg",ratingContainer:"UserFeedback-module__ratingContainer--Mg11z",ratingOption:"UserFeedback-module__ratingOption--ZLoA0",ratingButton:"UserFeedback-module__ratingButton--wgOnk",ratingCaption:"UserFeedback-module__ratingCaption--TCp_8",footerContainer:"UserFeedback-module__footerContainer--wvEjF",footerActionButtonGroup:"UserFeedback-module__footerActionButtonGroup--FzuM1",copyLogsSuccessIcon:"UserFeedback-module__copyLogsSuccessIcon--i0uqN",messageContainer:"UserFeedback-module__messageContainer--FW6dD",validationError:"UserFeedback-module__validationError--e3pDo",privacyText:"UserFeedback-module__privacyText--J0awt",Dialog:"UserFeedback-module__Dialog--n5pi6"},h={verySatisfied:"UserFeedbackColors-module__verySatisfied--HQthN",good:"UserFeedbackColors-module__good--a6lz4",satisfied:"UserFeedbackColors-module__satisfied--R1wkm",dissatisfied:"UserFeedbackColors-module__dissatisfied--fRn_n",veryDissatisfied:"UserFeedbackColors-module__veryDissatisfied--C4vDF",bad:"UserFeedbackColors-module__bad--FROJd"};var p=n(34164);function g({title:e="Give feedback",requestID:t,options:n,returnFocusRef:g,onSubmit:f,onClose:y},x){let[_,v]=(0,r.useState)(null),[b,C]=(0,r.useState)(""),[j,S]=(0,r.useState)([]),[w,N]=(0,r.useState)(0),[I,T]=(0,r.useState)(!1),[k,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{j.length>0&&N(e=>e+1)},[j]),(0,r.useImperativeHandle)(x,()=>({openDialog:e=>{if(null!=e){if(!n.some(t=>t.value===e))throw Error("invalid initial option value");v(e)}T(!0)}}));let A=async e=>{e.preventDefault();let t=[];try{t=await f(_,b)}catch{t=["An error occurred while submitting your feedback."]}S(t),0===t.length&&E()},E=()=>{v(null),C(""),S([]),T(!1),y?.()},L=e=>{C(e.target.value),S([])},M=async()=>{if(t){try{await navigator.clipboard.writeText(`Request ID: ${t}`)}catch{S(e=>[...e,"Failed to copy logs."]);return}R(!0),setTimeout(()=>{R(!1)},1e3)}};return(0,a.jsx)(a.Fragment,{children:I&&(0,a.jsx)(d.l,{onClose:E,title:e,renderBody:()=>(0,a.jsxs)("div",{className:m.bodyContainer,children:[(0,a.jsxs)(i.A,{required:!0,children:[(0,a.jsx)(i.A.Label,{visuallyHidden:!0,children:"Rating"}),(0,a.jsx)("div",{className:m.ratingContainer,children:n.map(e=>(0,a.jsxs)("div",{className:m.ratingOption,children:[(0,a.jsx)("button",{type:"button",role:"radio","aria-label":e.name,"aria-checked":_===e.value,onClick:()=>{v(e.value),S([])},className:(0,p.$)(m.ratingButton,h[e.color]),children:e.icon}),(0,a.jsx)("span",{className:m.ratingCaption,children:e.name})]},e.name))})]}),(0,a.jsxs)("div",{className:m.messageContainer,children:[(0,a.jsxs)(i.A,{children:[(0,a.jsx)(i.A.Label,{children:"Message"}),(0,a.jsx)(o.Ay,{placeholder:"Tell us what you liked or what could be better",value:b,onChange:L,resize:"vertical",block:!0,rows:5})]}),(0,a.jsxs)("span",{className:m.privacyText,children:["Please don\u2019t include sensitive, confidential, or personal data. Your feedback helps us improve our services in line with our"," ",(0,a.jsx)(s.A,{href:"https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement",inline:!0,muted:!0,children:"Privacy Policy"}),"."]}),(0,a.jsx)("div",{className:m.validationError,role:"alert",children:j.map(e=>(0,a.jsx)("div",{children:e},e))},w)]})]}),renderFooter:()=>(0,a.jsxs)("div",{className:m.footerContainer,children:[(0,a.jsx)("div",{children:t&&(0,a.jsx)(l.m,{text:"Copy logs to add in feedback",direction:"n",children:(0,a.jsx)(c.Q,{leadingVisual:k?(0,a.jsx)(u.CheckIcon,{className:m.copyLogsSuccessIcon,size:16}):(0,a.jsx)(u.CopyIcon,{size:16}),onClick:M,variant:"default",children:k?"Copied!":"Copy logs"})})}),(0,a.jsxs)("div",{className:m.footerActionButtonGroup,children:[(0,a.jsx)(c.Q,{onClick:E,children:"Cancel"}),(0,a.jsx)(c.Q,{variant:"primary",type:"submit",onClick:A,children:"Send"})]})]}),className:m.Dialog,returnFocusRef:g})})}let f=(0,r.forwardRef)(g),y=(0,a.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.7C6.15313 9.85483 7.09616 9.3 8 9.3C8.47794 9.3 9.0345 9.50535 9.54632 9.9146C9.83116 10.1424 10.0753 10.4124 10.2645 10.7H5.65646ZM11.8447 11.016C11.3379 9.39273 9.66897 8 8 8C6.30092 8 4.60185 9.23723 4.12902 11.011C3.98676 11.5446 4.44771 12 5 12H11C11.5523 12 12.0093 11.5432 11.8447 11.016Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89649 4.7586C4.02981 4.42529 4.40809 4.26317 4.7414 4.39649L7.00928 5.30364C7.63789 5.55509 7.6379 6.44491 7.00928 6.69636L4.7414 7.60351C4.40809 7.73683 4.02981 7.57471 3.89649 7.2414C3.76317 6.90809 3.92529 6.52981 4.2586 6.39649L5.24982 6L4.2586 5.60351C3.92529 5.47019 3.76317 5.09191 3.89649 4.7586Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1035 4.7586C11.9702 4.42529 11.5919 4.26317 11.2586 4.39649L8.99072 5.30364C8.36211 5.55509 8.3621 6.44491 8.99072 6.69636L11.2586 7.60351C11.5919 7.73683 11.9702 7.57471 12.1035 7.2414C12.2368 6.90809 12.0747 6.52981 11.7414 6.39649L10.7502 6L11.7414 5.60351C12.0747 5.47019 12.2368 5.09191 12.1035 4.7586Z"})]}),x=(0,a.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,a.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,a.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3416 11.8591C9.33064 10.0058 6.66936 10.0058 5.65842 11.8591C5.46007 12.2228 5.0045 12.3568 4.64086 12.1584C4.27722 11.9601 4.14323 11.5045 4.34158 11.1409C5.92104 8.24518 10.079 8.24518 11.6584 11.1409C11.8568 11.5045 11.7228 11.9601 11.3591 12.1584C10.9955 12.3568 10.5399 12.2228 10.3416 11.8591Z"})]}),_=(0,a.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,a.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,a.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 10.5858 5.33579 10.25 5.75 10.25H10.25C10.6642 10.25 11 10.5858 11 11C11 11.4142 10.6642 11.75 10.25 11.75H5.75C5.33579 11.75 5 11.4142 5 11Z"})]}),v=(0,a.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,a.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,a.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3569 9.61413C9.28933 11.3934 6.71067 11.3934 5.64312 9.61413C5.43001 9.25894 4.96931 9.14377 4.61413 9.35688C4.25894 9.56999 4.14377 10.0307 4.35688 10.3859C6.00704 13.1361 9.99296 13.1361 11.6431 10.3859C11.8562 10.0307 11.7411 9.56999 11.3859 9.35688C11.0307 9.14377 10.57 9.25894 10.3569 9.61413Z"})]}),b=(0,a.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.3C6.15313 11.1452 7.09616 11.7 8 11.7C8.47794 11.7 9.0345 11.4947 9.54632 11.0854C9.83116 10.8576 10.0753 10.5876 10.2645 10.3H5.65646ZM11.8447 9.98403C11.3379 11.6073 9.66897 13 8 13C6.30092 13 4.60185 11.7628 4.12902 9.98904C3.98676 9.45539 4.44771 9 5 9H11C11.5523 9 12.0093 9.45684 11.8447 9.98403Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3292 6.83541C10.9875 6.15213 10.0125 6.15213 9.67082 6.83541C9.48558 7.20589 9.03507 7.35606 8.66459 7.17082C8.29411 6.98558 8.14394 6.53507 8.32918 6.16459C9.22361 4.37574 11.7764 4.37574 12.6708 6.16459C12.8561 6.53507 12.7059 6.98558 12.3354 7.17082C11.9649 7.35606 11.5144 7.20589 11.3292 6.83541Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32918 6.83541C5.98754 6.15213 5.01246 6.15213 4.67082 6.83541C4.48558 7.20589 4.03507 7.35606 3.66459 7.17082C3.29411 6.98558 3.14394 6.53507 3.32918 6.16459C4.22361 4.37574 6.77639 4.37574 7.67082 6.16459C7.85606 6.53507 7.70589 6.98558 7.33541 7.17082C6.96493 7.35606 6.51442 7.20589 6.32918 6.83541Z"})]});try{g.displayName||(g.displayName="UserFeedbackInner")}catch{}try{f.displayName||(f.displayName="UserFeedback")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_components_Chat_tsx-packages_icon-button-with-tooltip_IconButtonWithToo-307184-ef5e4e4828fa.js.map