"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["app_assets_modules_marketing_analytics-events_ts"],{95911:(e,t,r)=>{var n=r(97797),o=r(21403),a=r(38102),i=r(53419);let c="data-analytics-event",u="data-analytics-visible",l=`a:not([${c}]), button:not([${c}]), [${c}]`,s=`[${u}]`;function f(e,t){return e.tagName.toLowerCase()===t}function m(e){return{text:e.textContent||e.getAttribute("aria-label")||"",target:e.href}}function d(e){let t=e.closest("form");return{text:e.textContent||e.getAttribute("aria-label")||"",role:e.getAttribute("type")||e.getAttribute("role")||"button",...e.value&&{value:e.value},...t&&{formAction:t.getAttribute("action")||""}}}function g(e){if(!e)return{};let t=JSON.parse(e),{label:r}=t;return{...function(e){if(!e)return{};let t={};for(let r of e.split(";").map(e=>e.trim())){let[e,n]=r.split(":");e&&(t[e.trim()]=n?.trim()||e.trim())}return t}(r),...t}}(0,n.on)("click",l,e=>{if(e&&e.currentTarget)try{(0,i.BI)("analytics.click",function(e){return{...f(e,"a")&&m(e),...f(e,"button")&&d(e),...g(e.getAttribute(c))}}(e.currentTarget)),f(e.currentTarget,"details")&&e.currentTarget.removeAttribute(c)}catch(e){(0,a.N7)(e)}});let p=new IntersectionObserver(function(e){for(let r of e)if(r.isIntersecting)try{var t;(0,i.BI)("analytics.visible",(t=r.target,{...f(t,"a")&&m(t),...f(t,"button")&&d(t),...g(t.getAttribute(u))})),p.unobserve(r.target)}catch(e){(0,a.N7)(e)}},{rootMargin:"0% 0% -30% 0%",threshold:0});(0,o.lB)(s,e=>{p.observe(e)})},38102:(e,t,r)=>{r.d(t,{N7:()=>b});var n=r(36301),o=r(77065),a=r(24212);function i(e){return(0,a.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function c(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}var u=r(99223),l=r(71315),s=r(94416),f=r(69599),m=r(88057);let d=!1,g=0,p=Date.now(),y=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),h=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function b(e,t={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(_.some(t=>e.includes(t)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let r=Error(),n=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);S(w({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${n}`,stacktrace:i(r),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t));return}e.name&&("AbortError"===e.name||y.has(e.name)&&h.has(e.message)||e.name.startsWith("ApiError")&&h.has(e.message))||S(w({type:e.name,value:e.message,stacktrace:i(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t))}async function S(e){if(!(!A&&!d&&g<10&&(0,o.TT)()))return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(e.error.stacktrace.some(e=>v.test(e.filename)||v.test(e.function))){d=!0;return}g++;try{await fetch(t,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function w(e,t={}){let r={...t};return(0,f.G7)("failbot_report_error_react_apps_on_page")&&!r.reactAppName&&(r.reactAppName=function(e){let t=function(){let e=new Set;for(let[t,r]of O)for(let n of document.querySelectorAll(t))if(n instanceof HTMLElement){let t=n.getAttribute(r);t&&e.add(t)}return Array.from(e)}();if(!t||!t.length||!e||!e.length)return;let r=new Set;for(let n of e){if(!n||!n.filename)continue;let e=n.filename.split(/[\\/]/).pop();if(!e||r.has(e))continue;r.add(e);let o=t.find(t=>e.toLowerCase().includes(t.toLowerCase()));if(o)return o}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=c("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=c("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let r=c("meta[name=analytics-location-params]");for(let e of(r&&(t+=(t?"&":"?")+r.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let r=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${r[0]}($|=)`,"g"),`$1${r[1]}$2`)}return t}()}`||window.location.href,readyState:document.readyState,referrer:(0,s.dR)(),timeSinceLoad:Math.round(Date.now()-p),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,n.y)();return`anonymous-${t}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:u.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,m.xA)()},r)}let v=/(chrome|moz|safari)-extension:\/\//,A=!1;l.cg?.addEventListener("pageshow",()=>A=!1),l.cg?.addEventListener("pagehide",()=>A=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{b(e.data.error)});let _=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],O=[["react-app","app-name"],["react-partial","partial-name"]]},53419:(e,t,r)=>{let n;r.d(t,{BI:()=>g,Ti:()=>p,lA:()=>m,sX:()=>d});var o=r(70837),a=r(18679),i=r(82075),c=r(11083);let{getItem:u}=(0,i.A)("localStorage"),l="dimension_",s=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,n=new a.s(e)}catch{}function f(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(l)&&(t[e.replace(l,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))s.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,c.X)().toString(),Object.assign(t,e)}function m(e){n?.sendPageView(f(e))}function d(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function g(e,t={}){let r=d(),o=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(o[e]=`${r}`);n&&(f(o),n.sendEvent(e||"unknown",f(o)))}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},88057:(e,t,r)=>{r.d(t,{Ex:()=>i,kt:()=>u,xA:()=>c});var n=r(71315);let o=Array(10).fill(null),a=0;function i(e){o[a]=e,a=(a+1)%10}function c(){let e=[];for(let t=0;t<10;t++){let r=o[(a-1-t+10)%10];r&&e.push(r)}return e}function u(){let e=n.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),r=t?.getAttribute("content");r&&i(r)}},82075:(e,t,r)=>{r.d(t,{A:()=>i,D:()=>c});var n=r(71315),o=r(11083);let a=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function i(e,t={throwQuotaErrorsOnSet:!1},r=n.cg,c=e=>e,u=e=>e){let l;try{if(!r)throw Error();l=r[e]||new a}catch{l=new a}let{throwQuotaErrorsOnSet:s}=t;function f(e){t.sendCacheStats&&(0,o.i)({incrementKey:e})}function m(e){try{if(l.removeItem(e),t.ttl){let t=`${e}:expiry`;l.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let r=l.getItem(e);if(!r)return null;let n=`${e}:expiry`,o=Number(l.getItem(n));if(o&&t>o)return m(e),m(n),f("SAFE_STORAGE_VALUE_EXPIRED"),null;return f("SAFE_STORAGE_VALUE_WITHIN_TTL"),c(r)}catch{return null}},setItem:function(e,r,n=Date.now()){try{if(l.setItem(e,u(r)),t.ttl){let r=`${e}:expiry`,o=n+t.ttl;l.setItem(r,o.toString())}}catch(e){if(s&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:m,clear:l.clear,getKeys:function(){return Object.keys(l)},get length(){return l.length}}}function c(e){return i(e,{throwQuotaErrorsOnSet:!1},n.cg,JSON.parse,JSON.stringify)}},95800:(e,t,r)=>{r.d(t,{Ai:()=>a,Gq:()=>n,SO:()=>o});let{getItem:n,setItem:o,removeItem:a}=(0,r(82075).A)("sessionStorage")},94416:(e,t,r)=>{r.d(t,{BW:()=>o,Ff:()=>d,HK:()=>S,JA:()=>E,LM:()=>g,Pv:()=>A,Vy:()=>m,ZW:()=>v,dR:()=>w,di:()=>p,fX:()=>_,gc:()=>O,k9:()=>b,my:()=>h,r7:()=>q,wG:()=>y,xT:()=>f});var n=r(95800);let o="reload",a="soft-nav:fail",i="soft-nav:fail-referrer",c="soft-nav:referrer",u="soft-nav:marker",l="soft-nav:react-app-name",s="soft-nav:latest-mechanism";function f(){(0,n.SO)(u,"0"),(0,n.Ai)(c),(0,n.Ai)(a),(0,n.Ai)(i),(0,n.Ai)(l),(0,n.Ai)(s)}function m(e){(0,n.SO)(u,e)}function d(){(0,n.SO)(u,"0")}function g(){let e=(0,n.Gq)(u);return e&&"0"!==e}function p(){return(0,n.Gq)(u)}function y(){return!!h()}function h(){return(0,n.Gq)(a)}function b(e){(0,n.SO)(a,e||o),(0,n.SO)(i,window.location.href)}function S(){(0,n.SO)(c,window.location.href)}function w(){return(0,n.Gq)(c)||document.referrer}function v(){let e=_();e?(0,n.SO)(l,e):(0,n.Ai)(l)}function A(){return(0,n.Gq)(l)}function _(){return document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function O(){return!!document.querySelector("react-app")?.getAttribute("app-name")}function E(e){(0,n.SO)(s,e)}function q(){return(0,n.Gq)(s)}}}]);
//# sourceMappingURL=app_assets_modules_marketing_analytics-events_ts-5dc4f8c76f35.js.map