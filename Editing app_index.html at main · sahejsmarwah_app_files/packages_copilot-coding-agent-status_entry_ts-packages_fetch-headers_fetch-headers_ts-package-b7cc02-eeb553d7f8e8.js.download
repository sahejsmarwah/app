"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-coding-agent-status_entry_ts-packages_fetch-headers_fetch-headers_ts-package-b7cc02"],{87057:(e,t,r)=>{r.d(t,{O:()=>n,S:()=>l});var a=r(71315);let s=a.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",l="X-GitHub-Client-Version";function n(){return s}},33571:(e,t,r)=>{var a=r(7123),s=r(74848),l=r(21728),n=r(34164),i=r(34001),o=r(67154),c=r(78314),d=r(32051),u=r(97189),m=r(81246),f=r(38621),h=r(96540);let p={copilotCard:"CopilotCodingAgentStatus-module__copilotCard--ILAZm",arrowBoth:"CopilotCodingAgentStatus-module__arrowBoth--d8Jfk"};var x=r(77367);function g(e){switch(e){case o.Y.Queued:case o.Y.InProgress:case o.Y.WaitingForUser:case o.Y.Idle:case o.Y.Completed:return(0,s.jsx)(f.CopilotIcon,{size:"small"});case o.Y.Failed:case o.Y.TimedOut:return(0,s.jsx)(f.CopilotWarningIcon,{size:"small",className:"fgColor-danger"});case o.Y.Cancelled:return(0,s.jsx)(f.SquareFillIcon,{size:"small",className:"fgColor-muted"});default:return(0,s.jsx)(f.CopilotIcon,{size:"small"})}}function j(e){let t,r,a,u,j,_,C,v,S,y,N,w,E,k,Y,I,R,A,$,V=(0,l.c)(56),{apiURL:F,sessionsPollingInterval:L}=e;V[0]!==F||V[1]!==L?(t={apiURL:F,initialData:void 0,sessionsPollingInterval:L},V[0]=F,V[1]=L,V[2]=t):t=V[2];let{data:O,isLoading:T,isError:X,timedOut:q,isRetrying:K}=(0,i.t)(t),{ownerLogin:P,name:W}=(0,c.t)(),{pull:B}=(0,d.mV)(),{number:M}=B,[Q,U]=(0,h.useState)(1),[z,H]=(0,h.useState)(!1);V[3]!==Q||V[4]!==q?(r=()=>q?null:`Retrying${".".repeat(Q)}`,V[3]=Q,V[4]=q,V[5]=r):r=V[5];let D=r;if(V[6]!==O||V[7]!==X?(a=()=>{O&&!X?H(!1):X&&H(!0)},u=[O,X],V[6]=O,V[7]=X,V[8]=a,V[9]=u):(a=V[8],u=V[9]),(0,h.useEffect)(a,u),V[10]!==K?(j=()=>{if(!K)return void U(1);let e=setInterval(()=>{U(b)},500);return()=>clearInterval(e)},_=[K],V[10]=K,V[11]=j,V[12]=_):(j=V[11],_=V[12]),(0,h.useEffect)(j,_),V[13]!==D||V[14]!==z||V[15]!==P||V[16]!==M||V[17]!==W||V[18]!==O||V[19]!==T){E=Symbol.for("react.early_return_sentinel");e:{let e=O?.at(0),t=function(e,t,r,a){if(null!=e&&null!=t&&null!=r)return`/${e}/${t}/pull/${r}/agent-sessions/${a||""}`}(P,W,M,e?.id??null);if(T&&!z){let e,t,r,a;V[29]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),V[29]=e):e=V[29],V[30]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)("div",{className:"mr-2 d-flex flex-column flex-content-start flex-items-start circle Skeleton",style:{height:"16px",width:"16px"},children:"\xa0"}),V[30]=t):t=V[30],V[31]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"}),(0,s.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"})]}),V[31]=r):r=V[31],V[32]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsxs)("div",{className:e,"data-testid":"agent-status-loading-skeleton",children:[t,r,(0,s.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,s.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})})]}),V[32]=a):a=V[32],E=a;break e}if(z){let e,t,r,a,l,i;V[33]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),V[33]=e):e=V[33],V[34]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:g(o.Y.Failed)}),V[34]=t):t=V[34],V[35]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:"Error loading sessions"}),V[35]=r):r=V[35];let c=D();V[36]!==c?(a=(0,s.jsxs)("div",{className:"flex-1",children:[r,(0,s.jsx)("p",{className:"mb-0 fgColor-muted text-small",children:c})]}),V[36]=c,V[37]=a):a=V[37],V[38]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,s.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})}),V[38]=l):l=V[38],V[39]!==a?(i=(0,s.jsxs)("div",{className:e,children:[t,a,l]}),V[39]=a,V[40]=i):i=V[40],E=i;break e}C=m.A,y=t,V[41]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),V[41]=N):N=V[41],w=(0,s.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:g(e?.state??o.Y.Idle)}),v="flex-1",S=(0,s.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:function(e){switch(e){case o.Y.Queued:return"Queued for work";case o.Y.InProgress:return"In progress";case o.Y.WaitingForUser:return"Copilot is waiting for your input";case o.Y.Idle:return"Copilot is blocked";case o.Y.Completed:return"Copilot is done";case o.Y.Failed:return"Copilot has failed";case o.Y.TimedOut:return"Copilot has timed out";case o.Y.Cancelled:return"Copilot was manually stopped";default:return"In progress"}}(e?.state??o.Y.Idle)}),k="mb-0 fgColor-muted text-small",Y=e&&function(e,t,r){let a=new Date(t).toISOString(),l=(0,x.Y)(t,r);switch(e){case o.Y.Queued:return(0,s.jsx)("span",{role:"timer",children:(0,s.jsx)("relative-time",{datetime:a,tense:"past"})});case o.Y.Completed:return(0,s.jsxs)("span",{role:"timer",children:["completed after ",(0,s.jsx)("time",{"aria-live":"off",children:l})]});case o.Y.Failed:return(0,s.jsxs)("span",{role:"timer",children:["failed after ",(0,s.jsx)("time",{"aria-live":"off",children:l})]});case o.Y.TimedOut:return(0,s.jsxs)("span",{role:"timer",children:["timed out after ",(0,s.jsx)("time",{"aria-live":"off",children:l})]});case o.Y.Cancelled:return(0,s.jsxs)("span",{role:"timer",children:["session stopped after ",(0,s.jsx)("time",{"aria-live":"off",children:l})]});default:return(0,s.jsxs)("span",{role:"timer",children:["started ",(0,s.jsx)("relative-time",{datetime:a,tense:"past"})]})}}(e?.state,e?.created_at,e?.completed_at??"")}V[13]=D,V[14]=z,V[15]=P,V[16]=M,V[17]=W,V[18]=O,V[19]=T,V[20]=C,V[21]=v,V[22]=S,V[23]=y,V[24]=N,V[25]=w,V[26]=E,V[27]=k,V[28]=Y}else C=V[20],v=V[21],S=V[22],y=V[23],N=V[24],w=V[25],E=V[26],k=V[27],Y=V[28];return E!==Symbol.for("react.early_return_sentinel")?E:(V[42]!==k||V[43]!==Y?(I=(0,s.jsx)("p",{className:k,children:Y}),V[42]=k,V[43]=Y,V[44]=I):I=V[44],V[45]!==v||V[46]!==S||V[47]!==I?(R=(0,s.jsxs)("div",{className:v,children:[S,I]}),V[45]=v,V[46]=S,V[47]=I,V[48]=R):R=V[48],V[49]===Symbol.for("react.memo_cache_sentinel")?(A=(0,s.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,s.jsx)("div",{className:"flex-self-start",children:(0,s.jsx)(f.ArrowBothIcon,{className:`${p.arrowBoth} fgColor-muted`})})}),V[49]=A):A=V[49],V[50]!==C||V[51]!==y||V[52]!==N||V[53]!==w||V[54]!==R?($=(0,s.jsxs)(C,{href:y,className:N,children:[w,R,A]}),V[50]=C,V[51]=y,V[52]=N,V[53]=w,V[54]=R,V[55]=$):$=V[55],$)}function b(e){return e>=3?1:e+1}function _(e){let t,r,a,n=(0,l.c)(9),{repository:i,pull:o,sessionsPollingInterval:m,apiURL:f}=e;return n[0]!==f||n[1]!==m?(t=(0,s.jsx)(j,{apiURL:f,sessionsPollingInterval:m}),n[0]=f,n[1]=m,n[2]=t):t=n[2],n[3]!==o||n[4]!==t?(r=(0,s.jsx)(u.Fn,{children:(0,s.jsx)(d.mE,{pull:o,children:t})}),n[3]=o,n[4]=t,n[5]=r):r=n[5],n[6]!==i||n[7]!==r?(a=(0,s.jsx)(c.d,{repository:i,children:r}),n[6]=i,n[7]=r,n[8]=a):a=n[8],a}try{j.displayName||(j.displayName="CopilotCodingAgentStatusWidget")}catch{}try{_.displayName||(_.displayName="CopilotCodingAgentStatus")}catch{}(0,a.k)("copilot-coding-agent-status",{Component:_})},51987:(e,t,r)=>{r.d(t,{jC:()=>o,kt:()=>n,tV:()=>i});var a=r(87057),s=r(69599),l=r(13523);function n(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,l.wE)(e)};return(0,s.G7)("client_version_header")&&(t={...t,[a.S]:(0,a.O)()}),t}function i(e,t){for(let[r,a]of Object.entries(n(t)))e.set(r,a)}function o(e){return{"X-GitHub-App-Type":e}}},13523:(e,t,r)=>{r.d(t,{$r:()=>n,M1:()=>i,li:()=>s,pS:()=>c,wE:()=>o});var a=r(71315);let s="X-Fetch-Nonce",l=new Set;function n(e){l.add(e)}function i(){return l.values().next().value||""}function o(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[s]=i():l.has(e)?t[s]=e:t[s]=Array.from(l).join(","),t}function c(){let e=a.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&n(e)}},53627:(e,t,r)=>{r.d(t,{C3:()=>i,JV:()=>s,K3:()=>u,MM:()=>o,OE:()=>m,Zu:()=>d,bj:()=>l,jc:()=>c,kd:()=>n});var a=r(71315);function s(){return a.Kn?.state||{}}function l(e){f(s(),"",e)}function n(e){a.Kn?.pushState({appId:s().appId},"",e),h()}function i(e){f({...s(),...e},"",location.href)}function o(e){l(`?${e.toString()}${a.fV.hash}`)}function c(){l(a.fV.pathname+a.fV.hash)}function d(e){l(e.startsWith("#")?e:`#${e}`)}function u(){l(a.fV.pathname+a.fV.search)}function m(){a.Kn?.back()}function f(e,t,r){a.Kn?.replaceState(e,t,r),h()}function h(){a.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},26865:(e,t,r)=>{r.d(t,{Mm:()=>n,QJ:()=>i,b3:()=>l});var a=r(21728),s=r(96540);function l(e){let t=e?.anchor;if(!t)return{};let r=t.getAttribute("data-inital-disabled")?.toLowerCase()==="true";return"disabled"in t&&(t.disabled=r),t.classList.remove("cursor-wait"),{reactPartialAnchor:{__wrapperElement:e}}}function n(e){let t,r,l,n,o=(0,a.c)(7),c=(0,s.useRef)(e.__wrapperElement.anchor||null),[d,u]=(0,s.useState)(!1);o[0]!==d?(t=()=>{u(!d)},o[0]=d,o[1]=t):t=o[1];let m=t;return o[2]!==d?(r=()=>{c.current&&(c.current.setAttribute("aria-expanded",d.toString()),c.current.setAttribute("aria-haspopup","true"))},l=[c,d],o[2]=d,o[3]=r,o[4]=l):(r=o[3],l=o[4]),(0,s.useEffect)(r,l),i(e,m),o[5]!==d?(n={ref:c,open:d,setOpen:u},o[5]=d,o[6]=n):n=o[6],n}function i(e,t){let r,l,n=(0,a.c)(3),i=(0,s.useRef)(e.__wrapperElement.anchor);n[0]!==t?(r=()=>{let e=i.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},l=[i,t],n[0]=t,n[1]=r,n[2]=l):(r=n[1],l=n[2]),(0,s.useEffect)(r,l)}},7123:(e,t,r)=>{r.d(t,{k:()=>h});var a=r(50467),s=r(31635),l=r(74848),n=r(39595),i=r(85788),o=r(18501),c=r(11934),d=r(26865);let u=new(r(86917)).R;var m=r(40558);let f=class ReactPartialElement extends m.H{async getReactNode(e,t){var r;let{Component:a}=await (r=this.name,u.getRegistration(r).promise),s=this.closest("react-partial-anchor"),n=(0,d.b3)(s),m={...e,props:{...e.props,...n}};return(0,l.jsx)(c.f,{appName:this.name,isDataRouterEnabled:!1,children:(0,l.jsx)(c.U,{id:this.name,children:(0,l.jsx)(o.c,{partialName:this.name,wasServerRendered:this.hasSSRContent,onError:t,ssrError:this.ssrError,children:(0,l.jsx)(i.Kd,{children:(0,l.jsx)(i.BV,{children:(0,l.jsx)(i.qh,{path:"*",element:(0,l.jsx)(a,{...m.props})})})})})})})}constructor(...e){super(...e),(0,a._)(this,"nameAttribute","partial-name")}};function h(e,t){return u.register(e,t)}f=(0,s.Cg)([n.p_],f)},18501:(e,t,r)=>{r.d(t,{c:()=>d});var a=r(74848),s=r(21728),l=r(68237),n=r(396),i=r(75202),o=r(5330);let c=[];function d(e){let t,r,d,u,m=(0,s.c)(12),{partialName:f,wasServerRendered:h,onError:p,children:x,ssrError:g}=e;return m[0]!==g?(t=(0,a.jsx)(n.h,{ssrError:g}),m[0]=g,m[1]=t):t=m[1],m[2]!==x||m[3]!==t?(r=(0,a.jsxs)(o.d,{routes:c,children:[x,t]}),m[2]=x,m[3]=t,m[4]=r):r=m[4],m[5]!==p||m[6]!==r?(d=(0,a.jsx)(i.t,{onError:p,children:r}),m[5]=p,m[6]=r,m[7]=d):d=m[7],m[8]!==f||m[9]!==d||m[10]!==h?(u=(0,a.jsx)(l.U,{appName:f,wasServerRendered:h,dataRouterEnabled:!1,children:d}),m[8]=f,m[9]=d,m[10]=h,m[11]=u):u=m[11],u}try{d.displayName||(d.displayName="PartialEntry")}catch{}}}]);
//# sourceMappingURL=packages_copilot-coding-agent-status_entry_ts-packages_fetch-headers_fetch-headers_ts-package-b7cc02-3bd01060905b.js.map