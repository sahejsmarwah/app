"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_fetch-headers_fetch-headers_ts-packages_react-core_register-app_ts"],{52475:(t,e,a)=>{a.d(e,{_S:()=>i,cB:()=>s,cW:()=>o});var r=a(53627),n=a(71315);let i=()=>{let t=(0,r.JV)().appId;return t&&"rails"!==t?t:crypto.randomUUID()},o=t=>{(0,r.C3)({appId:t})},s=()=>{let t=document.querySelector("react-app")||document.querySelector("projects-v2");return t?.uuid||"rails"};n.cg?.addEventListener("hashchange",()=>{(0,r.C3)({appId:s()})},!0)},87057:(t,e,a)=>{a.d(e,{O:()=>o,S:()=>i});var r=a(71315);let n=r.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",i="X-GitHub-Client-Version";function o(){return n}},51987:(t,e,a)=>{a.d(e,{jC:()=>u,kt:()=>o,tV:()=>s});var r=a(87057),n=a(69599),i=a(13523);function o(t){let e={"X-Requested-With":"XMLHttpRequest",...(0,i.wE)(t)};return(0,n.G7)("client_version_header")&&(e={...e,[r.S]:(0,r.O)()}),e}function s(t,e){for(let[a,r]of Object.entries(o(e)))t.set(a,r)}function u(t){return{"X-GitHub-App-Type":t}}},13523:(t,e,a)=>{a.d(e,{$r:()=>o,M1:()=>s,li:()=>n,pS:()=>l,wE:()=>u});var r=a(71315);let n="X-Fetch-Nonce",i=new Set;function o(t){i.add(t)}function s(){return i.values().next().value||""}function u(t){let e={};return void 0!==t&&(e["X-Fetch-Nonce-To-Validate"]=t),void 0===t?e[n]=s():i.has(t)?e[n]=t:e[n]=Array.from(i).join(","),e}function l(){let t=r.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";t&&o(t)}},53627:(t,e,a)=>{a.d(e,{C3:()=>s,JV:()=>n,K3:()=>d,MM:()=>u,OE:()=>h,Zu:()=>c,bj:()=>i,jc:()=>l,kd:()=>o});var r=a(71315);function n(){return r.Kn?.state||{}}function i(t){p(n(),"",t)}function o(t){r.Kn?.pushState({appId:n().appId},"",t),f()}function s(t){p({...n(),...t},"",location.href)}function u(t){i(`?${t.toString()}${r.fV.hash}`)}function l(){i(r.fV.pathname+r.fV.hash)}function c(t){i(t.startsWith("#")?t:`#${t}`)}function d(){i(r.fV.pathname+r.fV.search)}function h(){r.Kn?.back()}function p(t,e,a){r.Kn?.replaceState(t,e,a),f()}function f(){r.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},27744:(t,e,a)=>{a.d(e,{E:()=>r});let r={FETCH_THEN_TRANSITION:"fetch-then-transition",TRANSITION_WHILE_FETCHING:"transition-while-fetch",TRANSITION_WITHOUT_FETCH:"transition-without-fetch"}},86596:(t,e,a)=>{a.d(e,{g:()=>r});let r={Blocking:"Blocking",Deferred:"Deferred"}},4143:(t,e,a)=>{a.d(e,{Wy:()=>QueryRoute,yT:()=>y});var r=a(35750),n=a(18150),i=a(85242),o=a(88243),s=a(16213),u=a(50467),l=a(85788),c=a(71315),d=a(31993),h=a(16235),p=a(86596),f=a(74848),v=a(11934);function m(t,{element:e,Component:a}){if(!e&&!a)return;let r=null;if(void 0!==e?r=(0,f.jsx)(f.Fragment,{children:e}):a&&(r=(0,f.jsx)(a,{})),r)return(0,f.jsx)(v.U,{id:t,children:r})}function y(){return(0,l.FE)()}let g={refetchOnWindowFocus:!1,retry:!1,networkMode:"always",staleTime:864e5},E=200;var S=new WeakMap,_=new WeakMap,w=new WeakSet,b=new WeakMap,N=new WeakSet;let QueryRoute=class QueryRoute{isSameRoute(t){return!!("object"==typeof t&&t&&"id"in t&&"string"==typeof t.id&&t.id===this.id)}generatePath(t,e){return(0,l.AO)({pathname:(0,l.tW)(this.path,t),search:e?.search?new URLSearchParams(e.search).toString():void 0,hash:e?.hash})}constructor(t){(0,s._)(this,w),(0,s._)(this,N),(0,n._)(this,S,{writable:!0,value:void 0}),(0,n._)(this,_,{writable:!0,value:void 0}),(0,u._)(this,"id",void 0),(0,u._)(this,"path",void 0),(0,u._)(this,"queries",void 0),(0,u._)(this,"index",void 0),(0,n._)(this,b,{writable:!0,value:async({request:t,params:e})=>{let a=[],{searchParams:n}=new URL(t.url,c.fV.origin),i=function(t,e){return(0,l.tW)(t,Object.fromEntries(T(e).map(([t,e])=>[t,void 0===e?null:e])))}(this.path,e),s=(0,h.S)(),u=T(this.queries).map(([t,{queryFn:u,queryDeps:l,type:h=p.g.Deferred,staleTimeForNavigation:f=E,...v}])=>{let m=l?.({pathname:i,params:e,searchParams:n})??{},y={appName:(0,r._)(this,S),routeId:this.id,routePath:this.path,queryName:t.toString(),queryDeps:m},_=(0,d.j)({...g,queryKey:function({appName:t,routeId:e,routePath:a,queryName:r,queryDeps:n}){return[t,e,a,r,n]}(y),queryFn:({signal:t,meta:e})=>u(y,{signal:t,meta:e}),...v});if((0,o._)(this,w,R).call(this,t,_.queryKey),c.KJ){let t={..._,staleTime:f};switch(h){case p.g.Deferred:s.prefetchQuery(t);break;case p.g.Blocking:{let e=s.ensureQueryData({...t,revalidateIfStale:!0});a.push(e);break}default:throw Error(`Invalid QueryRouteQueryType defined, \`${h}\`. Valid QueryRouteQueryTypes are ${JSON.stringify(Object.keys(p.g))}`)}}return[t,{queryConfig:_,type:h}]});return await Promise.all(a),{route:this,queries:Object.fromEntries(u)}}}),(0,u._)(this,"toRoute",({Component:t,element:e,...a})=>this.index?{...a,id:this.id,children:void 0,path:this.path,index:this.index,loader:(0,r._)(this,b),element:m(this.id,{element:e,Component:t})}:{...a,id:this.id,path:this.path,index:this.index,loader:(0,r._)(this,b),element:m(this.id,{element:e,Component:t})}),(0,i._)(this,S,t.appName),this.id=t.id,this.path=t.path,this.queries=t.queries,this.index=t.index,(0,i._)(this,_,t.getEmbeddedData)}};function R(t,e){let a=(0,h.S)(),n=(0,r._)(this,_).call(this),i=n?.payload,s=(0,o._)(this,N,x).call(this,n,t);s&&("mainQuery"===t?delete i?.[this.id]:delete i?.[this.id]?.[t],a.setQueryData(e,s))}function x(t,e){let a=t?.payload,r=a?.[this.id];if(!r)return;if("mainQuery"!==e)return r?.[e];let n=t?.title||t?.meta?.title;return{meta:n?{title:n}:void 0,payload:r}}let T=t=>Object.entries(t)},43073:(t,e,a)=>{a.d(e,{E:()=>i});var r=a(96540),n=a(68270);function i(){return(0,r.useContext)(n.e)}},58578:(t,e,a)=>{a.d(e,{V:()=>r});let r="__gh__react-core-preventAutofocus"},83219:(t,e,a)=>{a.d(e,{w:()=>tU,o:()=>tM});var r=a(88243),n=a(16213),i=a(50467),o=a(31635),s=a(74848),u=a(39595),l=a(52475),c=a(53627),d=a(85788),h=a(65432),p=a(57971),f=a(86917);let v=new f.R;async function m(t){return v.getRegistration(t).promise}var y=a(68237),g=a(396),E=a(21728),S=a(96540),_=a(43073),w=a(74135);let b=(0,S.memo)(function(t){let e=(0,E.c)(4),{routes:a}=t;if((0,_.E)()){let t;return e[0]!==a?(t=(0,s.jsx)(R,{routes:a}),e[0]=a,e[1]=t):t=e[1],t}{let t;return e[2]!==a?(t=(0,s.jsx)(N,{routes:a}),e[2]=a,e[3]=t):t=e[3],t}}),N=(0,S.memo)(function(t){let e,a,r,n,i,o=(0,E.c)(9),{routes:s}=t,u=(0,d.zy)();return o[0]!==u||o[1]!==s?(a=(0,d.ue)(s,u)?.map(j)??[],o[0]=u,o[1]=s,o[2]=a):a=o[2],e=a,o[3]!==s?(n=A(s),o[3]=s,o[4]=n):n=o[4],r=n,o[5]!==u||o[6]!==e||o[7]!==r?(i={location:u,matches:e,routes:r},o[5]=u,o[6]=e,o[7]=r,o[8]=i):i=o[8],x(i),null}),R=(0,S.memo)(function(t){let e,a,r,n=(0,E.c)(6),{routes:i}=t,o=(0,d.zy)(),s=(0,d.FE)();return n[0]!==i?(a=A(i),n[0]=i,n[1]=a):a=n[1],e=a,n[2]!==o||n[3]!==s||n[4]!==e?(r={location:o,matches:s,routes:e},n[2]=o,n[3]=s,n[4]=e,n[5]=r):r=n[5],x(r),null});function x(t){let e,a,r,n,i=(0,E.c)(10),{location:o,matches:s,routes:u}=t;i[0]!==o||i[1]!==s||i[2]!==u?(e=()=>{let t=new AbortController;return document.addEventListener("turbo:load",()=>{(0,w.n)().setState({location:o,matches:s,routes:u})},{signal:t.signal}),()=>{t.abort()}},a=[o,u,s],i[0]=o,i[1]=s,i[2]=u,i[3]=e,i[4]=a):(e=i[3],a=i[4]),(0,S.useEffect)(e,a),i[5]!==o||i[6]!==s||i[7]!==u?(r=()=>((0,w.n)().setState({location:o,matches:s,routes:u}),T),n=[o,u,s],i[5]=o,i[6]=s,i[7]=u,i[8]=r,i[9]=n):(r=i[8],n=i[9]),(0,S.useEffect)(r,n)}function T(){(0,w.n)().setState(null)}function A(t,e=""){let a=[];for(let i of t){let t,o=!0===i.index,s=i.path??"";if(o)t=e.startsWith("/")&&!e.endsWith("/")?e.endsWith("/")?e:`${e}/`:e||"/";else{var r,n;t=s.startsWith("/")?s:(r=e,n=s,r?n?`${r.replace(/\/+$/,"")}/${n.replace(/^\/+/,"")}`:r:n)}let u="id"in i&&"string"==typeof i.id?i.id:t||"/";a.push({id:u,pathname:t||"/",route:i}),i.children&&a.push(...A(i.children,t))}return a}try{b.displayName||(b.displayName="RouterDevTools")}catch{}try{N.displayName||(N.displayName="NavigatorRouterDevTools")}catch{}try{R.displayName||(R.displayName="DataRouterDevTools")}catch{}function j(t){return function({pathname:t,route:e,params:a}){return{id:e.id??e.path??t,pathname:t,params:a,data:void 0,handle:e.handle}}(t)}var C=a(5330),k=a(79634),L=a(58578);function I(t,e,a){let r,n,i,o=(0,E.c)(8),s=(0,S.useRef)(void 0),u=(0,S.useRef)(e.state);o[0]!==e.state?(r=()=>{u.current=e.state},o[0]=e.state,o[1]=r):r=o[1],(0,S.useEffect)(r),o[2]!==a||o[3]!==t||o[4]!==e.pathname||o[5]!==e.search?(n=()=>{if("POP"===a)return;let r=e.pathname+e.search;if(void 0===s.current)s.current=r;else if(s.current!==r&&!t){var n;if(!("object"==typeof(n=u.current)&&null!==n&&L.V in n&&!0===n[L.V])){let t=document.querySelector("[data-react-autofocus]");!t&&(t=document.querySelector("react-app h1"))&&!t.hasAttribute("tabindex")&&t.setAttribute("tabindex","-1"),t?.focus()}s.current=r}},i=[t,e.pathname,e.search,a],o[2]=a,o[3]=t,o[4]=e.pathname,o[5]=e.search,o[6]=n,o[7]=i):(n=o[6],i=o[7]),(0,S.useEffect)(n,i)}function O(){return I(!1,(0,d.zy)(),(0,d.wQ)()),null}try{O.displayName||(O.displayName="NavigationFocusListener")}catch{}var W=a(97665),P=a(73900),D=a(82591),M=a(86596),U=a(4143);let H=D.z.INITIAL;function q(){let t,e,a,r,n=(0,E.c)(10),i=(0,k.X)(),o=(0,U.yT)(),s=(0,W.jE)();return n[0]!==i||n[1]!==o||n[2]!==s?(t=()=>{let t=V(o,s);document.dispatchEvent(new P.gh({payload:t,appPayload:i}))},e=[o,i,s],n[0]=i,n[1]=o,n[2]=s,n[3]=t,n[4]=e):(t=n[3],e=n[4]),(0,S.useEffect)(t,e),n[5]!==i||n[6]!==o||n[7]!==s?(a=()=>{let t=function(){let t=V(o,s);document.dispatchEvent(new P.gh({payload:t,appPayload:i}))};return document.addEventListener(H,t),()=>{document.removeEventListener(H,t)}},r=[o,i,s],n[5]=i,n[6]=o,n[7]=s,n[8]=a,n[9]=r):(a=n[8],r=n[9]),(0,S.useEffect)(a,r),null}function V(t,e){let a={};for(let r of t){if(!r.data)continue;let t=r.data.route.id;for(let n of Object.values(r.data.queries))n.type===M.g.Blocking&&(a[t]=e.getQueryData(n.queryConfig.queryKey))}return a}try{q.displayName||(q.displayName="PublishPayload")}catch{}var z=a(48602),F=a(73189),Q=a(71315),B=a(88431);let $=new Map,K=!1,X=Q.fV.href;async function J(){let{session:t}=await a.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js").then(a.bind(a,7332));document.addEventListener("turbo:click",t=>{X=t.detail.url}),window.addEventListener("popstate",()=>{let{scrollPosition:e}=t.history.getRestorationDataForIdentifier(t.history.restorationIdentifier)||{};e&&$.set(window.location.href,e)})}async function G(){Q.cg&&(K||(await J(),K=!0))}function Y(){let t=window.location.href;if(t===X&&t.includes("#"))return;X=t;let e=$.get(t);if(!e)return;let a=setTimeout(()=>{window.scrollTo(e.x,e.y)},0);return()=>{clearTimeout(a)}}let Z=Q.cg?function(){(0,B.N)(Y)}:F.l;function tt(){let t,e=(0,E.c)(1);return(Z(),"undefined"!=typeof jest)?null:(e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(d.OA,{}),e[0]=t):t=e[0],t)}G();try{tt.displayName||(tt.displayName="CombinedScrollRestoration")}catch{}var te=a(94416),ta=a(11083);let tr=(t,e,a)=>{let r,n,i=(0,E.c)(6),o=(0,S.useRef)(void 0);i[0]!==a||i[1]!==e||i[2]!==t.key||i[3]!==t.pathname?(r=()=>{e||void 0!==o.current&&o.current===t.key||((0,te.LM)()?(tn(a),function(t){let e=Q.XC?.querySelector("meta[name=visitor-payload]");if(!e)return;let a=JSON.parse(atob(e.content));a.referrer=new URL(t,Q.fV.origin).href,e.content=btoa(JSON.stringify(a))}(t.pathname)):ti(a),o.current=t.key)},n=[t.key,t.pathname,e,a],i[0]=a,i[1]=e,i[2]=t.key,i[3]=t.pathname,i[4]=r,i[5]=n):(r=i[4],n=i[5]),(0,S.useEffect)(r,n)},tn=t=>{t?(0,h.o4)():((0,h.rZ)(),(0,h.iS)())},ti=t=>{if(t)return;let e=function(){window.performance.measure(to);let t=window.performance.getEntriesByName(to).pop();return t?t.duration:null}();e&&(0,ta.i)({requestUrl:window.location.href,distributionKey:"REACT_NAV_DURATION",distributionValue:Math.round(e),distributionTags:["REACT_NAV_HARD"]})},to="react_nav_duration",ts=(0,S.memo)(function(){return tr((0,d.zy)(),!!(0,d.cq)().location,null),null});try{ts.displayName||(ts.displayName="SoftNavLifecycleListener")}catch{}var tu=a(76143);function tl(){let t,e,a=(0,E.c)(4),r=(0,U.yT)(),n=(0,W.jE)();return a[0]!==r||a[1]!==n?(t=()=>{for(let t of[...r].reverse()){if(!t.data?.route)continue;let e=t.data?.queries.mainQuery;if(!e)continue;let a=function(t,e){let a=t.getQueryData(e.queryKey);return"title"in a&&a.title?a?.title:"meta"in a&&a.meta?a.meta.title:void 0}(n,e.queryConfig);if(a){(0,tu.D)((0,tu.Y)(a));break}}},e=[r,n],a[0]=r,a[1]=n,a[2]=t,a[3]=e):(t=a[2],e=a[3]),(0,S.useEffect)(t,e),null}try{tl.displayName||(tl.displayName="TitleManager")}catch{}let tc=new f.R;async function td(t){return tc.getRegistration(t).promise}var th=a(76648);function tp(t){let e,a=(0,E.c)(2),{App:r}=t;return!function(){let t,e,a,r,n=(0,E.c)(8),i=(0,th.B)(),o=(0,k.X)();n[0]!==o||n[1]!==i?(t=()=>{let t=new AbortController;return document.addEventListener(D.z.INITIAL,function(){document.dispatchEvent(new P.gh({payload:i,appPayload:o}))},{signal:t.signal}),()=>{t.abort()}},e=[o,i],n[0]=o,n[1]=i,n[2]=t,n[3]=e):(t=n[2],e=n[3]),(0,S.useEffect)(t,e),n[4]!==o||n[5]!==i?(a=()=>{document.dispatchEvent(new P.gh({payload:i,appPayload:o}))},r=[o,i],n[4]=o,n[5]=i,n[6]=a,n[7]=r):(a=n[6],r=n[7]),(0,S.useEffect)(a,r)}(),a[0]!==r?(e=r?(0,s.jsx)(r,{children:(0,s.jsx)(d.sv,{})}):(0,s.jsx)(d.sv,{}),a[0]=r,a[1]=e):e=a[1],e}try{tp.displayName||(tp.displayName="AppWrapper")}catch{}var tf=a(75202),tv=a(42270),tm=a(35750),ty=a(18150),tg=a(85242),tE=a(27744);let tS=(t,e)=>null!==t&&null!==e&&t.pathname===e.pathname&&t.search===e.search&&!!e.hash;var t_=new WeakMap,tw=new WeakMap,tb=new WeakSet,tN=new WeakMap,tR=new WeakSet;let tx=class Navigator{update(t){var e;this.state=Object.assign({},this.state,t);let a=this.getAppNavigationState();null==(e=(0,r._)(this,tb,tT))||e.call(this,a)}subscribe(t){let e=(0,tm._)(this,tw).push(t);return()=>{(0,tm._)(this,tw)[e]=null}}async handleHistoryUpdate(t){if("POP"===t.action&&(0,c.JV)().turboCount!==this.state.turboCount)return;if(this.isHashNavigation(t))return void this.navigateWithCurrentPayload(t);"POP"!==t.action&&(0,h.SC)("react");let e=this.state.routeStateMap[t.location.key],a=void 0!==e;if(e&&e.isValid&&(a=e.isValid()),a)this.navigateFromHistory(t);else{let e=this.matchLocation(t.location);if(!e)throw Error("handleHistoryUpdate should only be called for matching routes");if(e.route.transitionType===tE.E.TRANSITION_WHILE_FETCHING&&this.navigateWithoutPayload(t),e.route.transitionType===tE.E.TRANSITION_WITHOUT_FETCH)return void this.navigateWithoutPayload(t);let a=(0,c.JV)().usr?.__prefetched_data;if(a)return void this.leaveLoadingStateWithRouteData(t,a,a.title);this.enterLoadingState(t);let r=await e.route.coreLoader({location:t.location,pathParams:e.params});if(t.location!==this.state.pendingNavigation?.update.location)return;switch(r.type){case"loaded":this.leaveLoadingStateWithRouteData(t,r.data,r.title,r.isValid);break;case"error":this.leaveLoadingStateWithError(t,r.error,!1);break;case"redirect":window.location.replace(r.url+location.hash);break;case"route-handled-error":this.leaveLoadingStateWithError(t,r.error,!0);break;default:throw Error(`Unexpected loader result type: ${r.type}`)}}}matchLocation(t){var e,a;return e=(0,tm._)(this,t_),a=t,(0,d.ue)(e,a.pathname)?.[0]}isHashNavigation(t){return tS(this.state.location,t.location)}navigateFromHistory(t){this.update({location:t.location,pendingNavigation:null,error:null})}enterLoadingState(t){this.update({pendingNavigation:{update:t}})}leaveLoadingStateWithError(t,e,a){this.update({location:t.location,error:e,pendingNavigation:null,navigateOnError:a})}navigateWithoutPayload(t){this.update({location:t.location,error:null})}navigateWithCurrentPayload(t){let e=this.state.location.key,a=e+t.location.hash,r={...t.location,key:a},n={...this.state.routeStateMap,[a]:this.state.routeStateMap[e]};this.update({...t,location:r,routeStateMap:n,error:null})}leaveLoadingStateWithRouteData(t,e,a,r){this.update({location:t.location,pendingNavigation:null,routeStateMap:e?{...this.state.routeStateMap,[t.location.key]:{type:"loaded",data:e,title:a,isValid:r}}:this.state.routeStateMap,error:null})}constructor(t,e,a,o){(0,n._)(this,tb),(0,n._)(this,tR),(0,i._)(this,"state",void 0),(0,ty._)(this,t_,{writable:!0,value:void 0}),(0,ty._)(this,tw,{writable:!0,value:[]}),(0,ty._)(this,tN,{writable:!0,value:new WeakMap}),(0,i._)(this,"getAppNavigationState",()=>{let t=(0,tm._)(this,tN).get(this.state);if(t)return t;let{location:e,error:a,navigateOnError:r,routeStateMap:n,appPayload:i,pendingNavigation:o}=this.state,s={location:e,error:a,navigateOnError:r,routeStateMap:n,appPayload:i,isLoading:!!o};return(0,tm._)(this,tN).set(this.state,s),s}),(0,tg._)(this,t_,o);let s=this.matchLocation(t);if(!s)throw Error(`No route found for initial location: ${t.pathname} in [${(0,r._)(this,tR,tA).call(this)}]`);let{data:u,title:l,isValid:d}=s.route.loadFromEmbeddedData({embeddedData:e,location:t,pathParams:s.params});this.state={location:t,routeStateMap:{[t.key]:{type:"loaded",data:u,title:l,isValid:d}},appPayload:a,pendingNavigation:null,error:null,navigateOnError:!1,turboCount:(0,c.JV)().turboCount||0}}};function tT(t){for(let e of(0,tm._)(this,tw))e?.(t)}function tA(){return(0,tm._)(this,t_).map(t=>t.path).join(", ")}function tj(t){let e,a,r,n,i,o,u,l,c,h=(0,E.c)(33),{appName:p,initialLocation:f,history:v,embeddedData:m,routes:_,App:w,wasServerRendered:b,ssrError:N,onError:R}=t;h[0]!==p||h[1]!==m||h[2]!==f||h[3]!==_?(e={initialLocation:f,appName:p,embeddedData:m,routes:_},h[0]=p,h[1]=m,h[2]=f,h[3]=_,h[4]=e):e=h[4];let[x,T]=function(t){let e,a,r,n,i,o=(0,E.c)(13),{initialLocation:s,embeddedData:u,routes:l}=t;o[0]!==u||o[1]!==s||o[2]!==l?(e=()=>{let{appPayload:t,...e}=u;return new tx(s,{...e,enabled_features:t?.enabled_features?t.enabled_features:{}},t,l)},o[0]=u,o[1]=s,o[2]=l,o[3]=e):e=o[3];let[c]=(0,S.useState)(e);o[4]!==c?(a=t=>{let e=c.subscribe(t);return()=>{e()}},o[4]=c,o[5]=a):a=o[5];let d=(0,S.useSyncExternalStore)(a,c.getAppNavigationState,c.getAppNavigationState);o[6]!==c?(r=t=>{(0,S.startTransition)(()=>{c.handleHistoryUpdate(t)})},o[6]=c,o[7]=r):r=o[7];let h=r;return o[8]!==h?(n={handleHistoryUpdate:h},o[8]=h,o[9]=n):n=o[9],o[10]!==d||o[11]!==n?(i=[d,n],o[10]=d,o[11]=n,o[12]=i):i=o[12],i}(e),{location:A,error:j,routeStateMap:C,appPayload:k,navigateOnError:L,isLoading:O}=x,{handleHistoryUpdate:W}=T;return!function(t,e,a){let r,n,i=(0,E.c)(5),o=(0,S.useRef)(null);i[0]!==t||i[1]!==e||i[2]!==a?(r=()=>{if(o.current||(o.current=a),!tS(o.current,a)&&(e||t))if(e){let t=(t=>{let e=404===t.httpStatus?"404 Page not found":500===t.httpStatus?"500 Internal server error":t.httpStatus?`Error ${t.httpStatus}`:"Error";return(0,tu.Y)(e)})(e);(0,tu.D)(t)}else t?.type==="loaded"&&t.title&&(0,tu.D)((0,tu.Y)(t.title));o.current?.key!==a.key&&(o.current=a)},n=[e,t,a],i[0]=t,i[1]=e,i[2]=a,i[3]=r,i[4]=n):(r=i[3],n=i[4]),(0,S.useEffect)(r,n)}(C[A.key],j,A),I(O,A),tr(A,O,j),Z(),h[5]!==W||h[6]!==v?(a=()=>v.listen(W),r=[v,W],h[5]=W,h[6]=v,h[7]=a,h[8]=r):(a=h[7],r=h[8]),(0,B.N)(a,r),h[9]!==w||h[10]!==_?(n=(0,s.jsx)(tC,{routes:_,App:w}),h[9]=w,h[10]=_,h[11]=n):n=h[11],h[12]!==v||h[13]!==A||h[14]!==n?(i=(0,s.jsx)(d.Ix,{location:A,navigator:v,children:n}),h[12]=v,h[13]=A,h[14]=n,h[15]=i):i=h[15],h[16]!==N?(o=(0,s.jsx)(g.h,{ssrError:N}),h[16]=N,h[17]=o):o=h[17],h[18]!==k||h[19]!==j||h[20]!==L||h[21]!==C||h[22]!==_||h[23]!==i||h[24]!==o?(u=(0,s.jsxs)(tv.l,{appPayload:k,error:j,navigateOnError:L,routes:_,routeStateMap:C,children:[i,o]}),h[18]=k,h[19]=j,h[20]=L,h[21]=C,h[22]=_,h[23]=i,h[24]=o,h[25]=u):u=h[25],h[26]!==R||h[27]!==u?(l=(0,s.jsx)(tf.t,{onError:R,critical:!0,children:u}),h[26]=R,h[27]=u,h[28]=l):l=h[28],h[29]!==p||h[30]!==l||h[31]!==b?(c=(0,s.jsx)(y.U,{appName:p,wasServerRendered:b,dataRouterEnabled:!1,children:l}),h[29]=p,h[30]=l,h[31]=b,h[32]=c):c=h[32],c}function tC(t){let e,a,r,n,i=(0,E.c)(10),{App:o,routes:u}=t;return i[0]!==o?(e=(0,s.jsx)(tp,{App:o}),i[0]=o,i[1]=e):e=i[1],i[2]!==u?(a=(0,s.jsx)(b,{routes:u}),i[2]=u,i[3]=a):a=i[3],i[4]!==e||i[5]!==a?(r=(0,s.jsxs)(s.Fragment,{children:[e,a]}),i[4]=e,i[5]=a,i[6]=r):r=i[6],i[7]!==u||i[8]!==r?(n=[{element:r,children:u}],i[7]=u,i[8]=r,i[9]=n):n=i[9],(0,d.Ye)(n)}G();try{tj.displayName||(tj.displayName="NavigatorClientEntry")}catch{}try{tC.displayName||(tC.displayName="AppRoutes")}catch{}var tk=a(11934),tL=a(16235),tI=a(40558),tO=new WeakSet,tW=new WeakSet;let ReactAppElement=class ReactAppElement extends tI.H{connectedCallback(){super.connectedCallback(),this.uuid=(0,l._S)(),(0,l.cW)(this.uuid),window.addEventListener("popstate",this.popStateListener,!0)}disconnectedCallback(){window.removeEventListener("popstate",this.popStateListener,!0),this.routerOrHistory?.dispose(),super.disconnectedCallback()}get isDataRouterEnabled(){return"true"===this.getAttribute("data-data-router-enabled")}async getReactNode(t,e){if(this.isDataRouterEnabled){let a=await m(this.name);return(0,r._)(this,tO,tP).call(this,t,e,a.registration)}let a=await td(this.name);return(0,r._)(this,tW,tD).call(this,t,e,a.registration)}get isLazy(){return"true"===this.getAttribute("data-lazy")}constructor(...t){super(...t),(0,n._)(this,tO),(0,n._)(this,tW),(0,i._)(this,"nameAttribute","app-name"),(0,i._)(this,"popStateListener",t=>{t.state&&this.uuid!==(0,c.JV)().appId&&this.routerOrHistory?.dispose()})}};async function tP(t,e,a){t&&(0,tL.S)().removeQueries({queryKey:[this.name]});let{routes:r}=a({embeddedData:t});return this.routerOrHistory=new Proxy((0,d.Ys)(function(t,{ssrError:e,appName:a,wasServerRendered:r,children:n,HydrateFallback:i,dataRouterEnabled:o,appPayload:u}){return[{id:"__DATA_ROUTER_ROOT__",errorElement:(0,s.jsx)(z.hw,{appName:a}),HydrateFallback:i,element:(0,s.jsx)(y.U,{appName:a,wasServerRendered:r,dataRouterEnabled:o,children:(0,s.jsx)(k.z.Provider,{value:u,children:(0,s.jsxs)(C.d,{routes:t,children:[(0,s.jsx)(d.sv,{}),n,(0,s.jsx)(g.h,{ssrError:e}),(0,s.jsx)(ts,{}),(0,s.jsx)(O,{}),(0,s.jsx)(tt,{}),(0,s.jsx)(q,{}),(0,s.jsx)(tl,{}),(0,s.jsx)(b,{routes:t})]})})}),children:[{id:"__DATA_ROUTER_APPLICATION_ROUTES__",errorElement:(0,s.jsx)(z.Ly,{appName:a}),children:t}]}]}(r,{appPayload:t.appPayload,ssrError:this.ssrError,appName:this.name,wasServerRendered:this.hasSSRContent,dataRouterEnabled:!0})),{get:(t,e,a)=>"navigate"===e?function(e,a){var r,n;if("number"==typeof e)return t.navigate(e);r=t.state.location,(n="string"==typeof e?(0,p.Rr)(e):e)&&(void 0===n.pathname||n.pathname===r.pathname)&&(void 0===n.search||n.search===r.search)&&void 0!==n.hash&&n.hash!==r.hash||(0,h.SC)("react");let i=!a?.replace,o=a?.state?.skipTurbo;return t.navigate(e,{...a,state:{...a?.state,skipTurbo:i?o??!0:o}})}:Reflect.get(t,e,a)}),(0,s.jsx)(tk.f,{appName:this.name,isDataRouterEnabled:!0,children:(0,s.jsx)(tk.U,{id:this.name,children:(0,s.jsx)(d.pg,{router:this.routerOrHistory})})})}async function tD(t,e,a){let{App:r,routes:n}=a(),i=this.getAttribute("initial-path");if(this.isLazy){let e=await fetch(i,{mode:"no-cors",cache:"no-cache",credentials:"include"}),{payload:a}=await e.json();t.payload=a}let o=globalThis.window,{pathname:u,search:l,hash:h}=new URL(`${i}${o?.location.hash??""}`,o?.location.href??"https://github.com");(0,c.C3)({key:Math.random().toString(36).substr(2,8)});let p=function(t={}){let e,a=(0,d.zR)({...t,v5Compat:!0}),r=[],n=!1;function i(t){if(r.length>0)for(let e of r)e({retry(){t()}});else t()}return{get action(){return a.action},get location(){return a.location},createHref:t=>a.createHref(t),createURL:t=>a.createURL(t),encodeLocation:t=>a.encodeLocation(t),push(t,e){i(()=>a.push(t,e))},replace(t,e){i(()=>a.replace(t,e))},go(t){i(()=>a.go(t))},listen(t){if(e)throw Error("A history only accepts one active listener");return e=t,()=>{e=void 0}},dispose:a.listen(t=>{if(n){n=!1;return}if(t.action===d.rc.Pop&&r.length&&null!==t.delta&&r.length>0){let e=t.delta;for(let t of(n=!0,a.go(-1*e),r))t({retry(){a.go(e)}})}else e?.(t)}),block:t=>(r.push(t),()=>{r=r.filter(e=>e!==t)})}}({window:o});this.routerOrHistory=p;let{key:f,state:v}=p.location;return(0,s.jsx)(tk.f,{appName:this.name,isDataRouterEnabled:!1,children:(0,s.jsx)(tk.U,{id:this.name,children:(0,s.jsx)(tj,{appName:this.name,initialLocation:{pathname:u,search:l,hash:h,key:f,state:v},history:p,embeddedData:t,routes:n,App:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,onError:e})})})}function tM(t,e){tc.register(t,{type:"NavigatorApp",registration:e})}function tU(t){v.register(t.name,{type:"DataRouterApp",registration:t.registration})}ReactAppElement=(0,o.Cg)([u.p_],ReactAppElement)},6152:(t,e,a)=>{a.d(e,{Y:()=>r});let r=(0,a(96540).createContext)({})},74135:(t,e,a)=>{a.d(e,{n:()=>p});var r=a(35750),n=a(18150),i=a(85242),o=a(81075),s=a(75735);let u="@github-ui/react-core/router:state-update",l=class RouterStateUpdateEvent extends Event{constructor(){super(u)}};var c=new WeakMap;let d=class RouterStore extends EventTarget{static getInstance(){return(0,o._)(RouterStore,RouterStore,h)||(0,s._)(RouterStore,RouterStore,h,new RouterStore),(0,o._)(RouterStore,RouterStore,h)}getState(){return(0,r._)(this,c)}setState(t){(0,i._)(this,c,t),this.dispatchEvent(new l)}subscribe(t){let e=new AbortController;return this.addEventListener(u,()=>{t((0,r._)(this,c))},{signal:e.signal}),t((0,r._)(this,c)),()=>{e.abort()}}constructor(){super(),(0,n._)(this,c,{writable:!0,value:null})}};var h={writable:!0,value:void 0};function p(){return d.getInstance()}},79634:(t,e,a)=>{a.d(e,{X:()=>i,z:()=>n});var r=a(96540);let n=(0,r.createContext)(void 0);function i(){return(0,r.useContext)(n)}},80443:(t,e,a)=>{a.d(e,{N:()=>o});var r=a(85788),n=a(96540),i=a(6152);function o(){return(0,n.useContext)(i.Y)[(0,r.zy)().key]}},76648:(t,e,a)=>{a.d(e,{B:()=>n});var r=a(80443);function n(){let t=(0,r.N)(),e=t&&"loaded"===t.type?t.data:void 0;return e?.payload}},73900:(t,e,a)=>{a.d(e,{Kq:()=>SoftNavErrorEvent,RQ:()=>SoftNavEndEvent,gh:()=>SoftNavPayloadEvent,ni:()=>SoftNavSuccessEvent,sW:()=>SoftNavStartEvent});var r=a(50467),n=a(82591);let i=class SoftNavEvent extends Event{constructor(t,e){super(e),(0,r._)(this,"mechanism",void 0),this.mechanism=t}};let SoftNavStartEvent=class SoftNavStartEvent extends i{constructor(t){super(t,n.z.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends i{constructor(t,e){super(t,n.z.SUCCESS),(0,r._)(this,"visitCount",void 0),this.visitCount=e}};let SoftNavErrorEvent=class SoftNavErrorEvent extends i{constructor(t,e){super(t,n.z.ERROR),(0,r._)(this,"error",void 0),this.error=e}};let SoftNavEndEvent=class SoftNavEndEvent extends i{constructor(t){super(t,n.z.END)}};let SoftNavPayloadEvent=class SoftNavPayloadEvent extends Event{constructor(t){super("soft-nav:payload"),(0,r._)(this,"payload",void 0),(0,r._)(this,"appPayload",void 0),this.payload=t.payload,this.appPayload=t.appPayload}}},65432:(t,e,a)=>{a.d(e,{Bu:()=>f,SC:()=>l,Ti:()=>h,iS:()=>c,k5:()=>u,o4:()=>d,rZ:()=>p});var r=a(82591),n=a(73900),i=a(15838),o=a(94416);let s=0;function u(){s=0,document.dispatchEvent(new Event(r.z.INITIAL)),(0,o.xT)()}function l(t){(0,o.LM)()||(document.dispatchEvent(new Event(r.z.PROGRESS_BAR.START)),document.dispatchEvent(new n.sW(t)),(0,o.Vy)(t),(0,o.ZW)(),(0,o.HK)(),(0,i.E5)())}function c(t={}){m(t)&&(s+=1,document.dispatchEvent(new n.ni((0,o.di)(),s)),h(t))}function d(t={}){if(!m(t))return;s=0;let e=(0,o.my)()||o.BW;document.dispatchEvent(new n.Kq((0,o.di)(),e)),v(),(0,i.Cd)(e),(0,o.xT)()}function h(t={}){if(!m(t))return;let e=(0,o.di)();v(),document.dispatchEvent(new n.RQ(e)),(0,o.Ff)(),(0,o.JA)(e)}function p(t={}){m(t)&&((0,i.Im)(),document.dispatchEvent(new Event(r.z.RENDER)))}function f(){document.dispatchEvent(new Event(r.z.FRAME_UPDATE))}function v(){document.dispatchEvent(new Event(r.z.PROGRESS_BAR.END))}function m({skipIfGoingToReactApp:t,allowedMechanisms:e=[]}={}){return(0,o.LM)()&&(0===e.length||e.includes((0,o.di)()))&&(!t||!(0,o.gc)())}},82591:(t,e,a)=>{a.d(e,{z:()=>r});let r=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",REPLACE_MECHANISM:"soft-nav:replace-mechanism",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},15838:(t,e,a)=>{a.d(e,{Cd:()=>u,E5:()=>s,Im:()=>l,nW:()=>o});var r=a(11083),n=a(94416);let i="stats:soft-nav-duration",o={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function s(){window.performance.clearResourceTimings(),window.performance.mark(i)}function u(t){(0,r.i)({turboFailureReason:t,turboStartUrl:(0,n.dR)(),turboEndUrl:window.location.href})}function l(){let t=function(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let t=performance.getEntriesByName(i).pop();return t?t.duration:null}();if(!t)return;let e=o[(0,n.di)()],a=Math.round(t);e===o.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:a}})),(0,r.i)({requestUrl:window.location.href,softNavigationTiming:{mechanism:e,destination:(0,n.fX)()||"rails",duration:a,initiator:(0,n.Pv)()||"rails"}})}},42270:(t,e,a)=>{a.d(e,{C:()=>c,l:()=>d});var r=a(74848),n=a(21728),i=a(96540),o=a(60281),s=a(6152),u=a(5330),l=a(79634);let c=(0,i.createContext)(null);function d(t){let e,a,i=(0,n.c)(9),{appPayload:d,children:h,error:p,navigateOnError:f,routes:v,routeStateMap:m}=t;return i[0]!==d||i[1]!==h||i[2]!==p||i[3]!==f||i[4]!==m?(e=p&&!f?(0,r.jsx)(o.M,{...p}):(0,r.jsx)(l.z.Provider,{value:d,children:(0,r.jsx)(c.Provider,{value:p,children:(0,r.jsx)(s.Y.Provider,{value:m,children:h})})}),i[0]=d,i[1]=h,i[2]=p,i[3]=f,i[4]=m,i[5]=e):e=i[5],i[6]!==v||i[7]!==e?(a=(0,r.jsx)(u.d,{routes:v,children:e}),i[6]=v,i[7]=e,i[8]=a):a=i[8],a}try{c.displayName||(c.displayName="NavigationErrorContext")}catch{}try{d.displayName||(d.displayName="NavigatorRouter")}catch{}}}]);
//# sourceMappingURL=packages_fetch-headers_fetch-headers_ts-packages_react-core_register-app_ts-4bb349d96f38.js.map