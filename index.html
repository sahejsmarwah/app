<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Friendship & Vibes</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #fff0f5, #e6faff);
      font-family: 'Baloo 2', cursive;
      overflow-x: hidden;
    }
    .screen {
      display: none;
      opacity: 0;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 3vw;
      background: #fff;
      width: 100vw;
      min-height: 100vh;
      transition: opacity 0.5s ease, background-color 0.8s ease;
      position: relative;
      overflow: hidden;
    }
    .screen.active {
      display: flex;
      opacity: 1;
    }
    #screen1 { background-color: #fff; }
    #screen2 { background-color: #fef2f7; }
    #screen3 { background-color: #f2faff; }
    #screen4 { background-color: #fff0f8; }
    .floating-doodle {
      position: absolute;
      font-size: 2.5rem;
      opacity: 0.3;
      animation: float 5s infinite ease-in-out;
      will-change: transform;
      pointer-events: none;
    }
    .mascot {
      position: absolute;
      font-size: 50px;
      bottom: 20px;
      left: 20px;
      animation: bounce 1.5s infinite ease-in-out;
      pointer-events: none;
    }
    h1, p {
      opacity: 0;
      animation: typeWriter 1.5s steps(20) forwards;
      position: relative;
      z-index: 2;
    }
    h1 {
      margin: 0 0 1.5rem;
      color: #ff6f91;
      font-weight: 700;
      font-size: 2.2rem;
      animation-delay: 0.1s;
    }
    p {
      margin: 0 0 2rem;
      color: #555;
      line-height: 1.4;
      font-weight: 400;
      font-size: 1.2rem;
      animation-delay: 0.5s;
    }
    button {
      padding: 0.8rem 1.5rem;
      margin: 0.5rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-family: 'Baloo 2', cursive;
      font-weight: 700;
      transition: transform 0.2s ease;
      width: 100%;
      position: relative;
      background: none;
      overflow: visible;
    }
    .next, .yes {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60"><path fill="%23ff85b3" d="M10,10 Q30,0 50,10 T90,10 T130,10 T170,10 Q190,10 190,30 Q190,50 170,50 T130,50 T90,50 T50,50 Q30,50 10,30 Q10,10 10,10 Z"/></svg>') no-repeat center/cover;
      color: #fff;
      padding: 1.2rem 2.5rem;
      font-size: 1.4rem;
      max-width: 300px;
      animation: pulse 2s infinite ease-in-out;
      z-index: 2;
    }
    .no {
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 40"><path fill="%236c5ce7" d="M5,5 Q15,0 30,5 T60,5 T90,5 Q115,5 115,20 Q115,35 90,35 T60,35 T30,35 Q15,35 5,20 Q5,5 5,5 Z"/></svg>') no-repeat center/cover;
      color: #fff;
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
      max-width: 120px;
      position: absolute;
      left: 50%;
      top: 60%;
      transform: translate(-50%, -50%);
      transition: all 0.3s ease;
      will-change: transform;
      z-index: 1;
    }
    .glowing-heart {
      position: fixed;
      width: 20px;
      height: 20px;
      background: #ff6f91;
      transform: rotate(45deg);
      top: 10px;
      right: 10px;
      opacity: 0;
      animation: glow 1.5s infinite ease-in-out, slideUp 0.5s ease forwards 0.5s;
      z-index: 1;
    }
    .glowing-heart:before, .glowing-heart:after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff6f91;
    }
    .glowing-heart:before { top: -10px; left: 0; }
    .glowing-heart:after { left: -10px; top: 0; }
    .animated-heart {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 5rem;
      color: #ff6f91;
      animation: beat 1s infinite;
      z-index: 1;
    }
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
      50% { transform: translateY(-20vh) rotate(10deg); opacity: 0.5; }
      100% { transform: translateY(-40vh) rotate(0deg); opacity: 0.3; }
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(5deg); }
    }
    @keyframes typeWriter {
      from { width: 0; opacity: 0; }
      to { width: 100%; opacity: 1; }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    @keyframes glow {
      0% { box-shadow: 0 0 5px #ff6f91; }
      50% { box-shadow: 0 0 20px #ff6f91, 0 0 30px rgba(255,111,145,0.5); }
      100% { box-shadow: 0 0 5px #ff6f91; }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: rotate(45deg) translateY(20px); }
      to { opacity: 1; transform: rotate(45deg) translateY(0); }
    }
    @keyframes beat {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
    }
    .button-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 400px;
      position: relative;
    }
    .creature, .sticker {
      position: absolute;
      font-size: 2rem;
      opacity: 0;
      animation: fadeInOut 2s ease forwards;
    }
    @keyframes fadeInOut {
      0% { opacity: 0; transform: scale(0.5); }
      50% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.5); }
    }
  </style>
</head>
<body>
  <div id="screen1" class="screen active">
    <div class="floating-doodle" style="left: 10%; top: 100vh;">💖</div>
    <div class="floating-doodle" style="right: 15%; top: 100vh; animation-delay: 2s;">⭐</div>
    <div class="floating-doodle" style="left: 20%; top: 100vh; animation-delay: 4s;">🧁</div>
    <div class="mascot">🐶</div>
    <h1>Hey Sifat 🌸</h1>
    <p>I’m buzzing with excitement to connect with you! 😊 Say hi back?</p>
    <button class="next" data-screen="2" aria-label="Say hi back">Hi! 👋</button>
  </div>
  <div id="screen2" class="screen">
    <div class="floating-doodle" style="left: 15%; top: 100vh;">🌸</div>
    <div class="floating-doodle" style="right: 10%; top: 100vh; animation-delay: 1.5s;">✨</div>
    <div class="floating-doodle" style="left: 25%; top: 100vh; animation-delay: 3s;">🎀</div>
    <div class="mascot">🐱</div>
    <h1>Friendship Time? 🌟</h1>
    <p>Will you be my friend, Sifat? It’d mean the world to me!</p>
    <div class="button-group">
      <button class="yes" data-screen="3">Yes! 🌈</button>
      <button class="no" data-screen="1">Noo 😿</button>
    </div>
  </div>
  <div id="screen3" class="screen">
    <div class="floating-doodle" style="left: 10%; top: 100vh;">💞</div>
    <div class="floating-doodle" style="right: 20%; top: 100vh; animation-delay: 2s;">🌟</div>
    <div class="floating-doodle" style="left: 30%; top: 100vh; animation-delay: 4s;">🍰</div>
    <div class="mascot">🦄</div>
    <h1>Yayy! 🎉</h1>
    <p>You’re the best, Sifat! Ready for some fun vibes?</p>
    <button class="next" data-screen="4">Let’s Go! 🚀</button>
  </div>
  <div id="screen4" class="screen">
    <div class="floating-doodle" style="left: 15%; top: 100vh;">💖</div>
    <div class="floating-doodle" style="right: 10%; top: 100vh; animation-delay: 1.5s;">⭐</div>
    <div class="floating-doodle" style="left: 25%; top: 100vh; animation-delay: 3s;">🌈</div>
    <div class="mascot">🐰</div>
    <div class="animated-heart">💖</div>
    <h1>You’re Amazing! 💕</h1>
    <p>Thanks for being my friend, Sifat. Let’s make awesome memories!</p>
  </div>
  <div class="glowing-heart"></div>
  <audio id="clickSound" src="https://cdn.pixabay.com/audio/2022/03/10/audio_5b3b4b3b8f.mp3"></audio>
  <audio id="bgMusic" src="https://cdn.pixabay.com/audio/2022/03/10/audio_5b3b4b3b8f.mp3" loop></audio>
  <script>
    const screens = document.querySelectorAll('.screen');
    const clickSound = document.getElementById('clickSound');
    const bgMusic = document.getElementById('bgMusic');
    const safeZones = [
      { left: '10%', top: '10%' },
      { right: '10%', top: '10%' },
      { left: '10%', bottom: '10%' },
      { right: '10%', bottom: '10%' }
    ];
    let dodgeCount = 0;
    let isDodging = false;

    function goToScreen(screenId) {
      screens.forEach(s => s.classList.remove('active'));
      document.getElementById(`screen${screenId}`).classList.add('active');
      clickSound.currentTime = 0;
      clickSound.play();
      if (screenId === 4) {
        bgMusic.play();
        startConfetti();
        spawnCreaturesAndStickers();
      }
    }

    function dodgeButton(btn) {
      isDodging = true;
      dodgeCount++;
      btn.style.pointerEvents = 'none';
      const zone = safeZones[Math.floor(Math.random() * safeZones.length)];
      if (zone.left) {
        btn.style.left = zone.left;
        btn.style.right = 'auto';
      } else {
        btn.style.left = 'auto';
        btn.style.right = zone.right;
      }
      if (zone.top) {
        btn.style.top = zone.top;
        btn.style.bottom = 'auto';
      } else {
        btn.style.top = 'auto';
        btn.style.bottom = zone.bottom;
      }
      setTimeout(() => {
        btn.style.pointerEvents = 'auto';
        isDodging = false;
      }, 300);
    }

    document.querySelectorAll('.next, .yes').forEach(btn => {
      btn.addEventListener('click', () => goToScreen(btn.dataset.screen));
    });

    const noBtn = document.querySelector('.no');
    noBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      dodgeButton(noBtn);
    });
    noBtn.addEventListener('mouseenter', () => dodgeButton(noBtn));
    noBtn.addEventListener('click', () => {
      if (!isDodging && dodgeCount >= 1) {
        dodgeCount = 0;
        goToScreen(noBtn.dataset.screen);
      }
    });

    function startConfetti() {
      const confettiSettings = { target: 'screen4', max: 50, size: 2, clock: 25 };
      const confetti = new ConfettiGenerator(confettiSettings);
      confetti.render();
      setTimeout(() => confetti.clear(), 5000);
    }

    function spawnCreaturesAndStickers() {
      const screen4 = document.getElementById('screen4');
      const creatures = ['🐶', '🐱', '🦄', '🐰', '🦋', '🐶'];
      const stickers = ['💖', '⭐', '🌈'];
      for (let i = 0; i < 6; i++) {
        const creature = document.createElement('div');
        creature.className = 'creature';
        creature.textContent = creatures[i];
        creature.style.left = `${Math.random() * 80 + 10}%`;
        creature.style.top = `${Math.random() * 80 + 10}%`;
        creature.style.animationDelay = `${i * 0.3}s`;
        screen4.appendChild(creature);
        setTimeout(() => creature.remove(), 2500);
      }
      for (let i = 0; i < 3; i++) {
        const sticker = document.createElement('div');
        sticker.className = 'sticker';
        sticker.textContent = stickers[i];
        sticker.style.left = `${Math.random() * 80 + 10}%`;
        sticker.style.top = `${Math.random() * 80 + 10}%`;
        sticker.style.animationDelay = `${i * 0.5}s`;
        screen4.appendChild(sticker);
        setTimeout(() => sticker.remove(), 3000);
      }
    }
  </script>
</body>
</html>
